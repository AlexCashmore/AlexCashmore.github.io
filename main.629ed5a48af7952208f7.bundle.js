(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Store_rootStore}));var _dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_dec10,_dec11,_dec12,_dec13,_dec14,_dec15,_dec16,_dec17,_dec18,_dec19,_dec20,_dec21,_dec22,_dec23,_dec24,_dec25,_dec26,_dec27,_dec28,_dec29,_dec30,_dec31,_dec32,_dec33,_dec34,_dec35,_dec36,_dec37,_dec38,_dec39,_dec40,_dec41,_dec42,_dec43,_dec44,_dec45,_dec46,_dec47,_dec48,_dec49,_dec50,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_descriptor13,_descriptor14,_descriptor15,_descriptor16,_descriptor17,_descriptor18,_descriptor19,_descriptor20,_descriptor21,_descriptor22,_descriptor23,_descriptor24,_descriptor25,_descriptor26,_descriptor27,_descriptor28,_descriptor29,_descriptor30,_descriptor31,_descriptor32,_descriptor33,_descriptor34,_descriptor35,_descriptor36,_descriptor37,_descriptor38,_descriptor39,_descriptor40,_descriptor41,_descriptor42,_descriptor43,_descriptor44,_temp,conversationStore_dec,conversationStore_dec2,conversationStore_dec3,conversationStore_dec4,conversationStore_dec5,conversationStore_dec6,conversationStore_dec7,conversationStore_dec8,conversationStore_dec9,conversationStore_dec10,conversationStore_dec11,conversationStore_dec12,conversationStore_dec13,conversationStore_dec14,conversationStore_dec15,conversationStore_dec16,conversationStore_dec17,conversationStore_dec18,conversationStore_dec19,conversationStore_class,conversationStore_descriptor,conversationStore_descriptor2,conversationStore_descriptor3,conversationStore_descriptor4,conversationStore_descriptor5,conversationStore_descriptor6,conversationStore_descriptor7,conversationStore_descriptor8,conversationStore_descriptor9,conversationStore_descriptor10,conversationStore_descriptor11,conversationStore_descriptor12,conversationStore_descriptor13,conversationStore_descriptor14,conversationStore_descriptor15,conversationStore_descriptor16,authStore_dec,authStore_dec2,authStore_dec3,authStore_dec4,authStore_dec5,authStore_dec6,authStore_dec7,authStore_dec8,authStore_dec9,authStore_dec10,authStore_dec11,authStore_dec12,authStore_dec13,authStore_dec14,authStore_dec15,authStore_dec16,authStore_dec17,authStore_dec18,authStore_dec19,authStore_dec20,authStore_dec21,authStore_dec22,authStore_dec23,authStore_dec24,authStore_dec25,authStore_dec26,authStore_dec27,authStore_dec28,authStore_dec29,authStore_dec30,authStore_dec31,authStore_dec32,authStore_dec33,authStore_dec34,authStore_dec35,authStore_dec36,authStore_dec37,authStore_dec38,authStore_dec39,authStore_dec40,authStore_dec41,authStore_dec42,authStore_class,authStore_descriptor,authStore_descriptor2,authStore_descriptor3,authStore_descriptor4,authStore_descriptor5,authStore_descriptor6,authStore_descriptor7,authStore_descriptor8,authStore_descriptor9,authStore_descriptor10,authStore_descriptor11,authStore_descriptor12,authStore_descriptor13,authStore_descriptor14,authStore_descriptor15,authStore_descriptor16,authStore_descriptor17,authStore_descriptor18,authStore_descriptor19,authStore_descriptor20,authStore_descriptor21,authStore_descriptor22,authStore_descriptor23,authStore_descriptor24,authStore_descriptor25,authStore_descriptor26,authStore_descriptor27,authStore_descriptor28,authStore_descriptor29,authStore_descriptor30,authStore_descriptor31,authStore_descriptor32,authStore_descriptor33,authStore_descriptor34,authStore_descriptor35,authStore_descriptor36,authStore_descriptor37,authStore_descriptor38,authStore_descriptor39,authStore_descriptor40,authStore_descriptor41,authStore_descriptor42,authStore_descriptor43,authStore_descriptor44,_descriptor45,_descriptor46,_descriptor47,_descriptor48,_descriptor49,_descriptor50,advisorChatStore_dec,advisorChatStore_dec2,advisorChatStore_dec3,advisorChatStore_dec4,advisorChatStore_dec5,advisorChatStore_dec6,advisorChatStore_dec7,advisorChatStore_dec8,advisorChatStore_dec9,advisorChatStore_dec10,advisorChatStore_dec11,advisorChatStore_dec12,advisorChatStore_dec13,advisorChatStore_dec14,advisorChatStore_dec15,advisorChatStore_dec16,advisorChatStore_dec17,advisorChatStore_class,advisorChatStore_descriptor,advisorChatStore_descriptor2,advisorChatStore_descriptor3,advisorChatStore_descriptor4,advisorChatStore_descriptor5,advisorChatStore_descriptor6,advisorChatStore_descriptor7,advisorChatStore_descriptor8,advisorChatStore_descriptor9,advisorChatStore_descriptor10,advisorChatStore_descriptor11,advisorChatStore_descriptor12,advisorChatStore_descriptor13,advisorChatStore_descriptor14,advisorChatStore_descriptor15,advisorChatStore_descriptor16,advisorChatStore_descriptor17,advisorChatStore_descriptor18,advisorChatStore_descriptor19,advisorChatStore_descriptor20,advisorChatStore_descriptor21,Store_dec,Store_class,Store_descriptor,initializerDefineProperty=__webpack_require__(8),classCallCheck=__webpack_require__(9),createClass=__webpack_require__(10),applyDecoratedDescriptor=__webpack_require__(5),mobx_module=(__webpack_require__(230),__webpack_require__(2)),toConsumableArray=__webpack_require__(199),objectSpread2=__webpack_require__(51),regenerator=__webpack_require__(3),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(7),js_cookie=__webpack_require__(18),js_cookie_default=__webpack_require__.n(js_cookie),firestorter_module=__webpack_require__(198),axios=__webpack_require__(27),axios_default=__webpack_require__.n(axios),esm=__webpack_require__(1536),lib=__webpack_require__(53),lib_default=__webpack_require__.n(lib),network=__webpack_require__(26),apiHelper=__webpack_require__(44),authHelper=__webpack_require__(102),jsonwebtoken=__webpack_require__(197),jsonwebtoken_default=__webpack_require__.n(jsonwebtoken),acquisitionHelper_options={domain:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_COOKIE_DOMAIN,expires:parseInt(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_COOKIE_EXPIRE_DAYS)},acquisitionHelper_getAcquisitionData=function getAcquisitionData(){var query=lib_default.a.parse((window.location.search||"").replace("?","")),getParameterValue=function getParameterValue(name){var value=query[name];return value?js_cookie_default.a.set(name,value,acquisitionHelper_options):value=js_cookie_default.a.get(name),value||null};return{acquisition:{utmSource:getParameterValue("utm_source"),utmMedium:getParameterValue("utm_medium"),utmCampaign:getParameterValue("utm_campaign"),utmTerm:getParameterValue("utm_term"),utmContent:getParameterValue("utm_content")},cat:getParameterValue("cat"),partnerToken:getParameterValue("token")}},updateTokensExpiry=function updateTokensExpiry(tokens){return tokens.expiresAt=Math.floor(Date.now()/1e3)+tokens.expires_in,tokens},refreshTokens=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(apiLinks){var store,backendTokens,headers,body,refreshedTokens;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(store=Store_rootStore.authStore,backendTokens={access_token:store.access_token,id_token:store.id_token,refresh_token:store.refresh_token},headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY))},body={grant_type:"refresh_token",refresh_token:backendTokens.refresh_token},!(Math.floor(Date.now()/1e3)+Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).BACKEND_TOKENS_EXPIRATION_OFFSET_SECONDS>=backendTokens.expiresAt)){_context2.next=11;break}return _context2.next=8,Object(apiHelper.d)(apiLinks.tokens.href,headers,lib_default.a.stringify(body)).then(updateTokensExpiry);case 8:return refreshedTokens=_context2.sent,js_cookie_default.a.set(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_BACKEND_TOKENS_COOKIE_NAME,refreshedTokens,{domain:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_COOKIE_DOMAIN}),_context2.abrupt("return",refreshedTokens);case 11:return _context2.abrupt("return",backendTokens);case 12:case"end":return _context2.stop()}}),_callee2)})));return function refreshTokens(_x3){return _ref2.apply(this,arguments)}}(),userDataHelper_addUserWithXero=function addUserWithXero(user,apiLinks,partnerCustomerTokenInRedirectURL){console.log("creating user X:",partnerCustomerTokenInRedirectURL,user.uid);acquisitionHelper_getAcquisitionData().acquisition;var utm=JSON.parse(js_cookie_default.a.get("utm")),body=JSON.stringify({_embedded:{user:{providerUserId:user.uid,acquisition:utm,partnerToken:partnerCustomerTokenInRedirectURL}}});return Object(apiHelper.d)(apiLinks.users.href,{"Content-Type":"application/hal+json"},body)},userDataHelper_addUser=function addUser(authResult,apiLinks,isInvitation,partnerCustomerTokenInRedirectURL,fields,providerType){if(authResult&&authResult.user&&partnerCustomerTokenInRedirectURL){acquisitionHelper_getAcquisitionData().acquisition;var utm=JSON.parse(js_cookie_default.a.get("utm")),body=JSON.stringify({_embedded:{user:{providerUserId:authResult.uid,acquisition:utm,partnerToken:partnerCustomerTokenInRedirectURL}}});return Object(apiHelper.d)(apiLinks.users.href,{"Content-Type":"application/hal+json"},body)}if(authResult&&authResult.user){var givenName=null,familyName=null,gender=null,providerId=null,idToken=null,authDomain=authResult.user.authDomain||authResult.user.w;authResult.user.providerData&&authResult.user.providerData.length>0&&authResult.user.providerData[0].providerId&&(providerId=authResult.user.providerData[0].providerId),authResult.credential&&(authResult.credential.providerId&&(providerId=providerId||authResult.credential.providerId),authResult.credential.idToken&&(idToken=authResult.credential.idToken)),authResult.additionalUserInfo&&(authResult.additionalUserInfo.providerId&&(providerId=providerId||authResult.additionalUserInfo.providerId),authResult.additionalUserInfo.profile&&(authResult.additionalUserInfo.profile.given_name&&(givenName=authResult.additionalUserInfo.profile.given_name),authResult.additionalUserInfo.profile.first_name&&(givenName=authResult.additionalUserInfo.profile.first_name),authResult.additionalUserInfo.profile.family_name&&(familyName=authResult.additionalUserInfo.profile.family_name),authResult.additionalUserInfo.profile.last_name&&(familyName=authResult.additionalUserInfo.profile.last_name),authResult.additionalUserInfo.profile.gender&&(gender=authResult.additionalUserInfo.profile.gender)));var phoneNumber=authResult.user.phoneNumber;if(authResult.emailSignUp){if(console.log("email signup"),!(authResult.emailSignUp.firstName&&authResult.emailSignUp.lastName&&authResult.emailSignUp.phoneNumber))return console.log("empty"),Promise.reject("Cannot create user from empty auth result.");console.log("valid"),givenName=authResult.emailSignUp.firstName,familyName=authResult.emailSignUp.lastName,phoneNumber=authResult.emailSignUp.phoneNumber}authResult.user.displayName||[givenName,familyName].filter((function(name){return name})).join(" ").trim();var _getAcquisitionData3=acquisitionHelper_getAcquisitionData(),_acquisition=_getAcquisitionData3.acquisition,partnerToken=_getAcquisitionData3.partnerToken;console.log("other");var _body=JSON.stringify({_embedded:{user:{providerUserId:authResult.user.uid,givenName:fields?fields.firstName:givenName,familyName:fields?fields.lastName:familyName,displayName:fields?"".concat(fields.firstName," ").concat(fields.lastName):"".concat(givenName," ").concat(familyName),photoUrl:authResult.user.photoURL,email:authResult.user.email,emailVerified:authResult.user.emailVerified,phoneNumber:phoneNumber||fields.phone,gender:gender,idToken:idToken,providerId:"password"===providerType?providerType:providerId,authDomain:authDomain,extras:authResult.additionalUserInfo||null,acquisition:_acquisition,partnerToken:null,invitationToken:isInvitation?partnerToken:null}}});return Object(apiHelper.d)(apiLinks.users.href,{"Content-Type":"application/hal+json"},_body)}return Promise.reject("Cannot create user from empty auth result.")},userDataHelper_addUserWithGoogle=function addUserWithGoogle(user,apiLinks,isInvitation,partnerCustomerTokenInRedirectURL,fields,providerType){if(user){var givenName=null,familyName=null,gender=null,providerId=null,idToken=null,authDomain=user.authDomain||user.w,displayNameSplit={givenName:user.displayName.split(" ")[0],familyName:user.displayName.split(" ")[1]};user.providerData&&user.providerData.length>0&&user.providerData[0].providerId&&(providerId=user.providerData[0].providerId),user.credential&&(user.credential.providerId&&(providerId=providerId||user.credential.providerId),user.credential.idToken&&(idToken=user.credential.idToken)),user.additionalUserInfo&&(user.additionalUserInfo.providerId&&(providerId=providerId||user.additionalUserInfo.providerId),user.additionalUserInfo.profile&&(user.additionalUserInfo.profile.given_name&&(givenName=user.additionalUserInfo.profile.given_name),user.additionalUserInfo.profile.first_name&&(givenName=user.additionalUserInfo.profile.first_name),user.additionalUserInfo.profile.family_name&&(familyName=user.additionalUserInfo.profile.family_name),user.additionalUserInfo.profile.last_name&&(familyName=user.additionalUserInfo.profile.last_name),user.additionalUserInfo.profile.gender&&(gender=user.additionalUserInfo.profile.gender)));var utm=JSON.parse(js_cookie_default.a.get("utm")),_getAcquisitionData4=(user.displayName||[givenName,familyName].filter((function(name){return name})).join(" ").trim(),acquisitionHelper_getAcquisitionData()),partnerToken=(_getAcquisitionData4.acquisition,_getAcquisitionData4.partnerToken);console.log("other",utm);var body=JSON.stringify({_embedded:{user:{givenName:displayNameSplit.givenName,familyName:displayNameSplit.familyName,displayName:user.displayName,photoUrl:user.photoURL,email:user.email,emailVerified:user.emailVerified,phoneNumber:user.phoneNumber||null,providerUserId:user.uid,gender:gender,idToken:idToken,providerId:user.providerData[0].providerId,authDomain:authDomain,extras:null,acquisition:utm,partnerToken:null,invitationToken:isInvitation?partnerToken:null}}});return Object(apiHelper.d)(apiLinks.users.href,{"Content-Type":"application/hal+json"},body)}return Promise.reject("Cannot create user from empty auth result.")},getUser=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(apiLinks,userId,updatedTokens){var backendTokens,headers,userResponse,userDetails,_backendTokens,_headers2,_userResponse,_userDetails;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,refreshTokens(apiLinks);case 2:return backendTokens=_context.sent,headers={Authorization:"Bearer ".concat(backendTokens.access_token)},updatedTokens&&(headers={Authorization:"Bearer ".concat(updatedTokens.access_token)}),_context.prev=5,_context.next=8,Object(apiHelper.b)("".concat(apiLinks.users.href,"/").concat(userId),headers);case 8:return userResponse=_context.sent,userDetails=userResponse._embedded.userDetails,_context.abrupt("return",userDetails);case 13:return _context.prev=13,_context.t0=_context.catch(5),console.log("retry"),_context.next=18,Object(network.g)(apiLinks,{refresh_token:Store_rootStore.authStore.persistRefreshToken});case 18:return _backendTokens=_context.sent,_headers2={Authorization:"Bearer ".concat(_backendTokens.access_token)},_context.next=22,Object(apiHelper.b)("".concat(apiLinks.users.href,"/").concat(userId),_headers2);case 22:return _userResponse=_context.sent,_userDetails=_userResponse._embedded.userDetails,_context.abrupt("return",_userDetails);case 25:case"end":return _context.stop()}}),_callee,null,[[5,13]])})));return function getUser(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),checkUserExists=function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(apiLinks,userId){return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",Object(apiHelper.c)("".concat(apiLinks.users.href,"/").concat(userId)).then((function(){return!0})).catch((function(){return!1})));case 1:case"end":return _context4.stop()}}),_callee4)})));return function checkUserExists(_x6,_x7){return _ref4.apply(this,arguments)}}(),businessService_BusinessService=(__webpack_require__(677).PhoneNumberFormat,__webpack_require__(677).PhoneNumberUtil.getInstance(),function(){function BusinessService(){Object(classCallCheck.a)(this,BusinessService)}var _editUserDetails,_editBusinessConfiguration,_initializeBusiness,_getBusinessDetails,_editBusinessDetails,_updateInfo,_autoCompletePlaces,_disconnectBusiness,_getConnectionProfileData,_getPracticeAdvisors,_removeAdvisorFromBusiness,_addAdvisorToBusiness,_getBusinessesFromAdvisor,_getAdvisorsFromBusiness,_getBusinessUsers,_resendInviteAsAdvisor,_resendInvite,_inviteUserFromSuggested,_inviteAdvisor,_confirmSubscription,_cancelSubscription,_deleteSubscription,_fetchSubscription,_initiateSubscription,_activateSubscription,_inviteUser,_createBusinessFromXeroConnection,_fetchBusinessDataWithUserId,_fetchBusinessAccessTokens,_fetchBusinessData,_fetchPracticeId,_fetchBusinessInviteList,_fetchAdvisorInvitationList,_fetchPendingInviteCount,_fetchFullBusinessInviteList,_getBusinessApps,_pingProxyServer,_refreshPracticeCredentials;return Object(createClass.a)(BusinessService,null,[{key:"refreshPracticeCredentials",value:(_refreshPracticeCredentials=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var practiceId,user,idToken,businessLink,headers,body,backendTokens;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,console.log("_R",Object(mobx_module.toJS)(Store_rootStore.authStore.practiceTokenExpiry),Object(mobx_module.toJS)(Store_rootStore.authStore.persistExpiry),Math.floor(Date.now()/1e3)),!(Store_rootStore.authStore.persistExpiry>Math.floor(Date.now()/1e3))){_context.next=7;break}return console.log(">>>"),_context.abrupt("return",{access_token:Store_rootStore.authStore.persistAccessToken,id_token:Store_rootStore.authStore.persistIdToken,expiresAt:Store_rootStore.authStore.persistExpiry});case 7:if(!(Store_rootStore.authStore.practiceTokenExpiry>Math.floor(Date.now()/1e3))){_context.next=12;break}return console.log(">>"),_context.abrupt("return",Store_rootStore.authStore.practiceTokens);case 12:return console.log("||"),practiceId=Store_rootStore.businessStore.practiceId.id,user=Store_rootStore.authStore.user,_context.next=17,user.getIdToken();case 17:return idToken=_context.sent,businessLink=Store_rootStore.authStore.links.businesses.href,Store_rootStore.authStore.links.tokens.href,headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(businessLink,"/").concat(practiceId)},_context.next=24,Object(apiHelper.d)(Store_rootStore.authStore.links.tokens.href,headers,lib_default.a.stringify(body));case 24:return backendTokens=_context.sent,Store_rootStore.authStore.storeAdvisorTokensAndUpdateExpiry(backendTokens),_context.abrupt("return",backendTokens);case 27:_context.next=32;break;case 29:_context.prev=29,_context.t0=_context.catch(0),esm.a(_context.t0);case 32:case"end":return _context.stop()}}),_callee,null,[[0,29]])}))),function refreshPracticeCredentials(){return _refreshPracticeCredentials.apply(this,arguments)})},{key:"pingProxyServer",value:(_pingProxyServer=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){var res;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,axios_default()({method:"get",url:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_PROXY_URL});case 3:return res=_context2.sent,_context2.abrupt("return",res);case 7:return _context2.prev=7,_context2.t0=_context2.catch(0),console.log(_context2.t0),_context2.abrupt("return",!1);case 11:case"end":return _context2.stop()}}),_callee2,null,[[0,7]])}))),function pingProxyServer(){return _pingProxyServer.apply(this,arguments)})},{key:"getBusinessApps",value:(_getBusinessApps=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(links,accessToken,id){var configResponse;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,Object(network.d)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/recommendations/apps"),{Authorization:"Bearer ".concat(accessToken)});case 3:return configResponse=_context3.sent,console.log("BUSINESSAPPS",configResponse),Store_rootStore.businessStore.setBusinessDetailApps(configResponse._embedded.recommendations,id),_context3.abrupt("return",Store_rootStore.businessStore.setBusinessApps(configResponse._embedded.recommendations));case 9:_context3.prev=9,_context3.t0=_context3.catch(0);case 11:case"end":return _context3.stop()}}),_callee3,null,[[0,9]])}))),function getBusinessApps(_x,_x2,_x3){return _getBusinessApps.apply(this,arguments)})},{key:"fetchFullBusinessInviteList",value:(_fetchFullBusinessInviteList=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(links,businessId,token,initial){var accessToken,tokens,url;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(accessToken=token,initial){_context4.next=6;break}return _context4.next=4,Store_rootStore.businessStore.refreshTokensIfExpired(businessId);case 4:tokens=_context4.sent,accessToken=tokens.access_token;case 6:Store_rootStore.businessStore.setLoading(!0),url="".concat(links.businesses.href,"/").concat(businessId,"/invitations"),Object(network.d)(url,{Authorization:"Bearer ".concat(accessToken)}).then((function(data){if(!data||0===data.length)return Store_rootStore.businessStore.storeInvitationListSplit([[]]),Store_rootStore.businessStore.setLoading(!1),[[]];Store_rootStore.businessStore.setLoading(!1);var invitationList=data._embedded.businessInvitations;return Store_rootStore.businessStore.storeInvitationListSplit(invitationList),invitationList}),(function(error){return console.log("err:",error),Store_rootStore.businessStore.storeInvitationListSplit([[]]),Store_rootStore.registerGAEvent("otherError"),Store_rootStore.businessStore.setLoading(!1),[[]]})).catch((function(e){return esm.a(e),console.log("error:",e),Store_rootStore.businessStore.storeInvitationList([[]]),Store_rootStore.businessStore.setLoading(!1),[[]]}));case 10:case"end":return _context4.stop()}}),_callee4)}))),function fetchFullBusinessInviteList(_x4,_x5,_x6,_x7){return _fetchFullBusinessInviteList.apply(this,arguments)})},{key:"fetchPendingInviteCount",value:(_fetchPendingInviteCount=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee5(links,businessId,token,initial){var accessToken,tokens,url;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(accessToken=token,initial){_context5.next=6;break}return _context5.next=4,Store_rootStore.businessStore.refreshTokensIfExpired(businessId);case 4:tokens=_context5.sent,accessToken=tokens.access_token;case 6:Store_rootStore.businessStore.setLoading(!0),url="".concat(links.businesses.href,"/").concat(businessId,"/invitations"),Object(network.d)(url,{Authorization:"Bearer ".concat(accessToken)}).then((function(data){if(!data||0===data.length)return Store_rootStore.businessStore.storeInvitationCount([[]],businessId),Store_rootStore.businessStore.setLoading(!1),[[]];Store_rootStore.businessStore.setLoading(!1);var invitationList=data._embedded.businessInvitations;return Store_rootStore.businessStore.storeInvitationCount(invitationList,businessId),invitationList}),(function(error){return console.log("err:",error),Store_rootStore.businessStore.storeInvitationCount([[]],businessId),Store_rootStore.registerGAEvent("otherError"),Store_rootStore.businessStore.setLoading(!1),[[]]})).catch((function(e){return esm.a(e),console.log("error:",e),Store_rootStore.businessStore.storeInvitationCount([[]],businessId),Store_rootStore.businessStore.setLoading(!1),[[]]}));case 10:case"end":return _context5.stop()}}),_callee5)}))),function fetchPendingInviteCount(_x8,_x9,_x10,_x11){return _fetchPendingInviteCount.apply(this,arguments)})},{key:"fetchAdvisorInvitationList",value:(_fetchAdvisorInvitationList=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee6(){var businesses,businessId,url,_yield$BusinessServic,access_token;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return Store_rootStore.conversationStore.setResponseLoading(!0),businesses=Store_rootStore.authStore.links.businesses,businessId=Store_rootStore.businessStore.practiceId.id,url="".concat(businesses.href,"/").concat(businessId,"/invitations"),_context6.next=7,BusinessService.refreshPracticeCredentials();case 7:_yield$BusinessServic=_context6.sent,access_token=_yield$BusinessServic.access_token,Object(network.d)(url,{Authorization:"Bearer ".concat(access_token)}).then((function(data){if(console.log("fetchAdvisorInvitationList",data),!data||0===data.length)return Store_rootStore.businessStore.storeAdvisorInvitations([[]]),Store_rootStore.conversationStore.setResponseLoading(!1),[[]];Store_rootStore.conversationStore.setResponseLoading(!1);var invitationList=data._embedded.businessInvitations;return Store_rootStore.businessStore.storeAdvisorInvitations(invitationList),invitationList}),(function(error){return console.log("err:",error),Store_rootStore.businessStore.storeAdvisorInvitations([[]]),Store_rootStore.registerGAEvent("otherError"),Store_rootStore.conversationStore.setResponseLoading(!1),[[]]})).catch((function(e){return esm.a(e),console.log("error:",e),Store_rootStore.businessStore.storeAdvisorInvitations([[]]),Store_rootStore.conversationStore.setResponseLoading(!1),[[]]}));case 10:case"end":return _context6.stop()}}),_callee6)}))),function fetchAdvisorInvitationList(){return _fetchAdvisorInvitationList.apply(this,arguments)})},{key:"fetchBusinessInviteList",value:(_fetchBusinessInviteList=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee7(links,businessId,token,initial){var accessToken,tokens,url;return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(accessToken=token,initial){_context7.next=6;break}return _context7.next=4,Store_rootStore.businessStore.refreshTokensIfExpired(businessId);case 4:tokens=_context7.sent,accessToken=tokens.access_token;case 6:Store_rootStore.businessStore.setLoading(!0),url="".concat(links.businesses.href,"/").concat(businessId,"/invitations/recommendations"),Object(network.d)(url,{Authorization:"Bearer ".concat(accessToken)}).then((function(data){if(!data||0===data.length)return Store_rootStore.businessStore.storeInvitationList([[]]),Store_rootStore.businessStore.setLoading(!1),[[]];Store_rootStore.businessStore.setLoading(!1);var invitationList=data._embedded.recommendedBusinessInvitations;return Store_rootStore.businessStore.storeInvitationList(invitationList),invitationList}),(function(error){return console.log("err:",error),Store_rootStore.businessStore.storeInvitationList([[]]),Store_rootStore.registerGAEvent("otherError"),Store_rootStore.businessStore.setLoading(!1),[[]]})).catch((function(e){return esm.a(e),console.log("error:",e),Store_rootStore.businessStore.storeInvitationList([[]]),Store_rootStore.businessStore.setLoading(!1),[[]]}));case 10:case"end":return _context7.stop()}}),_callee7)}))),function fetchBusinessInviteList(_x12,_x13,_x14,_x15){return _fetchBusinessInviteList.apply(this,arguments)})},{key:"fetchPracticeId",value:(_fetchPracticeId=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee8(links,access_token){return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.abrupt("return",Object(network.d)("".concat(links.businesses.href,"/"),{Authorization:"Bearer ".concat(access_token)}).then((function(data){data||window.location.reload(!0),data&&data.count;var practiceId=data._embedded.businesses.filter((function(i){return"management"===i.businessClass}))[0];return practiceId?(Store_rootStore.businessStore.setPracticeId(practiceId),practiceId):null}),(function(error){console.log("err:",error)})));case 1:case"end":return _context8.stop()}}),_callee8)}))),function fetchPracticeId(_x16,_x17){return _fetchPracticeId.apply(this,arguments)})},{key:"fetchBusinessData",value:(_fetchBusinessData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee9(links,access_token){return regenerator_default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:Object(network.d)("".concat(links.businesses.href,"/"),{Authorization:"Bearer ".concat(access_token)}).then((function(data){if(!data)return window.location.reload(!0);data&&0===data.count&&Store_rootStore.authStore.setLoading(!1),Store_rootStore.authStore.setShallowLoader(!1),Store_rootStore.authStore.setLoading(!1),Store_rootStore.businessStore.storeData(data).then((function(){}),(function(){}))}),(function(error){console.log("err:",error),Store_rootStore.registerGAEvent("otherError")}));case 2:case"end":return _context9.stop()}}),_callee9)}))),function fetchBusinessData(_x18,_x19){return _fetchBusinessData.apply(this,arguments)})},{key:"fetchBusinessAccessTokens",value:(_fetchBusinessAccessTokens=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee10(links,access_token,id_token){var userId,token;return regenerator_default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return userId=Store_rootStore.authStore.user.uid,_context10.next=3,Store_rootStore.authStore.user.getIdToken();case 3:if(token=_context10.sent,!Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_GATEWAY_ENDPOINT){_context10.next=8;break}return _context10.abrupt("return",axios_default()({method:"get",url:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_GATEWAY_ENDPOINT}).then((function(res){return axios_default()({method:"post",url:res.data._links.businesses.href.replace("{?userId}",userId),headers:{Authorization:"Bearer ".concat(access_token)},data:{token:token}}).then((function(data){if(!data)return window.location.reload(!0);Store_rootStore.businessStore.storeData(data.data).then((function(){Store_rootStore.authStore.setShallowLoader(!1),Store_rootStore.authStore.setLoading(!1)}),(function(){}))})).catch((function(e){console.log("e",e)}))})));case 8:return _context10.t0=axios_default.a,_context10.t1="https://business-service-dot-aider-ai-staging.appspot.com/api/v1/users/".concat(Store_rootStore.authStore.user.uid,"/businesses"),_context10.t2={Authorization:"Bearer ".concat(access_token)},_context10.next=13,Store_rootStore.authStore.user.getIdToken();case 13:return _context10.t3=_context10.sent,_context10.t4={token:_context10.t3},_context10.t5={method:"post",url:_context10.t1,headers:_context10.t2,data:_context10.t4},_context10.abrupt("return",(0,_context10.t0)(_context10.t5).then((function(data){if(!data)return window.location.reload(!0);Store_rootStore.businessStore.storeData(data.data).then((function(){Store_rootStore.authStore.setShallowLoader(!1),Store_rootStore.authStore.setLoading(!1)}),(function(){}))})).catch((function(e){console.log("e",e)})));case 17:case"end":return _context10.stop()}}),_callee10)}))),function fetchBusinessAccessTokens(_x20,_x21,_x22){return _fetchBusinessAccessTokens.apply(this,arguments)})},{key:"fetchBusinessDataWithUserId",value:(_fetchBusinessDataWithUserId=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee11(links,access_token){return regenerator_default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:Object(network.d)("https://business-service-dot-aider-ai-staging.appspot.com/api/v1/users/".concat(Store_rootStore.authStore.user.uid,"/businesses"),{Authorization:"Bearer ".concat(access_token)}).then((function(data){if(!data)return window.location.reload(!0);Store_rootStore.businessStore.storeData(data).then((function(){Store_rootStore.authStore.setShallowLoader(!1),Store_rootStore.authStore.setLoading(!1)}),(function(){}))}),(function(error){console.log("err:",error),Store_rootStore.registerGAEvent("otherError")}));case 2:case"end":return _context11.stop()}}),_callee11)}))),function fetchBusinessDataWithUserId(_x23,_x24){return _fetchBusinessDataWithUserId.apply(this,arguments)})},{key:"createBusinessFromXeroConnection",value:(_createBusinessFromXeroConnection=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee12(links,access_token,businessParameters,practiceId){var newBusinessData;return regenerator_default.a.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return Store_rootStore.authStore.setLoading(!0),Store_rootStore.authStore.setLoadingContent(["Creating A New Business...","Establishing Connection...","Waiting for Connection Status..."]),newBusinessData={name:businessParameters.name,area:businessParameters.area,countryCode:businessParameters.countryCode,timeZoneId:businessParameters.timeZoneId,phoneNumber:businessParameters.phoneNumber,address:businessParameters.address,creatorRole:"advisor"},practiceId&&(newBusinessData.managedBy=practiceId.id),_context12.abrupt("return",axios_default()({method:"post",url:"".concat(links.businesses.href,"/"),data:{_embedded:{business:newBusinessData}},headers:{Authorization:"Bearer ".concat(access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return console.log(".newBusiness@",res),res})).catch((function(e){if(esm.a(e),e.response.data&&e.response.data._embedded&&"PAYMENT_REQUIRED"===e.response.data._embedded.error.code)return console.log(e.response.data._embedded.error.message),Store_rootStore.authStore.renderFallbackPaymentModal(!0),Store_rootStore.authStore.setLoading(!1);console.log("error creating business from xero connection",e.response.data.code)})));case 5:case"end":return _context12.stop()}}),_callee12)}))),function createBusinessFromXeroConnection(_x25,_x26,_x27,_x28){return _createBusinessFromXeroConnection.apply(this,arguments)})},{key:"inviteUser",value:(_inviteUser=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee13(links,access_token,businessId,fields){var tokens,resolvedFieldInput;return regenerator_default.a.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context13.sent,resolvedFieldInput=fields.map((function(fieldSet){return{givenName:fieldSet.givenName.split(" ")[0],familyName:fieldSet.givenName.split(" ")[1],displayName:fieldSet.givenName,email:fieldSet.emailAddress,roleKey:"admin"}})),_context13.abrupt("return",axios_default()({method:"post",url:"".concat(links.businesses.href,"/").concat(businessId,"/invitations"),data:{_embedded:{businessInvitations:resolvedFieldInput}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){res.data._embedded.invitations[0].status="invited",BusinessService.fetchFullBusinessInviteList(links,businessId,access_token,!0),Store_rootStore.businessStore.renderClientConfirmationWindow(!0)})).catch((function(e){esm.a(e),console.log("error inviting user to business",e)})));case 5:case"end":return _context13.stop()}}),_callee13)}))),function inviteUser(_x29,_x30,_x31,_x32){return _inviteUser.apply(this,arguments)})},{key:"activateSubscription",value:(_activateSubscription=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee14(links,sourceToken,promo){var user,practiceId,idToken,headers,body,backendTokens;return regenerator_default.a.wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return user=Store_rootStore.authStore.user,practiceId=Store_rootStore.businessStore.practiceId.id,_context14.next=4,user.getIdToken();case 4:return idToken=_context14.sent,headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(links.businesses.href,"/").concat(practiceId)},_context14.next=9,Object(apiHelper.d)(links.tokens.href,headers,lib_default.a.stringify(body));case 9:return backendTokens=_context14.sent,_context14.abrupt("return",axios_default()({method:"post",url:"".concat(links.subscriptions.href),data:{_embedded:{subscription:{sourceToken:sourceToken,planId:"abcd1234",promoCode:promo}}},headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.businessStore.renderConfirmationWindow(!0)})).catch((function(e){esm.a(e),console.log("error inviting user to business",e)})));case 11:case"end":return _context14.stop()}}),_callee14)}))),function activateSubscription(_x33,_x34,_x35){return _activateSubscription.apply(this,arguments)})},{key:"initiateSubscription",value:(_initiateSubscription=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee15(){var user,practiceId,idToken,headers,businessLink,tokenLink,body,backendTokens;return regenerator_default.a.wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return user=Store_rootStore.authStore.user,practiceId=Store_rootStore.businessStore.practiceId.id,_context15.next=4,user.getIdToken();case 4:return idToken=_context15.sent,headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},businessLink=Store_rootStore.authStore.links.businesses.href,tokenLink=Store_rootStore.authStore.links.tokens.href,body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(businessLink,"/").concat(practiceId)},_context15.next=11,Object(apiHelper.d)(tokenLink,headers,lib_default.a.stringify(body));case 11:return backendTokens=_context15.sent,Store_rootStore.authStore.setTokens(backendTokens.access_token,backendTokens.refresh_token,backendTokens.id_token),_context15.abrupt("return",axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_DOMAIN,"/api/v2/subscriptions"),headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.businessStore.storeInitSubscription(res.data._links),!0})).catch((function(e){return Store_rootStore.authStore.renderSubscriptionCreationError(e.message),console.log("couldnt initiate",e),!1})));case 14:case"end":return _context15.stop()}}),_callee15)}))),function initiateSubscription(){return _initiateSubscription.apply(this,arguments)})},{key:"fetchSubscription",value:(_fetchSubscription=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee16(links,token){var user,practiceId,idToken,headers,businessLink,tokenLink,body,backendTokens;return regenerator_default.a.wrap((function _callee16$(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return user=Store_rootStore.authStore.user,practiceId=Store_rootStore.businessStore.practiceId.id,_context16.next=4,user.getIdToken();case 4:return idToken=_context16.sent,headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},businessLink=Store_rootStore.authStore.links.businesses.href,tokenLink=Store_rootStore.authStore.links.tokens.href,body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(businessLink,"/").concat(practiceId)},_context16.next=11,Object(apiHelper.d)(tokenLink,headers,lib_default.a.stringify(body));case 11:return backendTokens=_context16.sent,_context16.abrupt("return",axios_default()({method:"get",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_DOMAIN,"/api/v2/subscriptions?businessId=").concat(practiceId),headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.businessStore.storeSubscription(res)})).catch((function(e){esm.a(e),console.log("error inviting user to business",e)})));case 13:case"end":return _context16.stop()}}),_callee16)}))),function fetchSubscription(_x36,_x37){return _fetchSubscription.apply(this,arguments)})},{key:"deleteSubscription",value:(_deleteSubscription=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee17(){var user,practiceId,idToken,headers,businessLink,tokenLink,body,backendTokens;return regenerator_default.a.wrap((function _callee17$(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return user=Store_rootStore.authStore.user,practiceId=Store_rootStore.businessStore.practiceId.id,_context17.next=4,user.getIdToken();case 4:return idToken=_context17.sent,headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},businessLink=Store_rootStore.authStore.links.businesses.href,tokenLink=Store_rootStore.authStore.links.tokens.href,body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(businessLink,"/").concat(practiceId)},_context17.next=11,Object(apiHelper.d)(tokenLink,headers,lib_default.a.stringify(body));case 11:return backendTokens=_context17.sent,_context17.prev=12,_context17.abrupt("return",axios_default()({method:"delete",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_DOMAIN,"/api/v2/subscriptions"),headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){Store_rootStore.businessStore.fetchSubscription(Store_rootStore.authStore.links,backendTokens.access_token),Store_rootStore.authStore.renderSubscriptionCancellation("cancelled")})).catch((function(e){console.log("error deleting subscription",e),Store_rootStore.authStore.renderSubscriptionCancellation("failed")})));case 16:_context17.prev=16,_context17.t0=_context17.catch(12),console.log(_context17.t0),Store_rootStore.authStore.renderSubscriptionCancellation("failed");case 20:case"end":return _context17.stop()}}),_callee17,null,[[12,16]])}))),function deleteSubscription(){return _deleteSubscription.apply(this,arguments)})},{key:"cancelSubscription",value:(_cancelSubscription=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee18(){var tokens,cancelURL;return regenerator_default.a.wrap((function _callee18$(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return _context18.next=2,BusinessService.refreshPracticeCredentials();case 2:if(tokens=_context18.sent,!(cancelURL=Store_rootStore.businessStore.initSubscription.cancel?Store_rootStore.businessStore.initSubscription.cancel.href:null)){_context18.next=8;break}axios_default()({method:"post",url:"".concat(cancelURL),data:{_embedded:{subscriptionPurchase:{paymentProvider:{providerKey:"stripe",externalId:"ai.aider.subscription.premium"},cancellationReason:"cancelled_by_user"}}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){Store_rootStore.authStore.hasExceededQuota(!1),console.log(res)})).catch((function(e){Store_rootStore.authStore.hasExceededQuota(!1)})),_context18.next=9;break;case 8:return _context18.abrupt("return",Store_rootStore.authStore.hasExceededQuota(!1));case 9:case"end":return _context18.stop()}}),_callee18)}))),function cancelSubscription(){return _cancelSubscription.apply(this,arguments)})},{key:"confirmSubscription",value:(_confirmSubscription=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee19(links,stripeToken,promoCode){var backendTokens,confirmURL;return regenerator_default.a.wrap((function _callee19$(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:return _context19.next=2,BusinessService.refreshPracticeCredentials();case 2:backendTokens=_context19.sent;try{confirmURL=Store_rootStore.businessStore.initSubscription.confirm.href,axios_default()({method:"put",url:"".concat(confirmURL),data:{_embedded:{subscriptionPurchase:{paymentProvider:{providerKey:"stripe",externalId:"ai.aider.subscription.premium"},confirmationPayload:stripeToken.id,promoCode:promoCode}}},headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.authStore.hasExceededQuota(!1),Store_rootStore.businessStore.fetchSubscription(Store_rootStore.authStore.links,backendTokens.access_token),Store_rootStore.authStore.renderPaymentConfirmation(!0),res})).catch((function(e){console.log(e.message,e.response),Store_rootStore.authStore.hasExceededQuota(!1),esm.a(e),e.response.data&&e.response.data._embedded&&"string"==typeof e.response.data._embedded.error.message?"Incorrect promotion configured for"===e.response.data._embedded.error.message.replace(" ".concat(promoCode),"")?Store_rootStore.authStore.renderSubscriptionCreationError("Sorry! We couldn't recognize that promotional code."):Store_rootStore.authStore.renderSubscriptionCreationError(e.response.data._embedded.error.message):(Store_rootStore.authStore.renderSubscriptionCreationError("Oops! something went wrong. We'll be in touch soon to sort it out."),esm.b("user subscription failure. user: ".concat(JSON.stringify(Store_rootStore.authStore.practiceUser.user)," // ").concat(Store_rootStore.businessStore.subscription.id)))}))}catch(e){console.log(e.message,e.response.data),Store_rootStore.authStore.hasExceededQuota(!1),esm.a(e),Store_rootStore.authStore.renderSubscriptionCreationError("Error contacting payment server, please try again later")}case 4:case"end":return _context19.stop()}}),_callee19)}))),function confirmSubscription(_x38,_x39,_x40){return _confirmSubscription.apply(this,arguments)})},{key:"inviteAdvisor",value:(_inviteAdvisor=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee20(links,access_token,businessId,fields){var practiceId,backendTokens,givenName,familyName,data;return regenerator_default.a.wrap((function _callee20$(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:return Store_rootStore.conversationStore.setResponseLoading(!0),practiceId=Store_rootStore.businessStore.practiceId.id,_context20.next=4,BusinessService.refreshPracticeCredentials();case 4:return backendTokens=_context20.sent,givenName=fields.givenName.split(" ")[0],familyName=fields.givenName.split(" ")[1],data={givenName:givenName,familyName:familyName,displayName:fields.givenName,email:fields.emailAddress,roleKey:"practice_user"},_context20.abrupt("return",axios_default()({method:"post",url:"".concat(links.businesses.href,"/").concat(practiceId,"/invitations"),data:{_embedded:{businessInvitations:[data]}},headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){Store_rootStore.businessStore.fetchAdvisorInvitationList(),Store_rootStore.conversationStore.setResponseLoading(!1),Store_rootStore.businessStore.renderConfirmationWindow(!0,data)})).catch((function(e){esm.a(e),console.log("error inviting user to practice",e),Store_rootStore.conversationStore.setResponseLoading(!1)})));case 9:case"end":return _context20.stop()}}),_callee20)}))),function inviteAdvisor(_x41,_x42,_x43,_x44){return _inviteAdvisor.apply(this,arguments)})},{key:"inviteUserFromSuggested",value:(_inviteUserFromSuggested=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee21(links,access_token,businessId,givenName,familyName,email){var tokens,resolvedFieldInput;return regenerator_default.a.wrap((function _callee21$(_context21){for(;;)switch(_context21.prev=_context21.next){case 0:return _context21.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context21.sent,resolvedFieldInput=[{givenName:givenName,familyName:familyName,displayName:"".concat(givenName," ").concat(familyName),email:email,roleKey:"admin"}],_context21.abrupt("return",axios_default()({method:"post",url:"".concat(links.businesses.href,"/").concat(businessId,"/invitations"),data:{_embedded:{businessInvitations:resolvedFieldInput}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.businessStore.renderClientConfirmationWindow(!0)})).catch((function(e){esm.a(e),console.log("error inviting user to business",e)})));case 5:case"end":return _context21.stop()}}),_callee21)}))),function inviteUserFromSuggested(_x45,_x46,_x47,_x48,_x49,_x50){return _inviteUserFromSuggested.apply(this,arguments)})},{key:"resendInvite",value:(_resendInvite=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee22(links,access_token,invitationId,businessId){var tokens;return regenerator_default.a.wrap((function _callee22$(_context22){for(;;)switch(_context22.prev=_context22.next){case 0:return _context22.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context22.sent,_context22.abrupt("return",axios_default()({method:"post",url:"".concat(links.businesses.href,"/").concat(businessId,"/invitations/").concat(invitationId,"/resend"),data:{},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.businessStore.renderClientConfirmationWindow(!0)})).catch((function(e){esm.a(e),console.log("error inviting user to business",e)})));case 4:case"end":return _context22.stop()}}),_callee22)}))),function resendInvite(_x51,_x52,_x53,_x54){return _resendInvite.apply(this,arguments)})},{key:"resendInviteAsAdvisor",value:(_resendInviteAsAdvisor=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee23(links,access_token,invitationId,businessId){var tokens;return regenerator_default.a.wrap((function _callee23$(_context23){for(;;)switch(_context23.prev=_context23.next){case 0:return Store_rootStore.conversationStore.setResponseLoading(!0),_context23.next=3,BusinessService.refreshPracticeCredentials();case 3:return tokens=_context23.sent,_context23.abrupt("return",axios_default()({method:"post",url:"".concat(links.businesses.href,"/").concat(businessId,"/invitations/").concat(invitationId,"/resend"),data:{},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.conversationStore.setResponseLoading(!1),Store_rootStore.businessStore.renderClientConfirmationWindow(!0)})).catch((function(e){esm.a(e),Store_rootStore.conversationStore.setResponseLoading(!1),console.log("error inviting user to business",e)})));case 5:case"end":return _context23.stop()}}),_callee23)}))),function resendInviteAsAdvisor(_x55,_x56,_x57,_x58){return _resendInviteAsAdvisor.apply(this,arguments)})},{key:"getBusinessUsers",value:(_getBusinessUsers=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee24(links,access_token,business){return regenerator_default.a.wrap((function _callee24$(_context24){for(;;)switch(_context24.prev=_context24.next){case 0:return _context24.abrupt("return",axios_default()({method:"get",url:"".concat(links.businesses.href,"/").concat(business.id,"/users"),data:{},headers:{Authorization:"Bearer ".concat(access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.businessStore.updateBusinessListUsers(business.id,res.data._embedded),res.data})).catch((function(e){esm.a(e),console.log("error getting detail to business",e)})));case 1:case"end":return _context24.stop()}}),_callee24)}))),function getBusinessUsers(_x59,_x60,_x61){return _getBusinessUsers.apply(this,arguments)})},{key:"getAdvisorsFromBusiness",value:(_getAdvisorsFromBusiness=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee25(links){var practiceId,user,idToken,headers,body,backendTokens;return regenerator_default.a.wrap((function _callee25$(_context25){for(;;)switch(_context25.prev=_context25.next){case 0:return practiceId=Store_rootStore.businessStore.practiceId.id,user=Store_rootStore.authStore.user,_context25.next=4,user.getIdToken();case 4:return idToken=_context25.sent,headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(links.businesses.href,"/").concat(practiceId)},_context25.next=9,Object(apiHelper.d)(Store_rootStore.authStore.links.tokens.href,headers,lib_default.a.stringify(body));case 9:return backendTokens=_context25.sent,_context25.abrupt("return",axios_default()({method:"get",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/").concat(Store_rootStore.businessStore.selectedBusinessId,"/advisors"),data:{_embedded:{advisors:{validAdvisors:[{id:"advisorId",name:"Advisor Name"}],currentAdvisors:[{id:"advisorId",name:"advisorName"}]}}},headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}));case 11:case"end":return _context25.stop()}}),_callee25)}))),function getAdvisorsFromBusiness(_x62){return _getAdvisorsFromBusiness.apply(this,arguments)})},{key:"getBusinessesFromAdvisor",value:(_getBusinessesFromAdvisor=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee26(links,advisorId){var practiceId,user,backendTokens;return regenerator_default.a.wrap((function _callee26$(_context26){for(;;)switch(_context26.prev=_context26.next){case 0:return console.log(advisorId),practiceId=Store_rootStore.businessStore.practiceId.id,user=Store_rootStore.authStore.user,_context26.next=5,user.getIdToken();case 5:return _context26.sent,"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY))),"".concat(links.businesses.href,"/").concat(practiceId),backendTokens=Store_rootStore.authStore.advisorTokens,_context26.abrupt("return",axios_default()({method:"get",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/practices/advisors/").concat(advisorId,"/clients"),headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){console.log("businesses from advisor:",res),Store_rootStore.businessStore.storeAdvisorsClients(res.data._embedded.clients)}),(function(rej){console.log("rej",rej),Store_rootStore.businessStore.storeAdvisorsClients({currentClients:[],validClients:[]})})));case 10:case"end":return _context26.stop()}}),_callee26)}))),function getBusinessesFromAdvisor(_x63,_x64){return _getBusinessesFromAdvisor.apply(this,arguments)})},{key:"addAdvisorToBusiness",value:(_addAdvisorToBusiness=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee27(links,addToBusinessArray,advisorId){var addToBusinessArrayProcessed,practiceId,backendTokens;return regenerator_default.a.wrap((function _callee27$(_context27){for(;;)switch(_context27.prev=_context27.next){case 0:return _context27.prev=0,addToBusinessArrayProcessed=addToBusinessArray.map((function(i){return{clientBusinessId:i,advisorUserId:advisorId.id}})),practiceId=Store_rootStore.businessStore.practiceId.id,_context27.next=5,BusinessService.refreshPracticeCredentials();case 5:return backendTokens=_context27.sent,_context27.abrupt("return",axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/practices/").concat(practiceId,"/clients/advisors"),data:{_embedded:{advisorAddRequests:addToBusinessArrayProcessed}},headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).catch((function(e){console.log("err",e)})));case 9:_context27.prev=9,_context27.t0=_context27.catch(0),console.log("error with advisors",_context27.t0);case 12:case"end":return _context27.stop()}}),_callee27,null,[[0,9]])}))),function addAdvisorToBusiness(_x65,_x66,_x67){return _addAdvisorToBusiness.apply(this,arguments)})},{key:"removeAdvisorFromBusiness",value:(_removeAdvisorFromBusiness=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee28(links,addToBusinessArray,advisorId,fullArray){var fullArrayMappedToId,processedFullArrayForSubtraction,practiceId,backendTokens;return regenerator_default.a.wrap((function _callee28$(_context28){for(;;)switch(_context28.prev=_context28.next){case 0:return _context28.prev=0,fullArrayMappedToId=fullArray.map((function(i){return i.id})),console.log("Full array:",fullArrayMappedToId),processedFullArrayForSubtraction=fullArrayMappedToId.filter((function(x){return!addToBusinessArray.includes(x)})).map((function(i){return{clientBusinessId:i,advisorUserId:advisorId.id}})),console.log("---",processedFullArrayForSubtraction),practiceId=Store_rootStore.businessStore.practiceId.id,_context28.next=8,BusinessService.refreshPracticeCredentials();case 8:return backendTokens=_context28.sent,_context28.abrupt("return",axios_default()({method:"delete",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/practices/").concat(practiceId,"/clients/advisors"),data:{_embedded:{advisorRemoveRequests:processedFullArrayForSubtraction}},headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}));case 12:_context28.prev=12,_context28.t0=_context28.catch(0),console.log(_context28.t0);case 15:case"end":return _context28.stop()}}),_callee28,null,[[0,12]])}))),function removeAdvisorFromBusiness(_x68,_x69,_x70,_x71){return _removeAdvisorFromBusiness.apply(this,arguments)})},{key:"getPracticeAdvisors",value:(_getPracticeAdvisors=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee29(links){var practiceId,user,idToken,headers,body,backendTokens;return regenerator_default.a.wrap((function _callee29$(_context29){for(;;)switch(_context29.prev=_context29.next){case 0:return Store_rootStore.businessStore.fetchAdvisorsLoading(!0),_context29.prev=1,practiceId=Store_rootStore.businessStore.practiceId.id,user=Store_rootStore.authStore.user,_context29.next=6,user.getIdToken();case 6:return idToken=_context29.sent,headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(links.businesses.href,"/").concat(practiceId)},_context29.prev=9,_context29.next=12,Object(apiHelper.d)(links.tokens.href,headers,lib_default.a.stringify(body));case 12:return backendTokens=_context29.sent,Store_rootStore.authStore.storeAdvisorTokens(backendTokens),console.log("!",Object(mobx_module.toJS)(Store_rootStore.businessStore.practiceId)),_context29.next=17,Object(network.f)(Store_rootStore.authStore.links);case 17:return _context29.sent,_context29.abrupt("return",axios_default()({method:"get",url:"".concat(links.businesses.href,"/").concat(practiceId,"/users"),data:{},headers:{Authorization:"Bearer ".concat(backendTokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){res.data&&(Store_rootStore.businessStore.fetchAdvisorsLoading(!1),Store_rootStore.businessStore.updatePracticeAdvisors(res.data))})).catch((function(e){Store_rootStore.businessStore.fetchAdvisorsLoading(!1),esm.a(e),console.log("error getting detail to business",e),Store_rootStore.businessStore.fetchAdvisorsLoading(!1)})));case 21:_context29.prev=21,_context29.t0=_context29.catch(9),console.log("err getting practice token:",_context29.t0),Store_rootStore.businessStore.fetchAdvisorsLoading(!1);case 25:_context29.next=30;break;case 27:_context29.prev=27,_context29.t1=_context29.catch(1),console.log("err getting user",_context29.t1);case 30:case"end":return _context29.stop()}}),_callee29,null,[[1,27],[9,21]])}))),function getPracticeAdvisors(_x72){return _getPracticeAdvisors.apply(this,arguments)})},{key:"getConnectionProfileData",value:(_getConnectionProfileData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee30(links,access_token,business){var connectionId,xeroConnection,data,mockData;return regenerator_default.a.wrap((function _callee30$(_context30){for(;;)switch(_context30.prev=_context30.next){case 0:return _context30.prev=0,_context30.next=3,Object(authHelper.f)(links,access_token);case 3:if(connectionId=_context30.sent,Store_rootStore.businessStore.updateBusinessListApps(business.id,connectionId._embedded.connections),!(xeroConnection=connectionId&&connectionId._embedded.connections.find((function(connection){return"xero"===connection.ospKey})))||!xeroConnection.id){_context30.next=13;break}return _context30.next=9,Object(authHelper.b)(links,access_token,xeroConnection.id);case 9:return data=_context30.sent,Store_rootStore.businessStore.setXeroConnection(xeroConnection,data),console.log("has DATA:",data),_context30.abrupt("return",Store_rootStore.businessStore.updateBusinessListDetail(business.id,null,data));case 13:return Store_rootStore.businessStore.setXeroConnection({},{}),mockData={_embedded:{configuration:{entities:[{address:"",countryCode:"",currencyCode:"",financialYearEnd:"",lineOfBusiness:"",phoneNumber:"",salesTaxBasis:"",salesTaxPeriod:"",shortCode:"",taxNumber:"",tenantConnectionId:"",tenantType:"",timezoneId:""}]}}},_context30.abrupt("return",Store_rootStore.businessStore.updateBusinessListDetail(business.id,null,mockData));case 18:return _context30.prev=18,_context30.t0=_context30.catch(0),_context30.abrupt("return",Store_rootStore.businessStore.updateBusinessListDetail(business.id,null,{_embedded:{configuration:{disconnected:!0,entities:[{address:"",countryCode:"",currencyCode:"",financialYearEnd:"",lineOfBusiness:"",phoneNumber:"",salesTaxBasis:"",salesTaxPeriod:"",shortCode:"",taxNumber:"",tenantConnectionId:"",tenantType:"",timezoneId:""}]}}}));case 21:case"end":return _context30.stop()}}),_callee30,null,[[0,18]])}))),function getConnectionProfileData(_x73,_x74,_x75){return _getConnectionProfileData.apply(this,arguments)})},{key:"disconnectBusiness",value:(_disconnectBusiness=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee31(){var backendTokens,businessTokens;return regenerator_default.a.wrap((function _callee31$(_context31){for(;;)switch(_context31.prev=_context31.next){case 0:return Store_rootStore.businessStore.practiceId.id,_context31.next=3,BusinessService.refreshPracticeCredentials();case 3:return backendTokens=_context31.sent,_context31.next=6,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 6:if(businessTokens=_context31.sent,!Store_rootStore.businessStore.xeroDisconnectLink){_context31.next=9;break}return _context31.abrupt("return",Object(authHelper.e)(backendTokens,Store_rootStore.businessStore.xeroDisconnectLink,businessTokens).then((function(res){console.log("connection status with practice tokens:",res),setTimeout((function(){Store_rootStore.businessStore.selectBusiness2(Store_rootStore.businessStore.selectedBusinessId,(function(){}))}),1e3)})));case 9:console.log("business is already DCd");case 10:case"end":return _context31.stop()}}),_callee31)}))),function disconnectBusiness(){return _disconnectBusiness.apply(this,arguments)})},{key:"autoCompletePlaces",value:(_autoCompletePlaces=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee32(data,key){var PROXY_URL,url,res;return regenerator_default.a.wrap((function _callee32$(_context32){for(;;)switch(_context32.prev=_context32.next){case 0:return PROXY_URL=200===Store_rootStore.businessStore.proxyStatus?Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_PROXY_URL:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_PROXY_FALLBACK_URL,console.log("?",PROXY_URL,Store_rootStore.businessStore.proxyStatus),console.log("?",PROXY_URL),url="https://maps.googleapis.com/maps/api/place/autocomplete/json?input=".concat(encodeURIComponent(data),"&key=").concat(encodeURIComponent(key)),_context32.next=6,Object(network.d)(PROXY_URL+url,{});case 6:res=_context32.sent,Store_rootStore.businessStore.autoCompleteIsLoading(!1),Store_rootStore.businessStore.displayAutoCompletePlaces(res);case 9:case"end":return _context32.stop()}}),_callee32)}))),function autoCompletePlaces(_x76,_x77){return _autoCompletePlaces.apply(this,arguments)})},{key:"updateInfo",value:(_updateInfo=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee33(links,access_token,businessId,fields,key,previouslyUsedSoftware){var previouslyUsedSoftwareArray,PROXY_URL,locationData,url,res,countryCode,area,ts,tzUrl,timezone;return regenerator_default.a.wrap((function _callee33$(_context33){for(;;)switch(_context33.prev=_context33.next){case 0:return previouslyUsedSoftwareArray=Object.values(previouslyUsedSoftware).filter((function(value){return"string"==typeof value})),PROXY_URL=200===Store_rootStore.businessStore.proxyStatus?Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_PROXY_URL:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_PROXY_FALLBACK_URL,console.log("?",PROXY_URL,Store_rootStore.businessStore.proxyStatus),_context33.prev=3,locationData={profile:{accountingSoftware:previouslyUsedSoftwareArray||[],numberOfAccountants:fields.numAccountants||"",numberOfClients:fields.numClients||""},location:{latitude:"",longitude:""},timeZoneId:"",address:"",name:"",area:"Auckland",countryCode:"NZ",phoneNumber:"",types:[],utcOffset:"",website:"",rawOffset:"",dstOffset:"",businessClass:"management",creatorRole:"practice_admin"},url="https://maps.googleapis.com/maps/api/place/details/json?place_id=".concat(encodeURIComponent(fields.placeInformation.place_id),"&key=").concat(encodeURIComponent(key)),_context33.next=8,axios_default()({method:"get",url:PROXY_URL+url});case 8:if(res=_context33.sent,countryCode=res.data.result.address_components.find((function(component){return component.types.includes("country")})),area="NZ"===countryCode.short_name||"AU"!==countryCode.short_name?res.data.result.address_components.find((function(component){return component.types.includes("administrative_area_level_1")})):res.data.result.address_components.find((function(component){return component.types.includes("administrative_area_level_2")})),locationData.name=fields.businessName||res.data.result.name,locationData.location.latitude=res.data.result.geometry.location.lat,locationData.location.longitude=res.data.result.geometry.location.lng,locationData.address=res.data.result.formatted_address,locationData.phoneNumber=res.data.result.formatted_phone_number,locationData.types=res.data.result.types,locationData.utcOffset=res.data.result.utc_offset,locationData.website=res.data.result.website,!countryCode.short_name||!area.short_name){_context33.next=24;break}locationData.countryCode=countryCode.short_name,locationData.area=area.long_name,_context33.next=27;break;case 24:return console.log("could not find address"),esm.b("User Tried to Set Up Practice with Address: Failure to Find Address"),_context33.abrupt("return");case 27:return ts=Math.round((new Date).getTime()/1e3),tzUrl="https://maps.googleapis.com/maps/api/timezone/json?location=".concat(locationData.location.latitude,",").concat(locationData.location.longitude,"&timestamp=").concat(ts,"&key=").concat(encodeURIComponent(key)),_context33.next=31,axios_default()({method:"get",url:PROXY_URL+tzUrl});case 31:return timezone=_context33.sent,locationData.timeZoneId=timezone.data.timeZoneId,locationData.rawOffset=timezone.data.rawOffset,locationData.dstOffset=timezone.data.dstOffset,_context33.abrupt("return",axios_default()({method:"post",url:"".concat(links.businesses.href),data:{_embedded:{business:locationData}},headers:{Authorization:"Bearer ".concat(access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.businessStore.shouldSetUpPractice(!1),Store_rootStore.authStore.invalidateCache(),js_cookie_default.a.set("inviteAdvisors","true"),window.location.reload(),res})).catch((function(e){esm.a(e),console.log("error inviting user to business",e)})));case 38:_context33.prev=38,_context33.t0=_context33.catch(3),console.log("error creating business:",_context33.t0);case 41:case"end":return _context33.stop()}}),_callee33,null,[[3,38]])}))),function updateInfo(_x78,_x79,_x80,_x81,_x82,_x83){return _updateInfo.apply(this,arguments)})},{key:"editBusinessDetails",value:(_editBusinessDetails=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee34(links,access_token,businessId,fields,name){var tokens;return regenerator_default.a.wrap((function _callee34$(_context34){for(;;)switch(_context34.prev=_context34.next){case 0:return _context34.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context34.sent,console.log(fields),_context34.abrupt("return",axios_default()({method:"put",url:"".concat(links.businesses.href,"/").concat(businessId),data:{_embedded:{business:{name:name,profile:{taxRate:parseFloat(fields.taxRate)}}}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){console.log("res",res.data.profile),Store_rootStore.businessStore.setFirstTimeClientSetup(!1),Store_rootStore.businessStore.updateBusinessListProfile(businessId,res.data.profile)})).catch((function(e){console.log("err",e)})));case 5:case"end":return _context34.stop()}}),_callee34)}))),function editBusinessDetails(_x84,_x85,_x86,_x87,_x88){return _editBusinessDetails.apply(this,arguments)})},{key:"getBusinessDetails",value:(_getBusinessDetails=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee35(links,access_token,businessId){var tokens;return regenerator_default.a.wrap((function _callee35$(_context35){for(;;)switch(_context35.prev=_context35.next){case 0:return _context35.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context35.sent,_context35.abrupt("return",axios_default()({method:"get",url:"".concat(links.businesses.href,"/").concat(businessId),headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){console.log("res",res.data._embedded.business),Store_rootStore.businessStore.updateBusinessListProfile(businessId,res.data._embedded.business.profile)})).catch((function(e){console.log("err",e)})));case 4:case"end":return _context35.stop()}}),_callee35)}))),function getBusinessDetails(_x89,_x90,_x91){return _getBusinessDetails.apply(this,arguments)})},{key:"initializeBusiness",value:(_initializeBusiness=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee36(links,access_token,businessId,businessListInstance){return regenerator_default.a.wrap((function _callee36$(_context36){for(;;)switch(_context36.prev=_context36.next){case 0:this.fetchBusinessInviteList(links,businessId,access_token),this.fetchFullBusinessInviteList(links,businessId,access_token,!0),Store_rootStore.businessStore.updateBusinessListProfile(businessId,businessListInstance.profile);case 3:case"end":return _context36.stop()}}),_callee36,this)}))),function initializeBusiness(_x92,_x93,_x94,_x95){return _initializeBusiness.apply(this,arguments)})},{key:"editBusinessConfiguration",value:(_editBusinessConfiguration=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee37(links,access_token,businessId,fields,name){var tokens;return regenerator_default.a.wrap((function _callee37$(_context37){for(;;)switch(_context37.prev=_context37.next){case 0:return _context37.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context37.sent,_context37.abrupt("return",axios_default()({method:"put",url:"".concat(links.businesses.href,"/").concat(businessId),data:{_embedded:{business:{name:name,profile:{operationalExpensesSource:fields.opex||"",salesSource:fields.sales||"",purchasesSource:fields.purchases||"",taxRate:fields.clientFormFields.taxRate||28,address:fields.clientFormFields.address||"",reconciledDays:fields.reconciledDays?parseInt(fields.reconciledDays):null,incomeTax:fields.incomeTax||"",taxAgent:fields.taxAgent||"",payrollTax:fields.payrollTax||"",fringeBenefitTax:fields.fringeBenefitTax||"",dividendWithholdingTax:fields.dividendWithholdingTax||""}}}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){console.log("res??",res),Store_rootStore.businessStore.setFirstTimeClientSetup(!1),Store_rootStore.businessStore.updateBusinessListProfile(businessId,res.data.profile)})).catch((function(e){console.log("err",e)})));case 4:case"end":return _context37.stop()}}),_callee37)}))),function editBusinessConfiguration(_x96,_x97,_x98,_x99,_x100){return _editBusinessConfiguration.apply(this,arguments)})},{key:"editUserDetails",value:(_editUserDetails=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee38(links,access_token,fields,id){var tokens;return regenerator_default.a.wrap((function _callee38$(_context38){for(;;)switch(_context38.prev=_context38.next){case 0:return Store_rootStore.businessStore.editDetailsLoading(!0),_context38.next=3,BusinessService.refreshPracticeCredentials();case 3:return tokens=_context38.sent,_context38.abrupt("return",axios_default()({method:"put",url:"".concat(links.users.href,"/").concat(id),data:{_embedded:{user:{email:fields.email,givenName:fields.givenName,familyName:fields.familyName,displayName:fields.displayName,phoneNumber:fields.phoneNumber}}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){200===res.status&&(Store_rootStore.businessStore.editDetailsLoading(!1),Store_rootStore.authStore.validateUserModal(null),Store_rootStore.authStore.renderEditUserModal(!1),getUser(links,Store_rootStore.authStore.user.uid,tokens).then((function(user){user&&Store_rootStore.authStore.setPracticeUser(user)})))}),(function(rej){return Store_rootStore.businessStore.editDetailsLoading(!1),fields.phoneNumber.includes("+")?rej.response.data&&rej.response.data._embedded.error.message?Store_rootStore.authStore.validateUserModal({error:"invalid/phone-number",message:rej.response.data._embedded.error.message}):void 0:Store_rootStore.authStore.validateUserModal({error:"invalid/phone-number",message:"Please use international Phone number format. ex: +64210000000"})})).catch((function(e){console.log("caught error",e)})));case 5:case"end":return _context38.stop()}}),_callee38)}))),function editUserDetails(_x101,_x102,_x103,_x104){return _editUserDetails.apply(this,arguments)})}]),BusinessService}()),moment=__webpack_require__(56),moment_default=__webpack_require__.n(moment),businessStore_BusinessStore=(_dec=mobx_module.action.bound,_dec2=mobx_module.action.bound,_dec3=mobx_module.action.bound,_dec4=mobx_module.action.bound,_dec5=mobx_module.action.bound,_dec6=mobx_module.action.bound,_dec7=mobx_module.action.bound,_dec8=mobx_module.action.bound,_dec9=mobx_module.action.bound,_dec10=mobx_module.action.bound,_dec11=mobx_module.action.bound,_dec12=mobx_module.action.bound,_dec13=mobx_module.action.bound,_dec14=mobx_module.action.bound,_dec15=mobx_module.action.bound,_dec16=mobx_module.action.bound,_dec17=mobx_module.action.bound,_dec18=mobx_module.action.bound,_dec19=mobx_module.action.bound,_dec20=mobx_module.action.bound,_dec21=mobx_module.action.bound,_dec22=mobx_module.action.bound,_dec23=mobx_module.action.bound,_dec24=mobx_module.action.bound,_dec25=mobx_module.action.bound,_dec26=mobx_module.action.bound,_dec27=mobx_module.action.bound,_dec28=mobx_module.action.bound,_dec29=mobx_module.action.bound,_dec30=mobx_module.action.bound,_dec31=mobx_module.action.bound,_dec32=mobx_module.action.bound,_dec33=mobx_module.action.bound,_dec34=mobx_module.action.bound,_dec35=mobx_module.action.bound,_dec36=mobx_module.action.bound,_dec37=mobx_module.action.bound,_dec38=mobx_module.action.bound,_dec39=mobx_module.action.bound,_dec40=mobx_module.action.bound,_dec41=mobx_module.action.bound,_dec42=mobx_module.action.bound,_dec43=mobx_module.action.bound,_dec44=mobx_module.action.bound,_dec45=mobx_module.action.bound,_dec46=mobx_module.action.bound,_dec47=mobx_module.action.bound,_dec48=mobx_module.action.bound,_dec49=mobx_module.action.bound,_dec50=mobx_module.action.bound,_temp=function(){function BusinessStore(rootStore){Object(classCallCheck.a)(this,BusinessStore),this.rootStore=void 0,this.fetchBusinessData=void 0,this.createBusinessFromXeroConnection=void 0,this.fetchBusinessInviteList=void 0,this.fetchFullBusinessInviteList=void 0,this.fetchPendingInviteCount=void 0,this.inviteUser=void 0,this.resendInvite=void 0,this.updateInfo=void 0,this.autoCompletePlacesAction=void 0,this.getConnectionProfileData=void 0,this.getBusinessUsers=void 0,this.getPracticeAdvisors=void 0,this.editBusinessDetails=void 0,this.editBusinessConfiguration=void 0,this.editUserDetails=void 0,this.pingProxyServer=void 0,this.inviteUserFromSuggested=void 0,this.inviteAdvisor=void 0,this.getBusinessesFromAdvisor=void 0,this.addAdvisorToBusiness=void 0,this.removeAdvisorFromBusiness=void 0,this.activateSubscription=void 0,this.fetchSubscription=void 0,this.cancelSubscription=void 0,this.confirmSubscription=void 0,this.initiateSubscription=void 0,this.deleteSubscription=void 0,this.disconnectBusiness=void 0,this.fetchAdvisorInvitationList=void 0,this.resendInviteAsAdvisor=void 0,this.getBusinessApps=void 0,this.getBusinessDetails=void 0,this.initializeBusiness=void 0,this.fetchBusinessDataWithUserId=void 0,this.fetchBusinessAccessTokens=void 0,Object(initializerDefineProperty.a)(this,"selectedBusinessData",_descriptor,this),Object(initializerDefineProperty.a)(this,"advisorsLoading",_descriptor2,this),Object(initializerDefineProperty.a)(this,"subscription",_descriptor3,this),Object(initializerDefineProperty.a)(this,"initSubscription",_descriptor4,this),Object(initializerDefineProperty.a)(this,"selectedBusinessUsers",_descriptor5,this),Object(initializerDefineProperty.a)(this,"selectedBusinessId",_descriptor6,this),Object(initializerDefineProperty.a)(this,"practiceUsers",_descriptor7,this),Object(initializerDefineProperty.a)(this,"activeUser",_descriptor8,this),Object(initializerDefineProperty.a)(this,"selectedBusinessAccessToken",_descriptor9,this),Object(initializerDefineProperty.a)(this,"tokenCache",_descriptor10,this),Object(initializerDefineProperty.a)(this,"currentConnection",_descriptor11,this),Object(initializerDefineProperty.a)(this,"proxyStatus",_descriptor12,this),Object(initializerDefineProperty.a)(this,"businessListData",_descriptor13,this),Object(initializerDefineProperty.a)(this,"businessListDetail",_descriptor14,this),Object(initializerDefineProperty.a)(this,"businessInvitationList",_descriptor15,this),Object(initializerDefineProperty.a)(this,"loading",_descriptor16,this),Object(initializerDefineProperty.a)(this,"inviteUserModalOpen",_descriptor17,this),Object(initializerDefineProperty.a)(this,"configureBusinessModalOpen",_descriptor18,this),Object(initializerDefineProperty.a)(this,"autoCompletePlaces",_descriptor19,this),Object(initializerDefineProperty.a)(this,"setUpBusinessModalOpen",_descriptor20,this),Object(initializerDefineProperty.a)(this,"acceptedInvites",_descriptor21,this),Object(initializerDefineProperty.a)(this,"invitations",_descriptor22,this),Object(initializerDefineProperty.a)(this,"advisorInvitations",_descriptor23,this),Object(initializerDefineProperty.a)(this,"xeroDisconnectLink",_descriptor24,this),Object(initializerDefineProperty.a)(this,"invitedUserDetails",_descriptor25,this),Object(initializerDefineProperty.a)(this,"practiceId",_descriptor26,this),Object(initializerDefineProperty.a)(this,"autoCompleteLoading",_descriptor27,this),Object(initializerDefineProperty.a)(this,"isFirstTimeClientSetup",_descriptor28,this),Object(initializerDefineProperty.a)(this,"confirmationWindowIsRendered",_descriptor29,this),Object(initializerDefineProperty.a)(this,"clientConfirmationWindowIsRendered",_descriptor30,this),Object(initializerDefineProperty.a)(this,"isFirstTimeSetup",_descriptor31,this),Object(initializerDefineProperty.a)(this,"editDetailsIsLoading",_descriptor32,this),Object(initializerDefineProperty.a)(this,"businessInviteInitial",_descriptor33,this),Object(initializerDefineProperty.a)(this,"disconnectConfirmation",_descriptor34,this),Object(initializerDefineProperty.a)(this,"clientSyncsForCurrentBusiness",_descriptor35,this),Object(initializerDefineProperty.a)(this,"xeroConnection",_descriptor36,this),Object(initializerDefineProperty.a)(this,"businessApps",_descriptor37,this),Object(initializerDefineProperty.a)(this,"initialFields",_descriptor38,this),Object(initializerDefineProperty.a)(this,"duplicateBusinessName",_descriptor39,this),Object(initializerDefineProperty.a)(this,"reconnectedConnectionName",_descriptor40,this),Object(initializerDefineProperty.a)(this,"businessAppsConnected",_descriptor41,this),Object(initializerDefineProperty.a)(this,"selectedAdvisorsClients",_descriptor42,this),Object(initializerDefineProperty.a)(this,"businessInstance",_descriptor43,this),Object(initializerDefineProperty.a)(this,"dataArray",_descriptor44,this),this.rootStore=rootStore,this.fetchBusinessData=businessService_BusinessService.fetchBusinessData,this.fetchBusinessDataWithUserId=businessService_BusinessService.fetchBusinessDataWithUserId,this.fetchBusinessAccessTokens=businessService_BusinessService.fetchBusinessAccessTokens,this.pingProxyServer=businessService_BusinessService.pingProxyServer,this.createBusinessFromXeroConnection=businessService_BusinessService.createBusinessFromXeroConnection,this.fetchBusinessInviteList=businessService_BusinessService.fetchBusinessInviteList,this.fetchFullBusinessInviteList=businessService_BusinessService.fetchFullBusinessInviteList,this.fetchPendingInviteCount=businessService_BusinessService.fetchPendingInviteCount,this.inviteUser=businessService_BusinessService.inviteUser,this.resendInvite=businessService_BusinessService.resendInvite,this.resendInviteAsAdvisor=businessService_BusinessService.resendInviteAsAdvisor,this.updateInfo=businessService_BusinessService.updateInfo,this.autoCompletePlacesAction=businessService_BusinessService.autoCompletePlaces,this.getConnectionProfileData=businessService_BusinessService.getConnectionProfileData,this.getBusinessUsers=businessService_BusinessService.getBusinessUsers,this.getPracticeAdvisors=businessService_BusinessService.getPracticeAdvisors,this.editBusinessDetails=businessService_BusinessService.editBusinessDetails,this.editBusinessConfiguration=businessService_BusinessService.editBusinessConfiguration,this.editUserDetails=businessService_BusinessService.editUserDetails,this.inviteUserFromSuggested=businessService_BusinessService.inviteUserFromSuggested,this.inviteAdvisor=businessService_BusinessService.inviteAdvisor,this.getBusinessesFromAdvisor=businessService_BusinessService.getBusinessesFromAdvisor,this.addAdvisorToBusiness=businessService_BusinessService.addAdvisorToBusiness,this.removeAdvisorFromBusiness=businessService_BusinessService.removeAdvisorFromBusiness,this.activateSubscription=businessService_BusinessService.activateSubscription,this.fetchSubscription=businessService_BusinessService.fetchSubscription,this.initiateSubscription=businessService_BusinessService.initiateSubscription,this.cancelSubscription=businessService_BusinessService.cancelSubscription,this.confirmSubscription=businessService_BusinessService.confirmSubscription,this.deleteSubscription=businessService_BusinessService.deleteSubscription,this.disconnectBusiness=businessService_BusinessService.disconnectBusiness,this.fetchAdvisorInvitationList=businessService_BusinessService.fetchAdvisorInvitationList,this.getBusinessApps=businessService_BusinessService.getBusinessApps,this.getBusinessDetails=businessService_BusinessService.getBusinessDetails,this.initializeBusiness=businessService_BusinessService.initializeBusiness}var _selectBusiness2,_selectBusiness,_refreshTokensIfExpired,_getBusinessAccessTokenFromCache,_buildAccessTokenCache,_getBusinessAccessToken,_storeData,_storeInvitationList,_storeDetailData;return Object(createClass.a)(BusinessStore,[{key:"setBusinessApps",value:function setBusinessApps(apps){return this.businessApps=apps}},{key:"setBusinessDetailApps",value:function setBusinessDetailApps(apps,id){var appList=apps.filter((function(app){return void 0===app._links.connect}));return console.log("OOOoooooooooooooo",appList),this.businessListDetail.find((function(i){return i.businessId===id})).connectedApps=appList,this.businessAppsConnected=appList}},{key:"setLoading",value:function setLoading(loading){this.loading=loading}},{key:"setInitialFields",value:function setInitialFields(fields){this.initialFields=fields}},{key:"renderDisconnectConfirmation",value:function renderDisconnectConfirmation(isOpen){this.disconnectConfirmation=isOpen}},{key:"storeSubscription",value:function storeSubscription(subscription){console.log("subscription:",subscription),this.subscription=subscription.data._embedded.subscription}},{key:"storeInitSubscription",value:function storeInitSubscription(subscriptionLinks){this.initSubscription=subscriptionLinks}},{key:"fetchAdvisorsLoading",value:function fetchAdvisorsLoading(loading){this.advisorsLoading=loading}},{key:"setProxyStatus",value:function setProxyStatus(status){this.proxyStatus=status}},{key:"renderDuplicateWarning",value:function renderDuplicateWarning(warningForBusinessName){warningForBusinessName||js_cookie_default.a.remove("duplicateConnection"),this.duplicateBusinessName=warningForBusinessName}},{key:"renderReconnectionConfirmation",value:function renderReconnectionConfirmation(warningForBusinessName){warningForBusinessName||js_cookie_default.a.remove("reconnectedConnection"),this.reconnectedConnectionName=warningForBusinessName}},{key:"displayAutoCompletePlaces",value:function displayAutoCompletePlaces(data){data&&data.predictions&&(this.autoCompletePlaces=data.predictions)}},{key:"storeAdvisorsClients",value:function storeAdvisorsClients(clients){var allClients=clients.currentClients.concat(clients.validClients);this.selectedAdvisorsClients={currentClients:clients.currentClients,validClients:clients.validClients,allClients:allClients}}},{key:"updateBusinessListDetail",value:function updateBusinessListDetail(id,notifications,data){var businessDetail=this.businessListDetail.find((function(i){return i.businessId===id}));if(null!==notifications)return businessDetail.unreadNotifications=notifications;if(null!==data&&data._embedded){var _data$_embedded$confi=data._embedded.configuration.entities[0],dataObject={address:_data$_embedded$confi.address,countryCode:_data$_embedded$confi.countryCode,currencyCode:_data$_embedded$confi.currencyCode,financialYearEnd:_data$_embedded$confi.financialYearEnd,lineOfBusiness:_data$_embedded$confi.lineOfBusiness,phoneNumber:_data$_embedded$confi.phoneNumber,salesTaxBasis:_data$_embedded$confi.salesTaxBasis,salesTaxPeriod:_data$_embedded$confi.salesTaxPeriod,shortCode:_data$_embedded$confi.shortCode,taxNumber:_data$_embedded$confi.taxNumber,tenantConnectionId:_data$_embedded$confi.tenantConnectionId,tenantType:_data$_embedded$confi.tenantType,timezoneId:_data$_embedded$confi.timezoneId};return businessDetail.disconnected=data._embedded.configuration.disconnected,this.initialFields=dataObject,businessDetail.data=dataObject}}},{key:"updateBusinessListApps",value:function updateBusinessListApps(id,apps){var businessDetail=this.businessListDetail.find((function(i){return i.businessId===id}));if(null!==apps)return this.selectedBusinessData.connectedApps=apps,businessDetail.connectedApps=apps}},{key:"updateBusinessListProfile",value:function updateBusinessListProfile(id,data){var businessDetail=this.businessListDetail.find((function(i){return i.businessId===id}));if(null!=data){var address=data.address,countryCode=data.countryCode,currencyCode=data.currencyCode,financialYearEnd=data.financialYearEnd,lineOfBusiness=data.lineOfBusiness,phoneNumber=data.phoneNumber,salesTaxBasis=data.salesTaxBasis,salesTaxPeriod=data.salesTaxPeriod,shortCode=data.shortCode,taxNumber=data.taxNumber,tenantConnectionId=data.tenantConnectionId,tenantType=data.tenantType,timezoneId=data.timezoneId,dataObject={taxRate:data.taxRate,address:address,countryCode:countryCode,currencyCode:currencyCode,financialYearEnd:financialYearEnd,lineOfBusiness:lineOfBusiness,phoneNumber:phoneNumber,salesTaxBasis:salesTaxBasis,salesTaxPeriod:salesTaxPeriod,shortCode:shortCode,taxNumber:taxNumber,tenantConnectionId:tenantConnectionId,tenantType:tenantType,timezoneId:timezoneId,salesSource:data.salesSource,purchasesSource:data.purchasesSource,operationalExpensesSource:data.operationalExpensesSource,reconciledDays:data.reconciledDays,incomeTax:data.incomeTax,taxAgent:data.taxAgent,payrollTax:data.payrollTax,fringeBenefitTax:data.fringeBenefitTax,dividendWithholdingTax:data.dividendWithholdingTax};return businessDetail.profile=dataObject}}},{key:"updateBusinessListSync",value:function updateBusinessListSync(users,businessId){var userIds=users.map((function(i){return i.id})),clientSyncs=new firestorter_module.a("clientSync",{queries:function queries(){return userIds.map((function(userId){return{key:"clientSync:".concat(userId,"-").concat(businessId),query:function query(ref){return ref.where("id","==",userId)}}}))}});Object(mobx_module.autorun)((function(){clientSyncs.docs.forEach((function(doc){return console.log("*",doc.id)}))})),this.clientSyncsForCurrentBusiness=clientSyncs}},{key:"updateBusinessListUsers",value:function updateBusinessListUsers(id,data){var businessDetail=this.businessListDetail.find((function(i){return i.businessId===id}));return businessDetail.users=data.businessUsers.filter((function(i){return"advisor"!==i.roleKey})),businessDetail.advisors=data.businessUsers.filter((function(i){return"advisor"===i.roleKey})),businessDetail.advisorsCount=businessDetail.advisors.length,businessDetail.allCount=data.businessUsers.length,this.updateBusinessListSync(businessDetail.users,id),this.setUsersList(businessDetail.users),businessDetail.usersCount=businessDetail.users.length}},{key:"storeInvitationCount",value:function storeInvitationCount(data,id){var businessDetail=this.businessListDetail.find((function(i){return i.businessId===id}));businessDetail.invitesSent=data||[]}},{key:"updatePracticeAdvisors",value:function updatePracticeAdvisors(data){this.activeUser=data._embedded.businessUsers.find((function(i){return i.id===Store_rootStore.authStore.user.uid})),this.practiceUsers.users=data._embedded.businessUsers,this.practiceUsers.userCount=data.count}},{key:"storeDetailData",value:(_storeDetailData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(data){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}}),_callee)}))),function storeDetailData(_x){return _storeDetailData.apply(this,arguments)})},{key:"storeInvitationList",value:(_storeInvitationList=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(invitationList){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(Store_rootStore.advisorChatStore.setNewMessageRecievedForSelectedBusiness(!1),void 0===invitationList[0]){_context2.next=5;break}return _context2.abrupt("return",this.businessInvitationList=invitationList[0].filter((function(user){return user.emailAddress!==Store_rootStore.authStore.practiceUser.user.email})));case 5:return _context2.abrupt("return",this.businessInvitationList=invitationList[0]);case 6:case"end":return _context2.stop()}}),_callee2,this)}))),function storeInvitationList(_x2){return _storeInvitationList.apply(this,arguments)})},{key:"setPracticeId",value:function setPracticeId(practiceId){this.practiceId=practiceId}},{key:"renderConfirmationWindow",value:function renderConfirmationWindow(isRendered,data){this.confirmationWindowIsRendered=isRendered,this.invitedUserDetails=data||null}},{key:"renderClientConfirmationWindow",value:function renderClientConfirmationWindow(isRendered){this.clientConfirmationWindowIsRendered=isRendered}},{key:"editDetailsLoading",value:function editDetailsLoading(isLoading){this.editDetailsIsLoading=isLoading}},{key:"autoCompleteIsLoading",value:function autoCompleteIsLoading(loading){this.autoCompleteLoading=loading}},{key:"setFirstTimeClientSetup",value:function setFirstTimeClientSetup(firstTime){this.isFirstTimeClientSetup=firstTime}},{key:"pushDataToDetailArray",value:function pushDataToDetailArray(business){this.businessListDetail.push({businessId:business.id,unreadNotifications:null,data:null,invitesSent:[],profile:business.profile,connectedApps:[{ospKey:"xero",appKey:"accounting"}]})}},{key:"storeData",value:(_storeData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(data){var businessListResponse,selectedBusinessIdBeforeRefresh,_this=this;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return businessListResponse=data.businesses.sort((function(a,b){var nameA=a.name.toLowerCase(),nameB=b.name.toLowerCase();return nameA<nameB?-1:nameA>nameB?1:0})).map((function(obj){return Object(objectSpread2.a)(Object(objectSpread2.a)({},obj),{},{connectedApps:[]})})),this.dataArray=businessListResponse,this.businessListData=this.businessListData.concat(businessListResponse),this.practiceId=data.businesses.filter((function(i){return"management"===i.businessClass}))[0],selectedBusinessIdBeforeRefresh=js_cookie_default.a.get("selectedBusiness"),this.selectedBusinessId=null!=selectedBusinessIdBeforeRefresh||void 0!==selectedBusinessIdBeforeRefresh?selectedBusinessIdBeforeRefresh:businessListResponse[0].id,this.practiceId.id,_context4.next=10,this.buildAccessTokenCache(businessListResponse);case 10:return _context4.abrupt("return",businessListResponse.map(function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(i,ix,arr){var retrieved_tokens;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_this.getBusinessAccessTokenFromCache(i.id);case 2:return retrieved_tokens=_context3.sent,_this.pushDataToDetailArray(i),i.id===selectedBusinessIdBeforeRefresh&&(_this.rootStore.conversationStore.getProactiveMessages(_this.rootStore.authStore.links,retrieved_tokens.access_token,i.id),Store_rootStore.conversationStore.getUnreadProactiveMessagesNoLoad(Store_rootStore.authStore.links,retrieved_tokens.access_token,i.id),_this.selectBusiness2(i.id,(function(){}),retrieved_tokens.access_token)),0!==ix||selectedBusinessIdBeforeRefresh||(_this.rootStore.conversationStore.getProactiveMessages(_this.rootStore.authStore.links,retrieved_tokens.access_token,i.id),Store_rootStore.conversationStore.getUnreadProactiveMessagesNoLoad(Store_rootStore.authStore.links,retrieved_tokens.access_token,i.id),("management"!==i.businessClass||1===arr.length)&&_this.selectBusiness2(i.id,(function(){}),retrieved_tokens.access_token)),Store_rootStore.businessStore.getConnectionProfileData(_this.rootStore.authStore.links,retrieved_tokens.access_token,{id:i.id,name:"NA"}),Store_rootStore.conversationStore.getUnreadProactiveMessagesNoLoad(Store_rootStore.authStore.links,retrieved_tokens.access_token,i.id),_context3.next=10,_this.rootStore.businessStore.getBusinessUsers(_this.rootStore.authStore.links,retrieved_tokens.access_token,{id:i.id});case 10:return"management"===arr[0].businessClass&&1===ix&&"management"!==i.businessClass&&_this.selectBusiness2(i.id,(function(){}),retrieved_tokens.access_token),_context3.abrupt("return",!0);case 12:case"end":return _context3.stop()}}),_callee3)})));return function(_x4,_x5,_x6){return _ref.apply(this,arguments)}}()));case 11:case"end":return _context4.stop()}}),_callee4,this)}))),function storeData(_x3){return _storeData.apply(this,arguments)})},{key:"setConnectionSettings",value:function setConnectionSettings(data){this.currentConnection=data._embedded}},{key:"setXeroConnection",value:function setXeroConnection(xeroConnection,otherData){this.xeroConnection=xeroConnection,this.xeroDisconnectLink=xeroConnection?xeroConnection._links.disconnect.href:null}},{key:"getBusinessAccessToken",value:(_getBusinessAccessToken=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee5(id){var access;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(void 0!==(access=this.rootStore.authStore.getBusinessToken(id))){_context5.next=3;break}return _context5.abrupt("return",this.rootStore.authStore.initializeNewBusinessTokens(id).then((function(res){return res.access_token})));case 3:return _context5.abrupt("return",access);case 4:case"end":return _context5.stop()}}),_callee5,this)}))),function getBusinessAccessToken(_x7){return _getBusinessAccessToken.apply(this,arguments)})},{key:"buildAccessTokenCache",value:(_buildAccessTokenCache=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee6(businesses){var cache;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return cache=businesses.map((function(business){return Store_rootStore.authStore.checkOutstandingConnectionClaim(business.id),{id:business.id,tokens:business._embedded.tokens,expiresAt:Math.floor(Date.now()/1e3)+business._embedded.tokens.expires_in}})),this.tokenCache=cache,Store_rootStore.authStore.tokenRegistry=cache,_context6.abrupt("return",cache);case 4:case"end":return _context6.stop()}}),_callee6,this)}))),function buildAccessTokenCache(_x8){return _buildAccessTokenCache.apply(this,arguments)})},{key:"getBusinessAccessTokenFromCache",value:(_getBusinessAccessTokenFromCache=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee7(id){var businessRegistry,expiry,_this2=this;return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(void 0===(businessRegistry=this.tokenCache.find((function(i){return i.id===id})))){_context7.next=9;break}if(expiry=businessRegistry.expiresAt,!(new Date(1e3*parseInt(expiry))>new Date)){_context7.next=6;break}return console.log("determined not to be expired",Object(mobx_module.toJS)(businessRegistry),expiry,moment_default()(new Date(1e3*parseInt(expiry))).format("LLLL"),moment_default()(new Date).format("LLLL")),_context7.abrupt("return",businessRegistry.tokens);case 6:return console.log("refresh verbose"),Object(network.g)(Store_rootStore.authStore.links,businessRegistry.tokens).then((function(updatedTokens){var registryExists=_this2.tokenCache.find((function(registry){return registry.id===id}));return Store_rootStore.businessStore.setBusinessAccessToken(updatedTokens.access_token),registryExists.expiresAt=Math.floor(Date.now()/1e3)+registryExists.tokens.expires_in,registryExists.tokens=updatedTokens,registryExists.tokens})),_context7.abrupt("return",businessRegistry.tokens);case 9:return console.log("____________________NOTOKENRETURNED"),_context7.abrupt("return",null);case 11:case"end":return _context7.stop()}}),_callee7,this)}))),function getBusinessAccessTokenFromCache(_x9){return _getBusinessAccessTokenFromCache.apply(this,arguments)})},{key:"setBusinessAccessToken",value:function setBusinessAccessToken(access){this.selectedBusinessAccessToken=access}},{key:"setSelectedBusinessId",value:function setSelectedBusinessId(id){this.selectedBusinessId=id}},{key:"setSelectedBusinessData",value:function setSelectedBusinessData(businessData){this.selectedBusinessData=Object(objectSpread2.a)({},businessData)}},{key:"shouldInviteUser",value:function shouldInviteUser(modalOpen){modalOpen||(this.businessInviteInitial=!1,this.selectBusiness2(Store_rootStore.businessStore.selectedBusinessId,(function(){}))),this.inviteUserModalOpen=modalOpen}},{key:"setBusinessFirstTimeSetup",value:function setBusinessFirstTimeSetup(isFirstTime){this.isFirstTimeSetup=isFirstTime}},{key:"shouldConfigureBusiness",value:function shouldConfigureBusiness(modalOpen){this.configureBusinessModalOpen=modalOpen}},{key:"shouldSetUpPractice",value:function shouldSetUpPractice(modalOpen){this.setUpBusinessModalOpen=modalOpen}},{key:"setInvitations",value:function setInvitations(data){this.invitations=data}},{key:"addToInvitations",value:function addToInvitations(data){this.invitations={pendingInvitations:[].concat(Object(toConsumableArray.a)(this.invitations.pendingInvitations),[data]),acceptedInvitations:[],cancelledInvitations:[]}}},{key:"storeInvitationListSplit",value:function storeInvitationListSplit(data){if(data){var pendingInvitations=data.filter((function(invitee){return"pending"===invitee.status}));data.filter((function(invitee){return"accepted"===invitee.status})),data.filter((function(invitee){return"cancelled"===invitee.status}));this.invitations={pendingInvitations:pendingInvitations,acceptedInvitations:[],cancelledInvitations:[]}}else this.invitations={pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}}},{key:"storeAdvisorInvitations",value:function storeAdvisorInvitations(data){var pendingInvitations=data.filter((function(invitee){return"pending"===invitee.status}));data.filter((function(invitee){return"accepted"===invitee.status})),data.filter((function(invitee){return"cancelled"===invitee.status}));this.advisorInvitations={pendingInvitations:pendingInvitations,acceptedInvitations:[],cancelledInvitations:[]}}},{key:"refreshTokensIfExpired",value:(_refreshTokensIfExpired=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee8(id){return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.abrupt("return",this.getBusinessAccessTokenFromCache(id));case 1:case"end":return _context8.stop()}}),_callee8,this)}))),function refreshTokensIfExpired(_x10){return _refreshTokensIfExpired.apply(this,arguments)})},{key:"setUsersList",value:function setUsersList(users){this.selectedBusinessUsers=users}},{key:"selectBusiness",value:(_selectBusiness=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee9(id,callback){var updatedTokens,usersData,filteredUsers,businessData,_this3=this;return regenerator_default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,this.rootStore.advisorChatStore.setIsReloading(!1),Store_rootStore.advisorChatStore.setNewMessageRecievedForSelectedBusiness(!1),this.setSelectedBusinessId(id),this.rootStore.conversationStore.clearConversationData(""),this.rootStore.conversationStore.setMessagesLoading(!0),this.rootStore.conversationStore.setNotificationsLoading(!0),_context9.next=9,this.refreshTokensIfExpired(id);case 9:return updatedTokens=_context9.sent,_context9.next=12,this.getBusinessApps(this.rootStore.authStore.links,updatedTokens.access_token,id);case 12:return this.fetchBusinessInviteList(this.rootStore.authStore.links,id,updatedTokens.access_token),this.fetchFullBusinessInviteList(this.rootStore.authStore.links,id,updatedTokens.access_token,!0),this.rootStore.conversationStore.getActiveConversation(this.rootStore.authStore.links,updatedTokens.access_token),this.rootStore.conversationStore.getProactiveMessages(this.rootStore.authStore.links,updatedTokens.access_token,id),this.rootStore.conversationStore.getFavoriteMessages(this.rootStore.authStore.links,updatedTokens.access_token,id),this.rootStore.conversationStore.getUnreadProactiveMessagesNoLoad(this.rootStore.authStore.links,updatedTokens.access_token,id),this.rootStore.businessStore.getConnectionProfileData(this.rootStore.authStore.links,updatedTokens.access_token,{id:id,name:"NA"}),_context9.next=21,this.rootStore.businessStore.getBusinessUsers(this.rootStore.authStore.links,updatedTokens.access_token,{id:id});case 21:usersData=_context9.sent,(filteredUsers=usersData._embedded.businessUsers.filter((function(i){return"advisor"!==i.roleKey||"".concat(i.givenName," ").concat(i.familyName)!=="".concat(Store_rootStore.authStore.practiceUser.user.givenName," ").concat(Store_rootStore.authStore.practiceUser.user.familyName)}))).map((function(user){return user.status="accepted"})),this.setBusinessAccessToken(updatedTokens.access_token),businessData=this.businessListData.find((function(i){return i.id===_this3.selectedBusinessId})),this.setSelectedBusinessData(businessData),Store_rootStore.businessStore.businessListDetail.find((function(i){return i.businessId===id})),filteredUsers?this.setUsersList(filteredUsers):this.setUsersList([]),Store_rootStore.advisorChatStore.setSelectedUserIdToRefresh(null),Store_rootStore.advisorChatStore.setSelectedConversationToRefresh(null),Store_rootStore.advisorChatStore.setSelectedConversationNameToRefresh(null),Store_rootStore.advisorChatStore.storeConversation(null),this.rootStore.advisorChatStore.getChats(),Store_rootStore.advisorChatStore.setNewMessageRecievedForSelectedBusiness(!1),this.setLoading(!1),_context9.next=41;break;case 38:_context9.prev=38,_context9.t0=_context9.catch(0),console.log("error select:",_context9.t0);case 41:case"end":return _context9.stop()}}),_callee9,this,[[0,38]])}))),function selectBusiness(_x11,_x12){return _selectBusiness.apply(this,arguments)})},{key:"selectBusiness2",value:(_selectBusiness2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee10(id,callback){var access_token,updatedTokens,usersData,filteredUsers,businessData,_this4=this,_args10=arguments;return regenerator_default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(access_token=_args10.length>2&&void 0!==_args10[2]?_args10[2]:null,this.rootStore.conversationStore.setMessagesLoading(!0),this.rootStore.conversationStore.setNotificationsLoading(!0),!access_token){_context10.next=8;break}console.log(".HAS token"),updatedTokens={access_token:access_token},_context10.next=12;break;case 8:return console.log(".GET token"),_context10.next=11,this.getBusinessAccessTokenFromCache(id);case 11:updatedTokens=_context10.sent;case 12:return this.setBusinessAccessToken(updatedTokens.access_token),Store_rootStore.advisorChatStore.setNewMessageRecievedForSelectedBusiness(!1),this.setSelectedBusinessId(id),this.rootStore.conversationStore.clearConversationData(""),_context10.next=18,this.getBusinessApps(this.rootStore.authStore.links,updatedTokens.access_token,id);case 18:return this.fetchBusinessInviteList(this.rootStore.authStore.links,id,updatedTokens.access_token),this.fetchFullBusinessInviteList(this.rootStore.authStore.links,id,updatedTokens.access_token,!0),this.rootStore.businessStore.getConnectionProfileData(this.rootStore.authStore.links,updatedTokens.access_token,{id:id,name:"NA"}),this.rootStore.conversationStore.getActiveConversation(this.rootStore.authStore.links,updatedTokens.access_token),this.rootStore.conversationStore.getProactiveMessages(this.rootStore.authStore.links,updatedTokens.access_token,id),this.rootStore.conversationStore.getFavoriteMessages(this.rootStore.authStore.links,updatedTokens.access_token,id),this.rootStore.businessStore.getConnectionProfileData(this.rootStore.authStore.links,updatedTokens.access_token,{id:id,name:"NA"}),_context10.next=27,this.rootStore.businessStore.getBusinessUsers(this.rootStore.authStore.links,updatedTokens.access_token,{id:id});case 27:(usersData=_context10.sent)?((filteredUsers=usersData._embedded.businessUsers.filter((function(i){return"advisor"!==i.roleKey||"".concat(i.givenName," ").concat(i.familyName)!=="".concat(Store_rootStore.authStore.practiceUser.user.givenName," ").concat(Store_rootStore.authStore.practiceUser.user.familyName)}))).map((function(user){return user.status="accepted"})),filteredUsers?this.setUsersList(filteredUsers):this.setUsersList([])):this.setUsersList([]),businessData=this.businessListData.find((function(i){return i.id===_this4.selectedBusinessId})),this.setSelectedBusinessData(businessData),Store_rootStore.advisorChatStore.setSelectedUserIdToRefresh(null),Store_rootStore.advisorChatStore.setSelectedConversationToRefresh(null),Store_rootStore.advisorChatStore.setSelectedConversationNameToRefresh(null),Store_rootStore.advisorChatStore.storeConversation(null),Store_rootStore.advisorChatStore.setNewMessageRecievedForSelectedBusiness(!1),this.setLoading(!1),this.rootStore.advisorChatStore.setIsReloading(!1),this.rootStore.conversationStore.setMessagesLoading(!1);case 39:case"end":return _context10.stop()}}),_callee10,this)}))),function selectBusiness2(_x13,_x14){return _selectBusiness2.apply(this,arguments)})},{key:"selectBusinessAfterClaimingConnection",value:function selectBusinessAfterClaimingConnection(id,access_token){var _this5=this;console.log("_____SELECT",id),this.businessInviteInitial=!0,this.setInitialFields({taxRate:"",lineOfBusiness:"",taxNumber:"",salesTaxBasis:"",salesTaxPeriod:"",financialYearEnd:"",address:"  ",operationalExpensesSource:"",salesSource:"",purchasesSource:"",reconciledDays:"",incomeTax:"",taxAgent:"",payrollTax:"",fringeBenefitTax:"",dividendWithholdingTax:"",disconnected:!1}),this.setLoading(!0),this.setSelectedBusinessId(id),this.setBusinessAccessToken(access_token),this.rootStore.conversationStore.clearConversationData(""),this.rootStore.conversationStore.setMessagesLoading(!0),this.rootStore.conversationStore.setNotificationsLoading(!0);Store_rootStore.businessStore.businessListDetail.find((function(i){return i.businessId===id}));var businessData=this.businessListData.find((function(i){return i.id===id}));this.rootStore.conversationStore.getActiveConversation(this.rootStore.authStore.links,access_token),this.rootStore.conversationStore.getProactiveMessages(this.rootStore.authStore.links,access_token,id),this.rootStore.conversationStore.getUnreadProactiveMessagesNoLoad(Store_rootStore.authStore.links,access_token,id),this.rootStore.businessStore.getConnectionProfileData(Store_rootStore.authStore.links,access_token,businessData),this.fetchBusinessInviteList(this.rootStore.authStore.links,id,access_token,!0).then((function(invites){invites&&_this5.setInvitations([])})).catch((function(rej){_this5.setInvitations([])})),Store_rootStore.advisorChatStore.setSelectedUserIdToRefresh(null),Store_rootStore.advisorChatStore.setSelectedConversationToRefresh(null),Store_rootStore.advisorChatStore.setSelectedConversationNameToRefresh(null),Store_rootStore.advisorChatStore.storeConversation(null),this.rootStore.advisorChatStore.getChats(),this.setSelectedBusinessData(businessData),this.setLoading(!1)}}]),BusinessStore}(),_class=_temp,_descriptor=Object(applyDecoratedDescriptor.a)(_class.prototype,"selectedBusinessData",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{id:0,name:"Loading...",inbox:1,apps:2,data_is_shared:!0,selected:!0,notifications:[],connectedApps:[]}}}),_descriptor2=Object(applyDecoratedDescriptor.a)(_class.prototype,"advisorsLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor3=Object(applyDecoratedDescriptor.a)(_class.prototype,"subscription",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),_descriptor4=Object(applyDecoratedDescriptor.a)(_class.prototype,"initSubscription",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),_descriptor5=Object(applyDecoratedDescriptor.a)(_class.prototype,"selectedBusinessUsers",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor6=Object(applyDecoratedDescriptor.a)(_class.prototype,"selectedBusinessId",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor7=Object(applyDecoratedDescriptor.a)(_class.prototype,"practiceUsers",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{userCount:0,users:null}}}),_descriptor8=Object(applyDecoratedDescriptor.a)(_class.prototype,"activeUser",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{roleKey:null}}}),_descriptor9=Object(applyDecoratedDescriptor.a)(_class.prototype,"selectedBusinessAccessToken",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor10=Object(applyDecoratedDescriptor.a)(_class.prototype,"tokenCache",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor11=Object(applyDecoratedDescriptor.a)(_class.prototype,"currentConnection",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor12=Object(applyDecoratedDescriptor.a)(_class.prototype,"proxyStatus",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor13=Object(applyDecoratedDescriptor.a)(_class.prototype,"businessListData",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor14=Object(applyDecoratedDescriptor.a)(_class.prototype,"businessListDetail",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor15=Object(applyDecoratedDescriptor.a)(_class.prototype,"businessInvitationList",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor16=Object(applyDecoratedDescriptor.a)(_class.prototype,"loading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor17=Object(applyDecoratedDescriptor.a)(_class.prototype,"inviteUserModalOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor18=Object(applyDecoratedDescriptor.a)(_class.prototype,"configureBusinessModalOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor19=Object(applyDecoratedDescriptor.a)(_class.prototype,"autoCompletePlaces",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor20=Object(applyDecoratedDescriptor.a)(_class.prototype,"setUpBusinessModalOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor21=Object(applyDecoratedDescriptor.a)(_class.prototype,"acceptedInvites",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor22=Object(applyDecoratedDescriptor.a)(_class.prototype,"invitations",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),_descriptor23=Object(applyDecoratedDescriptor.a)(_class.prototype,"advisorInvitations",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),_descriptor24=Object(applyDecoratedDescriptor.a)(_class.prototype,"xeroDisconnectLink",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor25=Object(applyDecoratedDescriptor.a)(_class.prototype,"invitedUserDetails",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor26=Object(applyDecoratedDescriptor.a)(_class.prototype,"practiceId",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),_descriptor27=Object(applyDecoratedDescriptor.a)(_class.prototype,"autoCompleteLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor28=Object(applyDecoratedDescriptor.a)(_class.prototype,"isFirstTimeClientSetup",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor29=Object(applyDecoratedDescriptor.a)(_class.prototype,"confirmationWindowIsRendered",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor30=Object(applyDecoratedDescriptor.a)(_class.prototype,"clientConfirmationWindowIsRendered",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor31=Object(applyDecoratedDescriptor.a)(_class.prototype,"isFirstTimeSetup",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor32=Object(applyDecoratedDescriptor.a)(_class.prototype,"editDetailsIsLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor33=Object(applyDecoratedDescriptor.a)(_class.prototype,"businessInviteInitial",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor34=Object(applyDecoratedDescriptor.a)(_class.prototype,"disconnectConfirmation",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor35=Object(applyDecoratedDescriptor.a)(_class.prototype,"clientSyncsForCurrentBusiness",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor36=Object(applyDecoratedDescriptor.a)(_class.prototype,"xeroConnection",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),_descriptor37=Object(applyDecoratedDescriptor.a)(_class.prototype,"businessApps",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor38=Object(applyDecoratedDescriptor.a)(_class.prototype,"initialFields",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor39=Object(applyDecoratedDescriptor.a)(_class.prototype,"duplicateBusinessName",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor40=Object(applyDecoratedDescriptor.a)(_class.prototype,"reconnectedConnectionName",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor41=Object(applyDecoratedDescriptor.a)(_class.prototype,"businessAppsConnected",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),_descriptor42=Object(applyDecoratedDescriptor.a)(_class.prototype,"selectedAdvisorsClients",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{currentClients:[],validClients:[],allClients:[]}}}),_descriptor43=Object(applyDecoratedDescriptor.a)(_class.prototype,"businessInstance",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),Object(applyDecoratedDescriptor.a)(_class.prototype,"setBusinessApps",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"setBusinessApps"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setBusinessDetailApps",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"setBusinessDetailApps"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setLoading",[_dec3],Object.getOwnPropertyDescriptor(_class.prototype,"setLoading"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setInitialFields",[_dec4],Object.getOwnPropertyDescriptor(_class.prototype,"setInitialFields"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"renderDisconnectConfirmation",[_dec5],Object.getOwnPropertyDescriptor(_class.prototype,"renderDisconnectConfirmation"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"storeSubscription",[_dec6],Object.getOwnPropertyDescriptor(_class.prototype,"storeSubscription"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"storeInitSubscription",[_dec7],Object.getOwnPropertyDescriptor(_class.prototype,"storeInitSubscription"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"fetchAdvisorsLoading",[_dec8],Object.getOwnPropertyDescriptor(_class.prototype,"fetchAdvisorsLoading"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setProxyStatus",[_dec9],Object.getOwnPropertyDescriptor(_class.prototype,"setProxyStatus"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"renderDuplicateWarning",[_dec10],Object.getOwnPropertyDescriptor(_class.prototype,"renderDuplicateWarning"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"renderReconnectionConfirmation",[_dec11],Object.getOwnPropertyDescriptor(_class.prototype,"renderReconnectionConfirmation"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"displayAutoCompletePlaces",[_dec12],Object.getOwnPropertyDescriptor(_class.prototype,"displayAutoCompletePlaces"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"storeAdvisorsClients",[_dec13],Object.getOwnPropertyDescriptor(_class.prototype,"storeAdvisorsClients"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"updateBusinessListDetail",[_dec14],Object.getOwnPropertyDescriptor(_class.prototype,"updateBusinessListDetail"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"updateBusinessListApps",[_dec15],Object.getOwnPropertyDescriptor(_class.prototype,"updateBusinessListApps"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"updateBusinessListProfile",[_dec16],Object.getOwnPropertyDescriptor(_class.prototype,"updateBusinessListProfile"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"updateBusinessListSync",[_dec17],Object.getOwnPropertyDescriptor(_class.prototype,"updateBusinessListSync"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"updateBusinessListUsers",[_dec18],Object.getOwnPropertyDescriptor(_class.prototype,"updateBusinessListUsers"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"storeInvitationCount",[_dec19],Object.getOwnPropertyDescriptor(_class.prototype,"storeInvitationCount"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"updatePracticeAdvisors",[_dec20],Object.getOwnPropertyDescriptor(_class.prototype,"updatePracticeAdvisors"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"storeDetailData",[_dec21],Object.getOwnPropertyDescriptor(_class.prototype,"storeDetailData"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"storeInvitationList",[_dec22],Object.getOwnPropertyDescriptor(_class.prototype,"storeInvitationList"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setPracticeId",[_dec23],Object.getOwnPropertyDescriptor(_class.prototype,"setPracticeId"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"renderConfirmationWindow",[_dec24],Object.getOwnPropertyDescriptor(_class.prototype,"renderConfirmationWindow"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"renderClientConfirmationWindow",[_dec25],Object.getOwnPropertyDescriptor(_class.prototype,"renderClientConfirmationWindow"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"editDetailsLoading",[_dec26],Object.getOwnPropertyDescriptor(_class.prototype,"editDetailsLoading"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"autoCompleteIsLoading",[_dec27],Object.getOwnPropertyDescriptor(_class.prototype,"autoCompleteIsLoading"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setFirstTimeClientSetup",[_dec28],Object.getOwnPropertyDescriptor(_class.prototype,"setFirstTimeClientSetup"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"pushDataToDetailArray",[_dec29],Object.getOwnPropertyDescriptor(_class.prototype,"pushDataToDetailArray"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"storeData",[_dec30],Object.getOwnPropertyDescriptor(_class.prototype,"storeData"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setConnectionSettings",[_dec31],Object.getOwnPropertyDescriptor(_class.prototype,"setConnectionSettings"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setXeroConnection",[_dec32],Object.getOwnPropertyDescriptor(_class.prototype,"setXeroConnection"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"buildAccessTokenCache",[_dec33],Object.getOwnPropertyDescriptor(_class.prototype,"buildAccessTokenCache"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"getBusinessAccessTokenFromCache",[_dec34],Object.getOwnPropertyDescriptor(_class.prototype,"getBusinessAccessTokenFromCache"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setBusinessAccessToken",[_dec35],Object.getOwnPropertyDescriptor(_class.prototype,"setBusinessAccessToken"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setSelectedBusinessId",[_dec36],Object.getOwnPropertyDescriptor(_class.prototype,"setSelectedBusinessId"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setSelectedBusinessData",[_dec37],Object.getOwnPropertyDescriptor(_class.prototype,"setSelectedBusinessData"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"shouldInviteUser",[_dec38],Object.getOwnPropertyDescriptor(_class.prototype,"shouldInviteUser"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setBusinessFirstTimeSetup",[_dec39],Object.getOwnPropertyDescriptor(_class.prototype,"setBusinessFirstTimeSetup"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"shouldConfigureBusiness",[_dec40],Object.getOwnPropertyDescriptor(_class.prototype,"shouldConfigureBusiness"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"shouldSetUpPractice",[_dec41],Object.getOwnPropertyDescriptor(_class.prototype,"shouldSetUpPractice"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setInvitations",[_dec42],Object.getOwnPropertyDescriptor(_class.prototype,"setInvitations"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"addToInvitations",[_dec43],Object.getOwnPropertyDescriptor(_class.prototype,"addToInvitations"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"storeInvitationListSplit",[_dec44],Object.getOwnPropertyDescriptor(_class.prototype,"storeInvitationListSplit"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"storeAdvisorInvitations",[_dec45],Object.getOwnPropertyDescriptor(_class.prototype,"storeAdvisorInvitations"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"refreshTokensIfExpired",[_dec46],Object.getOwnPropertyDescriptor(_class.prototype,"refreshTokensIfExpired"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"setUsersList",[_dec47],Object.getOwnPropertyDescriptor(_class.prototype,"setUsersList"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"selectBusiness",[_dec48],Object.getOwnPropertyDescriptor(_class.prototype,"selectBusiness"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"selectBusiness2",[_dec49],Object.getOwnPropertyDescriptor(_class.prototype,"selectBusiness2"),_class.prototype),Object(applyDecoratedDescriptor.a)(_class.prototype,"selectBusinessAfterClaimingConnection",[_dec50],Object.getOwnPropertyDescriptor(_class.prototype,"selectBusinessAfterClaimingConnection"),_class.prototype),_descriptor44=Object(applyDecoratedDescriptor.a)(_class.prototype,"dataArray",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[{id:0},{id:2}]}}),_class),conversationService_ConversationService=function(){function ConversationService(){Object(classCallCheck.a)(this,ConversationService)}var _refreshAuth,_provideFeedback,_favoriteNotification,_removeMessageFromFavorites,_markNotificiation,_runCashflowCheckMessageAction,_runDirectMessageAction,_scheduleMessageAction,_runGSTPayable,_runIncomeTaxEstimate,_runKeyDatesMessageAction,_scheduleReconciliationMessageAction,_getUnreadProactiveMessagesNoLoad,_cancelScheduledMessage,_getManagedFeed,_getPreviousMessagesFromTimestamp,_resumeActiveConversationFromMessage,_scheduleMessage,_startConversationViaAlternative;return Object(createClass.a)(ConversationService,null,[{key:"startConversationAction",value:function startConversationAction(query,links,access_token){Store_rootStore.conversationStore.setResponseLoading(!0),Store_rootStore.registerGAEvent("sendMessage"),Object(network.e)("".concat(links.initiateConversation.href,"?query=").concat(query),{Authorization:"Bearer ".concat(access_token)},{}).then((function(data){Store_rootStore.conversationStore.storeConversationData(data,Store_rootStore.businessStore.selectedBusinessId).then((function(res){Store_rootStore.authStore.setLoading(!1)}),(function(e){console.log(e),Store_rootStore.conversationStore.setResponseLoading(!1)}))}),(function(error){Store_rootStore.registerGAEvent("otherError"),Store_rootStore.conversationStore.setResponseLoading(!1),console.log("err:",error)})).catch((function(e){esm.a(e),console.log("other error",e),Store_rootStore.conversationStore.setResponseLoading(!1)}))}},{key:"startConversationViaAlternative",value:(_startConversationViaAlternative=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(query,links,access_token,intentKey){var tokens;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return console.log(".intent",intentKey),_context.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context.sent,Store_rootStore.conversationStore.setResponseLoading(!0),Store_rootStore.registerGAEvent("sendMessage"),_context.abrupt("return",axios_default()({method:"post",url:"".concat(links.initiateConversation.href,"/active/messages?action=").concat(intentKey,"&text=").concat(query),data:"finance-income-tax-estimate"===intentKey?{_embedded:{parameters:{"date-period":{analyzedDatePeriod:{tense:"past",granularity:"month",offset:0,span:1}}}}}:{},headers:{"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY,Authorization:"Bearer ".concat(tokens.access_token)}}).then((function(data){Store_rootStore.conversationStore.storeConversationData(data.data,Store_rootStore.businessStore.selectedBusinessId).then((function(res){Store_rootStore.authStore.setLoading(!1)}),(function(e){console.log(e),Store_rootStore.conversationStore.setResponseLoading(!1)}))}),(function(error){Store_rootStore.registerGAEvent("otherError"),Store_rootStore.conversationStore.setResponseLoading(!1),console.log("err:",error)})).catch((function(e){esm.a(e),console.log("other error",e),Store_rootStore.conversationStore.setResponseLoading(!1)})));case 7:case"end":return _context.stop()}}),_callee)}))),function startConversationViaAlternative(_x,_x2,_x3,_x4){return _startConversationViaAlternative.apply(this,arguments)})},{key:"continueConversationAction",value:function continueConversationAction(query,links,access_token,conversationId,isAdvisorSent){var intentBody={};"cashflow check"!==query&&"Income tax estimate"!==query||!isAdvisorSent||(intentBody={_embedded:{parameters:{"date-period":{analyzedDatePeriod:{tense:"past",granularity:"month",offset:0,span:1}}}}}),Store_rootStore.conversationStore.setResponseLoading(!0),Object(network.e)("".concat(links.initiateConversation.href,"/").concat(conversationId,"/messages?query=").concat(query),{Authorization:"Bearer ".concat(access_token)},intentBody).then((function(data){data&&Store_rootStore.conversationStore.storeConversationData(data,Store_rootStore.businessStore.selectedBusinessId).then((function(res){Store_rootStore.authStore.setLoading(!1)}),(function(e){console.log(e),Store_rootStore.conversationStore.setResponseLoading(!0)}))}),(function(error){console.log("err:",error)})).catch((function(e){esm.a(e),Store_rootStore.conversationStore.setResponseLoading(!1)}))}},{key:"getActiveConversation",value:function getActiveConversation(links,access_token){Store_rootStore.conversationStore.setMessagesLoading(!0),Object(network.d)("".concat(links.resumeConversation.href),{Authorization:"Bearer ".concat(access_token)}).then((function(data){Store_rootStore.conversationStore.storeConversationData(data,null).then((function(res){Store_rootStore.conversationStore.setMessagesLoading(!1)}),(function(e){console.log(e),Store_rootStore.conversationStore.setMessagesLoading(!0)}))}),(function(error){console.log("err:",error)})).catch((function(e){esm.a(e),Store_rootStore.conversationStore.setMessagesLoading(!1)}))}},{key:"scheduleMessage",value:(_scheduleMessage=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(links,access_token,conversationId,messageId,timestamp){var tokens;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:tokens=_context2.sent,Store_rootStore.authStore.Intercom("trackEvent","scheduled-favourite",{business_id:Store_rootStore.businessStore.selectedBusinessId}),Store_rootStore.conversationStore.setMessagesLoading(!0),Object(network.e)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/").concat(conversationId,"/messages/").concat(messageId,"/scheduled"),{Authorization:"Bearer ".concat(tokens.access_token)},{afterTimestamp:timestamp}).then((function(data){Store_rootStore.conversationStore.setScheduledMessage(data,messageId).then((function(res){Store_rootStore.conversationStore.setMessagesLoading(!1)}),(function(e){console.log(e),Store_rootStore.conversationStore.setMessagesLoading(!0)}))}),(function(error){console.log("err:",error)}));case 6:case"end":return _context2.stop()}}),_callee2)}))),function scheduleMessage(_x5,_x6,_x7,_x8,_x9){return _scheduleMessage.apply(this,arguments)})},{key:"resumeActiveConversationFromMessage",value:(_resumeActiveConversationFromMessage=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(links,access_token,conversationId,messageId){var tokens;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:tokens=_context3.sent,Object(network.e)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/").concat(conversationId,"/messages/").concat(messageId,"/resume"),{Authorization:"Bearer ".concat(tokens.access_token)},{}).then((function(data){Store_rootStore.conversationStore.setActiveConversationAsResumed(data,messageId),Store_rootStore.authStore.setLoading(!1)}),(function(error){console.log("err:",error)}));case 4:case"end":return _context3.stop()}}),_callee3)}))),function resumeActiveConversationFromMessage(_x10,_x11,_x12,_x13){return _resumeActiveConversationFromMessage.apply(this,arguments)})},{key:"getPreviousMessagesFromTimestamp",value:(_getPreviousMessagesFromTimestamp=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(links,access_token,conversationId,timestamp){var tokens;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return Store_rootStore.conversationStore.setMessagesLoading(!0),_context4.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:tokens=_context4.sent,Object(network.d)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/").concat(conversationId,"/messages?beforeTimestamp=").concat(timestamp),{Authorization:"Bearer ".concat(tokens.access_token)}).then((function(data){Store_rootStore.conversationStore.loadPreviousMessages(data,conversationId),Store_rootStore.authStore.setLoading(!1)}),(function(error){console.log("err:",error),Store_rootStore.conversationStore.setMessagesLoading(!0)}));case 5:case"end":return _context4.stop()}}),_callee4)}))),function getPreviousMessagesFromTimestamp(_x14,_x15,_x16,_x17){return _getPreviousMessagesFromTimestamp.apply(this,arguments)})},{key:"getProactiveMessages",value:function getProactiveMessages(links,access_token){var businessId=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Store_rootStore.conversationStore.setNotificationsLoading(!0),Object(network.d)("".concat(links.resumeConversation.href,"/?includeLabels=proactive event"),{Authorization:"Bearer ".concat(access_token)}).then((function(data){if(data){var id=data._embedded.conversation.id,readMessages=data._embedded.conversation.messages.filter((function(message){message.labels.includes("read")}));Store_rootStore.conversationStore.storeReadProactiveMessageData(readMessages,id,businessId),Store_rootStore.conversationStore.storeProactiveMessageData(data,businessId).then((function(res){Store_rootStore.authStore.setLoading(!1)}),(function(e){console.log(e),Store_rootStore.conversationStore.setNotificationsLoading(!1)}))}else Store_rootStore.authStore.setLoading(!1),Store_rootStore.conversationStore.setNotificationsLoading(!1)}),(function(error){console.log("err:",error)}))}},{key:"getManagedFeed",value:(_getManagedFeed=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee5(links,access_token){var businessId,tokens,_args5=arguments;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return businessId=_args5.length>2&&void 0!==_args5[2]?_args5[2]:null,_context5.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:tokens=_context5.sent,Store_rootStore.conversationStore.setScheduledMessagesLoading(!0),Object(network.d)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/feed/managed"),{Authorization:"Bearer ".concat(tokens.access_token)}).then((function(data){data&&Store_rootStore.conversationStore.storeScheduledMessages(data,businessId).then((function(res){Store_rootStore.conversationStore.setScheduledMessagesLoading(!1)}),(function(e){console.log(e),Store_rootStore.conversationStore.setScheduledMessagesLoading(!1)}))}),(function(error){console.log("err:",error)}));case 6:case"end":return _context5.stop()}}),_callee5)}))),function getManagedFeed(_x18,_x19){return _getManagedFeed.apply(this,arguments)})},{key:"cancelScheduledMessage",value:(_cancelScheduledMessage=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee6(links){var _this=this;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:try{axios_default()({method:"delete",url:"".concat(links.cancel.href),headers:{Authorization:"Bearer ".concat(Store_rootStore.authStore.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return _this.getManagedFeed({},Store_rootStore.businessStore.selectedBusinessAccessToken)}),(function(rej){console.log("rej",rej)}))}catch(e){}case 1:case"end":return _context6.stop()}}),_callee6)}))),function cancelScheduledMessage(_x20){return _cancelScheduledMessage.apply(this,arguments)})},{key:"getFavoriteMessages",value:function getFavoriteMessages(links,access_token){var businessId=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Store_rootStore.conversationStore.setNotificationsLoading(!0),Object(network.d)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/feed"),{Authorization:"Bearer ".concat(access_token)}).then((function(data){data&&Store_rootStore.conversationStore.storeFavoriteMessageData(data,businessId).then((function(res){Store_rootStore.authStore.setLoading(!1)}))}),(function(error){console.log("err:",error)}))}},{key:"getProactiveMessagesNoLoad",value:function getProactiveMessagesNoLoad(links,access_token){var businessId=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(network.d)("".concat(links.resumeConversation.href,"/?includeLabels=proactive event"),{Authorization:"Bearer ".concat(access_token)}).then((function(data){Store_rootStore.conversationStore.storeProactiveMessageData(data,businessId).then((function(res){Store_rootStore.authStore.setLoading(!1)}),(function(e){console.log(e),Store_rootStore.conversationStore.setNotificationsLoading(!1)}))}),(function(error){console.log("err:",error)}))}},{key:"getUnreadProactiveMessagesNoLoad",value:(_getUnreadProactiveMessagesNoLoad=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee7(links,access_token){var businessId,_args7=arguments;return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:businessId=_args7.length>2&&void 0!==_args7[2]?_args7[2]:null,console.log(".fetching"),Object(network.d)("".concat(links.resumeConversation.href,"/?includeLabels=proactive event"),{Authorization:"Bearer ".concat(access_token)}).then((function(data){if(data){var unreadMessagesCount=data._embedded.conversation.messages.filter((function(message){return!message.labels.includes("read")&&message.intent.topicAction&&"invoice-overdue"!==message.intent.topicAction&&message.intent.topicAction&&"bill-overdue"!==message.intent.topicAction})).length;Store_rootStore.businessStore.updateBusinessListDetail(businessId,unreadMessagesCount,null)}}),(function(error){console.log("err:",error)}));case 3:case"end":return _context7.stop()}}),_callee7)}))),function getUnreadProactiveMessagesNoLoad(_x21,_x22){return _getUnreadProactiveMessagesNoLoad.apply(this,arguments)})},{key:"scheduleReconciliationMessageAction",value:(_scheduleReconciliationMessageAction=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee8(users){var tokens,data;return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return Store_rootStore.conversationStore.sendingMessageIsLoading(!0),_context8.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context8.sent,Store_rootStore.authStore.Intercom("trackEvent","sent-request_reconciliation",{user_id:Store_rootStore.authStore.user.uid}),_context8.prev=5,_context8.next=8,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/messages/advisor?intentKey=finance-reconciliation-request"),data:{_embedded:{recipients:users}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 8:if(!(data=_context8.sent)){_context8.next=12;break}return Store_rootStore.conversationStore.renderMessageSentWindow(!1,data.data._embedded.recipients.length,"reconciliation request"),_context8.abrupt("return",Store_rootStore.conversationStore.sendingMessageIsLoading(!1));case 12:_context8.next=17;break;case 14:_context8.prev=14,_context8.t0=_context8.catch(5),console.log("invalid request",_context8.t0);case 17:case"end":return _context8.stop()}}),_callee8,null,[[5,14]])}))),function scheduleReconciliationMessageAction(_x23){return _scheduleReconciliationMessageAction.apply(this,arguments)})},{key:"runKeyDatesMessageAction",value:(_runKeyDatesMessageAction=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee9(type,users){var tokens,data;return regenerator_default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return Store_rootStore.conversationStore.sendingMessageIsLoading(!0),_context9.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context9.sent,Store_rootStore.authStore.Intercom("trackEvent","sent-key_dates_check",{user_id:Store_rootStore.authStore.user.id}),_context9.prev=5,_context9.next=8,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/messages/advisor?intentKey=finance-sales-tax"),data:{_embedded:{recipients:users}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 8:if(!(data=_context9.sent)){_context9.next=12;break}return Store_rootStore.conversationStore.renderMessageSentWindow(!1,data.data._embedded.recipients.length,"key tax dates reminder"),_context9.abrupt("return",Store_rootStore.conversationStore.sendingMessageIsLoading(!1));case 12:_context9.next=17;break;case 14:_context9.prev=14,_context9.t0=_context9.catch(5),console.log("invalid request",_context9.t0);case 17:case"end":return _context9.stop()}}),_callee9,null,[[5,14]])}))),function runKeyDatesMessageAction(_x24,_x25){return _runKeyDatesMessageAction.apply(this,arguments)})},{key:"runIncomeTaxEstimate",value:(_runIncomeTaxEstimate=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee10(users){var tokens,data;return regenerator_default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return Store_rootStore.conversationStore.sendingMessageIsLoading(!0),_context10.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context10.sent,Store_rootStore.authStore.Intercom("trackEvent","sent-finance_income_tax_estimate",{user_id:Store_rootStore.authStore.user.id}),_context10.prev=5,_context10.next=8,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/messages/advisor?intentKey=finance-income-tax-estimate"),data:{_embedded:{recipients:users,parameters:{"date-period":{analyzedDatePeriod:{tense:"past",granularity:"month",offset:0,span:1}}}}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 8:if(!(data=_context10.sent)){_context10.next=12;break}return Store_rootStore.conversationStore.renderMessageSentWindow(!1,data.data._embedded.recipients.length,"income tax estimate"),_context10.abrupt("return",Store_rootStore.conversationStore.sendingMessageIsLoading(!1));case 12:_context10.next=17;break;case 14:_context10.prev=14,_context10.t0=_context10.catch(5),console.log("invalid request",_context10.t0);case 17:case"end":return _context10.stop()}}),_callee10,null,[[5,14]])}))),function runIncomeTaxEstimate(_x26){return _runIncomeTaxEstimate.apply(this,arguments)})},{key:"runGSTPayable",value:(_runGSTPayable=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee11(users){var tokens,data;return regenerator_default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return Store_rootStore.conversationStore.sendingMessageIsLoading(!0),_context11.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context11.sent,Store_rootStore.authStore.Intercom("trackEvent","sent-finance_sales_tax_due",{user_id:Store_rootStore.authStore.user.id}),_context11.prev=5,_context11.next=8,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/messages/advisor?intentKey=finance-sales-tax-due"),data:{_embedded:{recipients:users}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 8:if(!(data=_context11.sent)){_context11.next=12;break}return Store_rootStore.conversationStore.renderMessageSentWindow(!1,data.data._embedded.recipients.length,"GST Payable estimate"),_context11.abrupt("return",Store_rootStore.conversationStore.sendingMessageIsLoading(!1));case 12:_context11.next=17;break;case 14:_context11.prev=14,_context11.t0=_context11.catch(5),console.log("invalid request",_context11.t0);case 17:case"end":return _context11.stop()}}),_callee11,null,[[5,14]])}))),function runGSTPayable(_x27){return _runGSTPayable.apply(this,arguments)})},{key:"scheduleMessageAction",value:(_scheduleMessageAction=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee12(intentKey,frequency,timeOfDay,users,messageBody){var tokens,data;return regenerator_default.a.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return Store_rootStore.conversationStore.sendingMessageIsLoading(!0),_context12.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context12.sent,"finance-sales-tax"===intentKey?Store_rootStore.authStore.Intercom("trackEvent","scheduled-key_dates_check",{}):"finance-sales-tax-due"===intentKey?Store_rootStore.authStore.Intercom("trackEvent","scheduled-finance_sales_tax_due",{}):"finance-cash-flow"===intentKey?Store_rootStore.authStore.Intercom("trackEvent","scheduled-cash_flow_check",{}):"finance-reconciliation-request"===intentKey?Store_rootStore.authStore.Intercom("trackEvent","scheduled-request_reconciliation",{}):"finance-reconciliation-request"===intentKey&&Store_rootStore.authStore.Intercom("trackEvent","scheduled-finance_income_tax_estimate",{}),_context12.prev=6,_context12.next=9,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/messages/advisor/schedule?intentKey=").concat(intentKey,"&frequency=").concat(frequency,"&timeOfDay=").concat(timeOfDay),data:{_embedded:{recipients:users,parameters:"direct-message"===intentKey?{advisorMessageBody:messageBody,advisorTask:null,advisorTaskUrl:null,notificationTitle:"Direct Message from ".concat(Store_rootStore.authStore.practiceUser.user.givenName," ").concat(Store_rootStore.authStore.practiceUser.user.familyName),advisorName:"".concat(Store_rootStore.authStore.practiceUser.user.givenName," ").concat(Store_rootStore.authStore.practiceUser.user.familyName)}:null}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 9:(data=_context12.sent)&&(Store_rootStore.conversationStore.renderMessageSentWindow(!1,data.data._embedded.recipients.length,"scheduled message"),Store_rootStore.conversationStore.sendingMessageIsLoading(!1)),_context12.next=16;break;case 13:_context12.prev=13,_context12.t0=_context12.catch(6),console.log("invalid request",_context12.t0);case 16:case"end":return _context12.stop()}}),_callee12,null,[[6,13]])}))),function scheduleMessageAction(_x28,_x29,_x30,_x31,_x32){return _scheduleMessageAction.apply(this,arguments)})},{key:"runDirectMessageAction",value:(_runDirectMessageAction=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee13(type,messageBody,users){var tokens,data;return regenerator_default.a.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return Store_rootStore.conversationStore.sendingMessageIsLoading(!0),_context13.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context13.sent,Store_rootStore.authStore.Intercom("trackEvent","sent-custom_message",{user_id:Store_rootStore.authStore.user.uid}),_context13.prev=5,_context13.next=8,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/messages/advisor?intentKey=advisor-custom-message"),data:{_embedded:{recipients:users,parameters:{advisorMessageBody:messageBody,advisorTask:null,advisorTaskUrl:null,notificationTitle:"Direct Message from ".concat(Store_rootStore.authStore.practiceUser.user.givenName," ").concat(Store_rootStore.authStore.practiceUser.user.familyName),advisorName:"".concat(Store_rootStore.authStore.practiceUser.user.givenName," ").concat(Store_rootStore.authStore.practiceUser.user.familyName)}}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 8:(data=_context13.sent)&&(Store_rootStore.conversationStore.renderMessageSentWindow(!1,data.data._embedded.recipients.length,"direct message"),Store_rootStore.conversationStore.sendingMessageIsLoading(!1)),_context13.next=16;break;case 12:_context13.prev=12,_context13.t0=_context13.catch(5),console.log("invalid request",_context13.t0),Store_rootStore.conversationStore.sendingMessageIsLoading(!1);case 16:case"end":return _context13.stop()}}),_callee13,null,[[5,12]])}))),function runDirectMessageAction(_x33,_x34,_x35){return _runDirectMessageAction.apply(this,arguments)})},{key:"runCashflowCheckMessageAction",value:(_runCashflowCheckMessageAction=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee14(type,users){var tokens,data;return regenerator_default.a.wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return Store_rootStore.conversationStore.sendingMessageIsLoading(!0),_context14.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context14.sent,Store_rootStore.authStore.Intercom("trackEvent","sent-cash_flow_check",{user_id:Store_rootStore.authStore.user.uid}),_context14.prev=5,_context14.next=8,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/messages/advisor?intentKey=finance-cash-flow"),data:{_embedded:{recipients:users,parameters:{"date-period":{analyzedDatePeriod:{tense:"past",granularity:"month",offset:0,span:1}}}}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 8:(data=_context14.sent)&&(Store_rootStore.conversationStore.renderMessageSentWindow(!1,data.data._embedded.recipients.length,"cash flow check"),Store_rootStore.conversationStore.sendingMessageIsLoading(!1)),_context14.next=15;break;case 12:_context14.prev=12,_context14.t0=_context14.catch(5),console.log("invalid request",_context14.t0);case 15:case"end":return _context14.stop()}}),_callee14,null,[[5,12]])}))),function runCashflowCheckMessageAction(_x36,_x37){return _runCashflowCheckMessageAction.apply(this,arguments)})},{key:"dismissNotification",value:function dismissNotification(id){}},{key:"markNotificiation",value:(_markNotificiation=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee15(id,url){var tokens;return regenerator_default.a.wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context15.sent,_context15.prev=3,_context15.next=6,axios_default()({method:"put",url:url,data:{},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 6:_context15.sent,ConversationService.getProactiveMessagesNoLoad(Store_rootStore.authStore.links,tokens.access_token,Store_rootStore.businessStore.selectedBusinessId),Store_rootStore.conversationStore.getUnreadProactiveMessagesNoLoad(Store_rootStore.authStore.links,tokens.access_token,Store_rootStore.businessStore.selectedBusinessId),_context15.next=14;break;case 11:_context15.prev=11,_context15.t0=_context15.catch(3),console.log("invalid request",_context15.t0);case 14:case"end":return _context15.stop()}}),_callee15,null,[[3,11]])}))),function markNotificiation(_x38,_x39){return _markNotificiation.apply(this,arguments)})},{key:"removeMessageFromFavorites",value:(_removeMessageFromFavorites=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee16(url){var tokens;return regenerator_default.a.wrap((function _callee16$(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context16.sent,_context16.prev=3,_context16.next=6,axios_default()({method:"delete",url:url,data:{},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 6:_context16.sent,ConversationService.getFavoriteMessages(Store_rootStore.authStore.links,tokens.access_token,Store_rootStore.businessStore.selectedBusinessId),_context16.next=13;break;case 10:_context16.prev=10,_context16.t0=_context16.catch(3),console.log("invalid request",_context16.t0);case 13:case"end":return _context16.stop()}}),_callee16,null,[[3,10]])}))),function removeMessageFromFavorites(_x40){return _removeMessageFromFavorites.apply(this,arguments)})},{key:"favoriteNotification",value:(_favoriteNotification=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee17(conversationId,messageId){var tokens;return regenerator_default.a.wrap((function _callee17$(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return _context17.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context17.sent,Store_rootStore.authStore.Intercom("trackEvent","scheduled-favourite",{business_id:Store_rootStore.businessStore.selectedBusinessId}),_context17.prev=4,_context17.next=7,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/").concat(conversationId,"/messages/").concat(messageId,"/favourite"),data:{},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 7:_context17.sent,ConversationService.getProactiveMessagesNoLoad(Store_rootStore.authStore.links,tokens.access_token,Store_rootStore.businessStore.selectedBusinessId),ConversationService.getFavoriteMessages(Store_rootStore.authStore.links,tokens.access_token,Store_rootStore.businessStore.selectedBusinessId),_context17.next=15;break;case 12:_context17.prev=12,_context17.t0=_context17.catch(4),console.log("invalid request",_context17.t0);case 15:case"end":return _context17.stop()}}),_callee17,null,[[4,12]])}))),function favoriteNotification(_x41,_x42){return _favoriteNotification.apply(this,arguments)})},{key:"saveNotification",value:function saveNotification(id){ConversationService.getProactiveMessagesNoLoad(Store_rootStore.authStore.links,Store_rootStore.businessStore.selectedBusinessAccessToken,Store_rootStore.businessStore.selectedBusinessId)}},{key:"deeplinkNotification",value:function deeplinkNotification(id){}},{key:"provideFeedback",value:(_provideFeedback=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee18(links,access_token,conversationId,messageId,vote){var tokens,data;return regenerator_default.a.wrap((function _callee18$(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return Store_rootStore.conversationStore.setResponseLoading(!0),_context18.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context18.sent,_context18.prev=4,_context18.next=7,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/").concat(conversationId,"/messages/").concat(messageId,"/votes/").concat(vote),data:{},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}});case 7:(data=_context18.sent)&&data.data._embedded?(Store_rootStore.conversationStore.integrateFeedbackAnswerWithConversation(data.data,messageId),Store_rootStore.conversationStore.tagMessageWithFeedback(data.data,messageId)):console.log("invalid",data),_context18.next=14;break;case 11:_context18.prev=11,_context18.t0=_context18.catch(4),console.log("invalid request, rerunning",_context18.t0);case 14:case"end":return _context18.stop()}}),_callee18,null,[[4,11]])}))),function provideFeedback(_x43,_x44,_x45,_x46,_x47){return _provideFeedback.apply(this,arguments)})},{key:"refreshAuth",value:(_refreshAuth=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee19(){var businessId,tokens;return regenerator_default.a.wrap((function _callee19$(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:return businessId=Store_rootStore.businessStore.selectedBusinessId,tokens=Store_rootStore.authStore.tokenRegistry.find((function(registry){return registry.id===businessId})),_context19.abrupt("return",Object(network.g)(Store_rootStore.authStore.links,tokens.tokens).then((function(updatedTokens){return Store_rootStore.authStore.refreshBusinessTokens(updatedTokens,businessId),{updatedTokens:updatedTokens,businessId:businessId}})));case 3:case"end":return _context19.stop()}}),_callee19)}))),function refreshAuth(){return _refreshAuth.apply(this,arguments)})},{key:"provideFeedbackOnAnswer",value:function provideFeedbackOnAnswer(links,access_token,conversationId,messageId,feedback,category,responseType){var feedbackType="up"===responseType?"positive":"negative";return axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/conversations/").concat(conversationId,"/messages/").concat(messageId,"/feedback/").concat(feedbackType),data:{_embedded:{messageFeedback:{labels:[category],comments:feedback}}},headers:{Authorization:"Bearer ".concat(access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){})).catch((function(e){esm.a(e)}))}},{key:"fetchRecommendedQuestionsBasedOnAppSelection",value:function fetchRecommendedQuestionsBasedOnAppSelection(ospKey,appKey,filter){return axios_default()({method:"get",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_ENDPOINT,"/recommendations/questions?ospKey=").concat(ospKey,"&appKey=").concat(appKey,"&filter=").concat(filter),headers:{Authorization:"Bearer ".concat(Store_rootStore.businessStore.selectedBusinessAccessToken),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(res){return Store_rootStore.conversationStore.storeRecommendedQuestions(res.data._embedded.recommendations)})).catch((function(e){esm.a(e)}))}}]),ConversationService}(),conversationStore_ConversationStore=(conversationStore_dec=mobx_module.action.bound,conversationStore_dec2=mobx_module.action.bound,conversationStore_dec3=mobx_module.action.bound,conversationStore_dec4=mobx_module.action.bound,conversationStore_dec5=mobx_module.action.bound,conversationStore_dec6=mobx_module.action.bound,conversationStore_dec7=mobx_module.action.bound,conversationStore_dec8=mobx_module.action.bound,conversationStore_dec9=mobx_module.action.bound,conversationStore_dec10=mobx_module.action.bound,conversationStore_dec11=mobx_module.action.bound,conversationStore_dec12=mobx_module.action.bound,conversationStore_dec13=mobx_module.action.bound,conversationStore_dec14=mobx_module.action.bound,conversationStore_dec15=mobx_module.action.bound,conversationStore_dec16=mobx_module.action.bound,conversationStore_dec17=mobx_module.action.bound,conversationStore_dec18=mobx_module.action.bound,conversationStore_dec19=mobx_module.action.bound,conversationStore_class=function(){function ConversationStore(rootStore){Object(classCallCheck.a)(this,ConversationStore),this.rootStore=void 0,this.continueConversationAction=void 0,this.startConversationAction=void 0,this.getActiveConversation=void 0,this.scheduleMessage=void 0,this.getProactiveMessages=void 0,this.getUnreadProactiveMessagesNoLoad=void 0,this.provideFeedback=void 0,this.provideFeedbackOnAnswer=void 0,this.resumeActiveConversationFromMessage=void 0,this.getPreviousMessagesFromTimestamp=void 0,this.scheduleReconciliationMessageAction=void 0,this.runCashflowCheckMessageAction=void 0,this.runKeyDatesMessageAction=void 0,this.dismissNotification=void 0,this.favoriteNotification=void 0,this.saveNotification=void 0,this.deeplinkNotification=void 0,this.markNotification=void 0,this.getFavoriteMessages=void 0,this.removeMessageFromFavorites=void 0,this.scheduleMessageAction=void 0,this.runDirectMessageAction=void 0,this.runIncomeTaxEstimate=void 0,this.fetchRecommendedQuestionsBasedOnAppSelection=void 0,this.getManagedFeed=void 0,this.cancelScheduledMessage=void 0,this.startConversationViaAlternative=void 0,this.runGSTPayable=void 0,Object(initializerDefineProperty.a)(this,"trainAiderVisible",conversationStore_descriptor,this),Object(initializerDefineProperty.a)(this,"responseLoading",conversationStore_descriptor2,this),Object(initializerDefineProperty.a)(this,"scheduledMessagesLoading",conversationStore_descriptor3,this),Object(initializerDefineProperty.a)(this,"messagesLoading",conversationStore_descriptor4,this),Object(initializerDefineProperty.a)(this,"notificationsLoading",conversationStore_descriptor5,this),Object(initializerDefineProperty.a)(this,"messageSentWindowIsRendered",conversationStore_descriptor6,this),Object(initializerDefineProperty.a)(this,"recipientCount",conversationStore_descriptor7,this),Object(initializerDefineProperty.a)(this,"recipientType",conversationStore_descriptor8,this),Object(initializerDefineProperty.a)(this,"sendingMessageLoading",conversationStore_descriptor9,this),Object(initializerDefineProperty.a)(this,"currentConversation",conversationStore_descriptor10,this),Object(initializerDefineProperty.a)(this,"currentProactiveMessages",conversationStore_descriptor11,this),Object(initializerDefineProperty.a)(this,"currentManagedMessages",conversationStore_descriptor12,this),Object(initializerDefineProperty.a)(this,"currentFavoritedMessages",conversationStore_descriptor13,this),Object(initializerDefineProperty.a)(this,"readProactiveMessages",conversationStore_descriptor14,this),Object(initializerDefineProperty.a)(this,"conversationArray",conversationStore_descriptor15,this),Object(initializerDefineProperty.a)(this,"recommendedQuestions",conversationStore_descriptor16,this),this.rootStore=rootStore,this.startConversationAction=conversationService_ConversationService.startConversationAction,this.startConversationViaAlternative=conversationService_ConversationService.startConversationViaAlternative,this.continueConversationAction=conversationService_ConversationService.continueConversationAction,this.getActiveConversation=conversationService_ConversationService.getActiveConversation,this.getProactiveMessages=conversationService_ConversationService.getProactiveMessages,this.getUnreadProactiveMessagesNoLoad=conversationService_ConversationService.getUnreadProactiveMessagesNoLoad,this.getFavoriteMessages=conversationService_ConversationService.getFavoriteMessages,this.provideFeedback=conversationService_ConversationService.provideFeedback,this.scheduleMessage=conversationService_ConversationService.scheduleMessage,this.provideFeedbackOnAnswer=conversationService_ConversationService.provideFeedbackOnAnswer,this.resumeActiveConversationFromMessage=conversationService_ConversationService.resumeActiveConversationFromMessage,this.getPreviousMessagesFromTimestamp=conversationService_ConversationService.getPreviousMessagesFromTimestamp,this.scheduleReconciliationMessageAction=conversationService_ConversationService.scheduleReconciliationMessageAction,this.runCashflowCheckMessageAction=conversationService_ConversationService.runCashflowCheckMessageAction,this.runKeyDatesMessageAction=conversationService_ConversationService.runKeyDatesMessageAction,this.dismissNotification=conversationService_ConversationService.dismissNotification,this.favoriteNotification=conversationService_ConversationService.favoriteNotification,this.saveNotification=conversationService_ConversationService.saveNotification,this.deeplinkNotification=conversationService_ConversationService.deeplinkNotification,this.markNotification=conversationService_ConversationService.markNotificiation,this.removeMessageFromFavorites=conversationService_ConversationService.removeMessageFromFavorites,this.scheduleMessageAction=conversationService_ConversationService.scheduleMessageAction,this.runIncomeTaxEstimate=conversationService_ConversationService.runIncomeTaxEstimate,this.runDirectMessageAction=conversationService_ConversationService.runDirectMessageAction,this.getManagedFeed=conversationService_ConversationService.getManagedFeed,this.cancelScheduledMessage=conversationService_ConversationService.cancelScheduledMessage,this.runGSTPayable=conversationService_ConversationService.runGSTPayable,this.fetchRecommendedQuestionsBasedOnAppSelection=conversationService_ConversationService.fetchRecommendedQuestionsBasedOnAppSelection}var _clearConversationData,_loadPreviousMessages,_setScheduledMessage,_setActiveConversationAsResumed,_integrateFeedbackAnswerWithConversation,_tagMessageWithFeedback,_storeReadProactiveMessageData,_storeFavoriteMessageData,_storeScheduledMessages,_storeProactiveMessageData,_storeConversationData,_storeRecommendedQuestions;return Object(createClass.a)(ConversationStore,[{key:"setTrainAiderVisible",value:function setTrainAiderVisible(isVisible){return this.trainAiderVisible=isVisible}},{key:"storeRecommendedQuestions",value:(_storeRecommendedQuestions=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(questions){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return console.log("RES",questions),this.recommendedQuestions=questions,_context.abrupt("return",questions);case 3:case"end":return _context.stop()}}),_callee,this)}))),function storeRecommendedQuestions(_x){return _storeRecommendedQuestions.apply(this,arguments)})},{key:"setMessagesLoading",value:function setMessagesLoading(loading){return this.messagesLoading=loading}},{key:"setNotificationsLoading",value:function setNotificationsLoading(loading){return this.notificationsLoading=loading}},{key:"setScheduledMessagesLoading",value:function setScheduledMessagesLoading(loading){return this.scheduledMessagesLoading=loading}},{key:"setResponseLoading",value:function setResponseLoading(loading){return this.responseLoading=loading}},{key:"storeConversationData",value:(_storeConversationData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(data,businessId){var _data$_embedded$conve,messages,id,postData;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_data$_embedded$conve=data._embedded.conversation,messages=_data$_embedded$conve.messages,id=_data$_embedded$conve.id,postData=messages.map((function(i){return{questions:i.query||i.text,answers:i.answers,labels:i.labels,alternatives:i.alternatives,messageId:i.id,voted:null,timestamp:i.timestamp,metadata:i.metadata,conversationId:id,hasCard:i.cards&&i.cards.length>=1,cards:i.cards}})),this.currentConversation={messages:this.currentConversation.messages.concat(postData),questions:messages.map((function(i){return i.query})),answers:messages.map((function(i){return i.answers})),conversationId:id},this.setResponseLoading(!1);case 4:case"end":return _context2.stop()}}),_callee2,this)}))),function storeConversationData(_x2,_x3){return _storeConversationData.apply(this,arguments)})},{key:"storeProactiveMessageData",value:(_storeProactiveMessageData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(data,businessId){var _data$_embedded$conve2,messages,id,postData;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _data$_embedded$conve2=data._embedded.conversation,messages=_data$_embedded$conve2.messages,id=_data$_embedded$conve2.id,postData=messages.map((function(i){return{businessId:businessId,questions:i.query,answers:i.answers,labels:i.labels,alternatives:i.alternatives,messageId:i.id,voted:null,timestamp:i.timestamp,metadata:i.metadata,_links:i._links,topic:i.intent&&i.intent.topicAction,hasCard:i.cards&&i.cards.length>=1,cards:i.cards}})).filter((function(notification){return"invoice-overdue"!==notification.topic&&"bill-overdue"!==notification.topic})),this.currentProactiveMessages={messages:this.currentProactiveMessages.messages=postData,questions:messages.map((function(i){return i.query})),answers:messages.map((function(i){return i.answers})),conversationId:id},_context3.abrupt("return",Store_rootStore.conversationStore.setNotificationsLoading(!1));case 4:case"end":return _context3.stop()}}),_callee3,this)}))),function storeProactiveMessageData(_x4,_x5){return _storeProactiveMessageData.apply(this,arguments)})},{key:"storeScheduledMessages",value:(_storeScheduledMessages=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(data,businessId){var managedMessages,postData;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return managedMessages=data._embedded.managedMessages,postData=managedMessages.map((function(i){return{businessId:businessId,action:i.action,createdAt:i.createdAt,createdBy:i.createdBy,frequency:i.frequency,message:i.message,nextExecutionAt:i.nextExecutionAt,recipient:i.recipient,timeOfDay:i.timeOfDay,_links:i._links}})),console.log("message-+",managedMessages),this.currentManagedMessages={messages:this.currentManagedMessages.messages=postData,questions:managedMessages.map((function(i){return i.query})),answers:managedMessages.map((function(i){return i.answers})),conversationId:"id"},_context4.abrupt("return",Store_rootStore.conversationStore.setScheduledMessagesLoading(!1));case 5:case"end":return _context4.stop()}}),_callee4,this)}))),function storeScheduledMessages(_x6,_x7){return _storeScheduledMessages.apply(this,arguments)})},{key:"storeFavoriteMessageData",value:(_storeFavoriteMessageData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee5(data,businessId){var _data$_embedded,scheduledMessages,postData;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _data$_embedded=data._embedded,scheduledMessages=_data$_embedded.scheduledMessages,_data$_embedded.id,postData=scheduledMessages.map((function(i){return{businessId:businessId,questions:i.message.query,answers:i.message.answers,labels:i.message.labels,alternatives:i.message.alternatives,messageId:i.message.id,voted:null,metadata:i.message.metadata,timestamp:i.message.timestamp,_links:i._links,_messageLinks:i.message.links,action:i.action,createdAt:i.createdAt,frequency:i.frequency,nextExecutionAt:i.nextExecutionAt,timeOfDay:i.timeOfDay,topic:i.message.intent&&i.message.intent.topicAction,hasCard:i.message.cards&&i.message.cards.length>=1,cards:i.message.cards}})),this.currentFavoritedMessages=postData,_context5.abrupt("return",Store_rootStore.conversationStore.setNotificationsLoading(!1));case 4:case"end":return _context5.stop()}}),_callee5,this)}))),function storeFavoriteMessageData(_x8,_x9){return _storeFavoriteMessageData.apply(this,arguments)})},{key:"storeReadProactiveMessageData",value:(_storeReadProactiveMessageData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee6(messages,id,businessId){var postData;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return postData=messages.map((function(i){return{businessId:businessId,questions:i.query,answers:i.answers,labels:i.labels,alternatives:i.alternatives,messageId:i.id,voted:null,timestamp:i.timestamp,_links:i._links,topic:i.intent&&i.intent.topicAction,hasCard:i.cards&&i.cards.length>=1,cards:i.cards}})),this.readProactiveMessages={messages:this.readProactiveMessages.messages=postData,questions:messages.map((function(i){return i.query})),answers:messages.map((function(i){return i.answers})),conversationId:id},_context6.abrupt("return",Store_rootStore.conversationStore.setNotificationsLoading(!1));case 3:case"end":return _context6.stop()}}),_callee6,this)}))),function storeReadProactiveMessageData(_x10,_x11,_x12){return _storeReadProactiveMessageData.apply(this,arguments)})},{key:"tagMessageWithFeedback",value:(_tagMessageWithFeedback=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee7(data,messageId){var vote;return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:"up"!==(vote=data._embedded.conversation.messages[0].eventKey)&&"down"!==vote||(this.currentConversation.messages.find((function(i){return i.messageId===messageId})).voted=vote);case 2:case"end":return _context7.stop()}}),_callee7,this)}))),function tagMessageWithFeedback(_x13,_x14){return _tagMessageWithFeedback.apply(this,arguments)})},{key:"integrateFeedbackAnswerWithConversation",value:(_integrateFeedbackAnswerWithConversation=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee8(data,messageId){var _data$_embedded$conve3,messages,id,postData;return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:_data$_embedded$conve3=data._embedded.conversation,messages=_data$_embedded$conve3.messages,id=_data$_embedded$conve3.id,postData=messages.map((function(i){return{questions:"You gave feedback",answers:i.answers,labels:i.labels,alternatives:i.alternatives,messageId:i.id,voted:null,timestamp:i.timestamp,metadata:i.metadata,conversationId:id}})),this.currentConversation={messages:this.currentConversation.messages.concat(postData),questions:messages.map((function(i){return i.query})),answers:messages.map((function(i){return i.answers})),conversationId:id},Store_rootStore.conversationStore.setResponseLoading(!1);case 4:case"end":return _context8.stop()}}),_callee8,this)}))),function integrateFeedbackAnswerWithConversation(_x15,_x16){return _integrateFeedbackAnswerWithConversation.apply(this,arguments)})},{key:"setActiveConversationAsResumed",value:(_setActiveConversationAsResumed=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee9(data,messageId){var _data$_embedded$conve4,messages,id,postData;return regenerator_default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:_data$_embedded$conve4=data._embedded.conversation,messages=_data$_embedded$conve4.messages,id=_data$_embedded$conve4.id,postData=messages.map((function(i){return{questions:"You gave feedback.",answers:i.answers,labels:i.labels,alternatives:i.alternatives,messageId:i.id,voted:null,timestamp:i.timestamp,metadata:i.metadata,conversationId:id}})),this.currentConversation={messages:this.currentConversation.messages.concat(postData),questions:messages.map((function(i){return i.query})),answers:messages.map((function(i){return i.answers})),conversationId:id};case 3:case"end":return _context9.stop()}}),_callee9,this)}))),function setActiveConversationAsResumed(_x17,_x18){return _setActiveConversationAsResumed.apply(this,arguments)})},{key:"setScheduledMessage",value:(_setScheduledMessage=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee10(data,messageId){var _data$_embedded$conve5,messages,id,postData;return regenerator_default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:_data$_embedded$conve5=data._embedded.conversation,messages=_data$_embedded$conve5.messages,id=_data$_embedded$conve5.id,postData=messages.map((function(i){return{questions:"You scheduled a message.",answers:i.answers,labels:i.labels,alternatives:i.alternatives,messageId:i.id,voted:null,timestamp:i.timestamp,metadata:i.metadata,conversationId:id}})),this.currentConversation={messages:this.currentConversation.messages.concat(postData),questions:messages.map((function(i){return i.query})),answers:messages.map((function(i){return i.answers})),conversationId:id};case 3:case"end":return _context10.stop()}}),_callee10,this)}))),function setScheduledMessage(_x19,_x20){return _setScheduledMessage.apply(this,arguments)})},{key:"loadPreviousMessages",value:(_loadPreviousMessages=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee11(data,conversationId){var _data$_embedded$conve6,messages,id,postData;return regenerator_default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:_data$_embedded$conve6=data._embedded.conversation,messages=_data$_embedded$conve6.messages,id=_data$_embedded$conve6.id,postData=messages.map((function(i){return{questions:i.query,answers:i.answers,labels:i.labels,alternatives:i.alternatives,messageId:i.id,voted:null,timestamp:i.timestamp,metadata:i.metadata,conversationId:id}})),this.currentConversation={messages:postData.concat(this.currentConversation.messages),questions:messages.map((function(i){return i.query})),answers:messages.map((function(i){return i.answers})),conversationId:id},this.setMessagesLoading(!1);case 4:case"end":return _context11.stop()}}),_callee11,this)}))),function loadPreviousMessages(_x21,_x22){return _loadPreviousMessages.apply(this,arguments)})},{key:"clearConversationData",value:(_clearConversationData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee12(query){return regenerator_default.a.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:query||(this.currentConversation={messages:[],questions:[],answers:[],conversationId:this.currentConversation.conversationId});case 1:case"end":return _context12.stop()}}),_callee12,this)}))),function clearConversationData(_x23){return _clearConversationData.apply(this,arguments)})},{key:"renderMessageSentWindow",value:function renderMessageSentWindow(isRendered,recipients,type){this.recipientCount=recipients,this.recipientType=type,this.messageSentWindowIsRendered=isRendered}},{key:"sendingMessageIsLoading",value:function sendingMessageIsLoading(isLoading){this.sendingMessageLoading=isLoading}}]),ConversationStore}(),conversationStore_descriptor=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"trainAiderVisible",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),conversationStore_descriptor2=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"responseLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),conversationStore_descriptor3=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"scheduledMessagesLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),conversationStore_descriptor4=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"messagesLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),conversationStore_descriptor5=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"notificationsLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),conversationStore_descriptor6=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"messageSentWindowIsRendered",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),conversationStore_descriptor7=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"recipientCount",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),conversationStore_descriptor8=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"recipientType",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),conversationStore_descriptor9=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"sendingMessageLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),conversationStore_descriptor10=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"currentConversation",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{answers:[],questions:[],messages:[],conversationId:""}}}),conversationStore_descriptor11=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"currentProactiveMessages",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{answers:[],questions:[],messages:[],conversationId:""}}}),conversationStore_descriptor12=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"currentManagedMessages",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{answers:[],questions:[],messages:[],conversationId:""}}}),conversationStore_descriptor13=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"currentFavoritedMessages",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{answers:[],questions:[],scheduledMessages:[],conversationId:""}}}),conversationStore_descriptor14=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"readProactiveMessages",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{answers:[],questions:[],messages:[],conversationId:""}}}),conversationStore_descriptor15=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"conversationArray",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[{id:"SsbYVwwo9Ob15jF9LB69",messages:[]}]}}),conversationStore_descriptor16=Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"recommendedQuestions",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"setTrainAiderVisible",[conversationStore_dec],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"setTrainAiderVisible"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"storeRecommendedQuestions",[conversationStore_dec2],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"storeRecommendedQuestions"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"setMessagesLoading",[conversationStore_dec3],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"setMessagesLoading"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"setNotificationsLoading",[conversationStore_dec4],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"setNotificationsLoading"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"setScheduledMessagesLoading",[conversationStore_dec5],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"setScheduledMessagesLoading"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"setResponseLoading",[conversationStore_dec6],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"setResponseLoading"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"storeConversationData",[conversationStore_dec7],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"storeConversationData"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"storeProactiveMessageData",[conversationStore_dec8],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"storeProactiveMessageData"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"storeScheduledMessages",[conversationStore_dec9],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"storeScheduledMessages"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"storeFavoriteMessageData",[conversationStore_dec10],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"storeFavoriteMessageData"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"storeReadProactiveMessageData",[conversationStore_dec11],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"storeReadProactiveMessageData"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"tagMessageWithFeedback",[conversationStore_dec12],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"tagMessageWithFeedback"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"integrateFeedbackAnswerWithConversation",[conversationStore_dec13],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"integrateFeedbackAnswerWithConversation"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"setActiveConversationAsResumed",[conversationStore_dec14],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"setActiveConversationAsResumed"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"setScheduledMessage",[conversationStore_dec15],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"setScheduledMessage"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"loadPreviousMessages",[conversationStore_dec16],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"loadPreviousMessages"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"clearConversationData",[conversationStore_dec17],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"clearConversationData"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"renderMessageSentWindow",[conversationStore_dec18],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"renderMessageSentWindow"),conversationStore_class.prototype),Object(applyDecoratedDescriptor.a)(conversationStore_class.prototype,"sendingMessageIsLoading",[conversationStore_dec19],Object.getOwnPropertyDescriptor(conversationStore_class.prototype,"sendingMessageIsLoading"),conversationStore_class.prototype),conversationStore_class),dist=__webpack_require__(442),dist_default=__webpack_require__.n(dist),index_cjs=__webpack_require__(80),index_cjs_default=__webpack_require__.n(index_cjs),components=__webpack_require__(11),getIntercomVerification=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(apiLinks,tokens){var headers,endpoint;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(console.log(Object(mobx_module.toJS)(tokens),"#tokens"),!tokens.access_token){_context.next=7;break}return headers={Authorization:"Bearer ".concat(tokens.access_token)},endpoint=apiLinks.intercomVerification.href.replace("{type}","web"),_context.abrupt("return",Object(apiHelper.b)(endpoint,headers).then((function(res){return businessService_BusinessService.refreshPracticeCredentials(),res})).catch((function(e){return console.log("fallback icv"),businessService_BusinessService.refreshPracticeCredentials().then((function(tokenRes){var headers={Authorization:"Bearer ".concat(tokenRes.access_token)},endpoint=apiLinks.intercomVerification.href.replace("{type}","web");return Object(apiHelper.b)(endpoint,headers).catch((function(e){console.log(e)}))}))})));case 7:return _context.abrupt("return",businessService_BusinessService.refreshPracticeCredentials().then((function(tokenRes){var headers={Authorization:"Bearer ".concat(tokenRes.access_token)},endpoint=apiLinks.intercomVerification.href.replace("{type}","web");return Object(apiHelper.b)(endpoint,headers).catch((function(e){console.log(e)}))})));case 8:case"end":return _context.stop()}}),_callee)})));return function getIntercomVerification(_x,_x2){return _ref.apply(this,arguments)}}(),loadIntercom=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(config,apiLinks){var tokens,intercomVerification,appId,utm_source,utm_medium,utm_campaign,_getAcquisitionData,acquisition,decodedIdToken,company,business,_args2=arguments;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return tokens=_args2.length>2&&void 0!==_args2[2]?_args2[2]:{},_context2.next=3,getIntercomVerification(apiLinks,tokens);case 3:return intercomVerification=_context2.sent,appId=config.osp.intercom.appId,_getAcquisitionData=acquisitionHelper_getAcquisitionData(),acquisition=_getAcquisitionData.acquisition,Store_rootStore.authStore.setAcquisitionData(acquisition),acquisition&&(utm_source=acquisition.utmSource,utm_medium=acquisition.utmMedium,utm_campaign=acquisition.utmCampaign),(decodedIdToken=jsonwebtoken_default.a.decode(Store_rootStore.authStore.persistIdToken||Store_rootStore.authStore.id_token)).claims.businesses&&decodedIdToken.claims.businesses.length>0&&(business=decodedIdToken.claims.businesses[0],company={id:business.id,name:business.name,website:business.website,created_at:business.createdAt,area:business.area,country_code:business.countryCode,time_zone_id:business.timeZoneId}),window.intercomSettings={app_id:appId,hide_default_launcher:!0,user_id:decodedIdToken.sub,user_hash:intercomVerification._embedded.userVerification.hmac,name:decodedIdToken.claims.displayName,email:decodedIdToken.claims.email,phone:decodedIdToken.claims.phoneNumber,created_at:decodedIdToken.claims.createdAt,photo_url:decodedIdToken.claims.photoUrl,company:company,email_verified:decodedIdToken.claims.emailVerified,product:"advisory"},utm_source&&(window.intercomSettings.utm_source=utm_source),utm_medium&&(window.intercomSettings.utm_source=utm_medium),utm_campaign&&(window.intercomSettings.utm_source=utm_campaign),function(){var w=window,ic=w.Intercom;if("function"==typeof ic)ic("reattach_activator"),ic("update",w.intercomSettings);else{var d=document,i=function i(){i.c(arguments)};i.q=[],i.c=function(args){i.q.push(args)},w.Intercom=i;var s=d.createElement("script");s.type="text/javascript",s.async=!0,s.src="https://widget.intercom.io/widget/"+appId;var x=d.getElementsByTagName("script")[0];x.parentNode.insertBefore(s,x)}}(),_context2.abrupt("return",window.Intercom);case 16:case"end":return _context2.stop()}}),_callee2)})));return function loadIntercom(_x3,_x4){return _ref2.apply(this,arguments)}}(),inherits=__webpack_require__(14),createSuper=__webpack_require__(13),react=__webpack_require__(0),react_default=__webpack_require__.n(react),dist_esm=__webpack_require__(89),react_router=__webpack_require__(1549),GoogleAnalytics_GoogleAnalytics=function(_Component){Object(inherits.a)(GoogleAnalytics,_Component);var _super=Object(createSuper.a)(GoogleAnalytics);function GoogleAnalytics(){return Object(classCallCheck.a)(this,GoogleAnalytics),_super.apply(this,arguments)}return Object(createClass.a)(GoogleAnalytics,[{key:"componentDidMount",value:function componentDidMount(){this.logPageChange(this.props.location.pathname,this.props.location.search)}},{key:"componentDidUpdate",value:function componentDidUpdate(_ref){var prevLocation=_ref.location,_this$props$location=this.props.location,pathname=_this$props$location.pathname,search=_this$props$location.search,isDifferentPathname=pathname!==prevLocation.pathname,isDifferentSearch=search!==prevLocation.search;(isDifferentPathname||isDifferentSearch)&&this.logPageChange(pathname,search)}},{key:"logPageChange",value:function logPageChange(pathname){var search=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",page=pathname+search,_window=window,location=_window.location;dist_esm.a.set(Object(objectSpread2.a)({page:page,location:"".concat(location.origin).concat(page)},this.props.options)),dist_esm.a.pageview(page)}},{key:"render",value:function render(){return null}}]),GoogleAnalytics}(react.Component),GoogleAnalytics_eventPipeline=function eventPipeline(eventType){var errorCode=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(eventType){case"signInError":dist_esm.a.exception({description:"An error ocurred when Signing In: ".concat(errorCode),fatal:!1});break;case"otherError":dist_esm.a.exception({description:"An error occurred: ".concat(errorCode),fatal:!1});break;case"selectBusiness":console.log("selectBusiness");break;case"signOut":dist_esm.a.event({category:"User",action:"Signed Out of an Account"}),console.log("signOut");break;case"signIn":dist_esm.a.event({category:"User",action:"Signed Into an Account"}),console.log("signIn");break;case"OAuth2InitOutbound":dist_esm.a.outboundLink({label:"Clicked Create an Account"},(function(){console.log("redirected")}));break;case"inviteBusiness":dist_esm.a.event({category:"User",action:"Invited a Business to the Practice"});break;case"inviteUser":dist_esm.a.event({category:"User",action:"Invited a User to the Platform"});break;case"sendMessage":dist_esm.a.event({category:"Conversation",action:"Sent a Message"});break;case"voteMessageUp":dist_esm.a.event({category:"Conversation",action:"Voted a Message Up"});break;case"voteMessageDown":dist_esm.a.event({category:"Conversation",action:"Voted a Message Down"});break;case"clearNotification":dist_esm.a.event({category:"Notifications",action:"Cleared Notifications"});break;case"addedApp":dist_esm.a.event({category:"User",action:"Added an App"})}},src_GoogleAnalytics={GoogleAnalytics:GoogleAnalytics_GoogleAnalytics,RouteTracker:function RouteTracker(){return react_default.a.createElement(react_router.a,{component:GoogleAnalytics_GoogleAnalytics})},init:function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var trackingId,_args=arguments;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _args.length>0&&void 0!==_args[0]?_args[0]:{},trackingId=_args.length>1?_args[1]:void 0,_context.abrupt("return",dist_esm.a.initialize(trackingId));case 3:case"end":return _context.stop()}}),_callee)})));return function init(){return _ref2.apply(this,arguments)}}()},urlHelper=__webpack_require__(73),authService_AuthService=function(){function AuthService(){Object(classCallCheck.a)(this,AuthService)}var _initializeAuthentication,_IfConnectionExistsThenCreateNewBusiness,_checkOutstandingConnectionClaim,_initializeNewBusinessTokens,_claimConnectionWithBusinessId,_initiateConnection,_getNewPracticeTokens,_initGA,_setApps,_checkRedirectKnowingFirebaseInitialized,_initializeTokens,_Intercom;return Object(createClass.a)(AuthService,null,[{key:"initializeFirebaseApp",value:function initializeFirebaseApp(config){return console.log(">>>",config),index_cjs_default.a.initializeApp(config),Object(firestorter_module.c)({firebase:index_cjs_default.a}),new Promise((function(resolve){if(index_cjs_default.a.auth().currentUser)resolve(!0);else var unsubscribe=index_cjs_default.a.auth().onAuthStateChanged((function(user){unsubscribe(),resolve(!!user)}))})).catch((function(e){esm.a(e),console.log("init error",e)}))}},{key:"Intercom",value:(_Intercom=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(type,eventName,params){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId).then(function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(res){var parameters,intercom;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(parameters=Object.assign(params,{business_id:Store_rootStore.businessStore.selectedBusinessId}),console.log("intercom tracked event: ",type,eventName),!Store_rootStore.authStore.config||!Store_rootStore.authStore.links){_context.next=7;break}return _context.next=5,loadIntercom(Store_rootStore.authStore.config,Store_rootStore.authStore.links);case 5:return intercom=_context.sent,_context.abrupt("return",intercom(type,eventName,parameters));case 7:return _context.abrupt("return",null);case 8:case"end":return _context.stop()}}),_callee)})));return function(_x4){return _ref.apply(this,arguments)}}()).catch((function(e){console.log("intercom err",e)}));case 1:case"end":return _context2.stop()}}),_callee2)}))),function Intercom(_x,_x2,_x3){return _Intercom.apply(this,arguments)})},{key:"handleSignIn",value:function handleSignIn(email,password){Store_rootStore.authStore.setLoading(!0),Store_rootStore.authStore.setLoadingContent(["Signing You In..."]),index_cjs_default.a.auth().signInWithEmailAndPassword(email,password).catch((function(e){esm.a(e),Store_rootStore.registerGAEvent("signInError",e.code),Store_rootStore.authStore.setLoading(!1);var signInError=Object(components.o)(e);Store_rootStore.authStore.setSignInError(signInError)})).then((function(authResult){Store_rootStore.registerGAEvent("signIn"),Store_rootStore.authStore.isUserAuthenticated(authResult)}))}},{key:"signUpUsingEmail",value:function signUpUsingEmail(fields){return Store_rootStore.authStore.setLoading(!0),index_cjs_default.a.auth().createUserWithEmailAndPassword(fields.email,fields.password).catch((function(error){Store_rootStore.authStore.setLoading(!1);var signInError=Object(components.o)(error);return Store_rootStore.authStore.setSignInError(signInError)})).then((function(authResult){userDataHelper_addUser(authResult,Store_rootStore.authStore.links,!1,null,fields,"password").then((function(res){})).catch((function(e){if(esm.a(e),Store_rootStore.authStore.setLoading(!1),!Store_rootStore.authStore.signInError){var signInError=Object(components.o)({code:"other",message:e});return Store_rootStore.authStore.setSignInError(signInError)}}))}))}},{key:"signUpUsingSocial",value:function signUpUsingSocial(type){if("google"===type&&(js_cookie_default.a.set("redirect","true",{domain:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_COOKIE_DOMAIN}),Object(authHelper.i)(index_cjs_default.a),Store_rootStore.authStore.setLoading(!0)),"facebook"===type&&(Object(authHelper.h)(index_cjs_default.a),Store_rootStore.authStore.setLoading(!0)),"xero"===type){var acquisition=acquisitionHelper_getAcquisitionData().acquisition;Store_rootStore.authStore.setAcquisitionData(acquisition),js_cookie_default.a.set("redirect","redirect-xero",{domain:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_COOKIE_DOMAIN}),Object(authHelper.j)(Store_rootStore.authStore.links).then((function(){Store_rootStore.authStore.setLoading(!0)}))}}},{key:"handleSignOut",value:function handleSignOut(){Store_rootStore.registerGAEvent("signOut"),index_cjs_default.a.auth().signOut().then((function(){js_cookie_default.a.remove("claimant"),js_cookie_default.a.remove("unclaimedConnection"),js_cookie_default.a.remove("inviteAdvisors"),js_cookie_default.a.remove("skipCreation"),js_cookie_default.a.remove("redirect"),Store_rootStore.authStore.invalidateCache(),Store_rootStore.authStore.isUserAuthenticated(!1),Store_rootStore.authStore.setUser(null),Store_rootStore.authStore.setLoading(!1),setTimeout((function(){window.location.reload()}),1e3)}))}},{key:"initializeTokens",value:(_initializeTokens=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(){var token,partnerCustomerTokenInRedirectURL,links,user,idToken,_yield$initializeBack,access_token,refresh_token,id_token,internalTokenAssignment,_internalTokenAssignment,_args3=arguments;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(token=_args3.length>0&&void 0!==_args3[0]?_args3[0]:"",partnerCustomerTokenInRedirectURL=_args3.length>1?_args3[1]:void 0,links=Store_rootStore.authStore.links,user=Store_rootStore.authStore.user,_context3.prev=4,idToken=token,token){_context3.next=10;break}return _context3.next=9,user.getIdToken();case 9:idToken=_context3.sent;case 10:if(!user){_context3.next=44;break}return _context3.next=13,checkUserExists(links,user.uid);case 13:if(!0!==_context3.sent){_context3.next=24;break}return _context3.next=17,Object(network.a)(links,idToken);case 17:return _yield$initializeBack=_context3.sent,access_token=_yield$initializeBack.access_token,refresh_token=_yield$initializeBack.refresh_token,id_token=_yield$initializeBack.id_token,Store_rootStore.authStore.setTokens(access_token,refresh_token,id_token),Store_rootStore.authStore.isUserAuthenticated(user),_context3.abrupt("return",{access_token:access_token,refresh_token:refresh_token,id_token:id_token});case 24:if(!user.providerData[0]||"google.com"!==user.providerData[0].providerId){_context3.next=34;break}return _context3.next=27,userDataHelper_addUserWithGoogle(user,Store_rootStore.authStore.links,!1);case 27:return _context3.sent,_context3.next=30,Object(network.a)(links,idToken);case 30:return internalTokenAssignment=_context3.sent,Store_rootStore.authStore.setTokens(internalTokenAssignment.access_token,internalTokenAssignment.refresh_token,internalTokenAssignment.id_token),Store_rootStore.authStore.isUserAuthenticated(user),_context3.abrupt("return",{access_token:internalTokenAssignment.access_token,refresh_token:internalTokenAssignment.refresh_token,id_token:internalTokenAssignment.id_token});case 34:if(!partnerCustomerTokenInRedirectURL){_context3.next=44;break}return _context3.next=37,userDataHelper_addUserWithXero(user,Store_rootStore.authStore.links,partnerCustomerTokenInRedirectURL);case 37:return _context3.sent,_context3.next=40,Object(network.a)(links,idToken);case 40:return _internalTokenAssignment=_context3.sent,Store_rootStore.authStore.setTokens(_internalTokenAssignment.access_token,_internalTokenAssignment.refresh_token,_internalTokenAssignment.id_token),Store_rootStore.authStore.isUserAuthenticated(user),_context3.abrupt("return",{access_token:_internalTokenAssignment.access_token,refresh_token:_internalTokenAssignment.refresh_token,id_token:_internalTokenAssignment.id_token});case 44:_context3.next=50;break;case 46:_context3.prev=46,_context3.t0=_context3.catch(4),esm.a(_context3.t0),"User already exists"===_context3.t0.message&&(console.log("login unsuccessful, likely due to cross SSO implementation. Try email and password"),index_cjs_default.a.auth().signOut().then((function(){Store_rootStore.authStore.isUserAuthenticated(!1),Store_rootStore.authStore.setUser(null),Store_rootStore.authStore.setLoading(!1);var signInError=Object(components.o)({code:"none",message:"Login Unsuccessful."});Store_rootStore.authStore.setSignInError(signInError)})));case 50:case"end":return _context3.stop()}}),_callee3,null,[[4,46]])}))),function initializeTokens(){return _initializeTokens.apply(this,arguments)})},{key:"checkRedirectKnowingFirebaseInitialized",value:(_checkRedirectKnowingFirebaseInitialized=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(redirect,links,user){var cat,partnerCustomerTokenInRedirectURL,url,authResult;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(cat=Object(urlHelper.a)("cat",window.location.href),"redirect-xero"!==redirect&&!cat){_context4.next=20;break}if(Store_rootStore.authStore.setLoading(!0),partnerCustomerTokenInRedirectURL=Object(urlHelper.a)("token",window.location.href),url=Object(urlHelper.b)(window.location.href,"cat"),url=Object(urlHelper.b)(url,"token"),window.history.replaceState(null,document.title,url),!cat){_context4.next=18;break}return _context4.next=10,index_cjs_default.a.auth().signInWithCustomToken(cat);case 10:return authResult=_context4.sent,_context4.next=13,checkUserExists(Store_rootStore.authStore.links,authResult.user.uid);case 13:if(!0!==_context4.sent){_context4.next=17;break}return Store_rootStore.authStore.isUserAuthenticated(authResult),_context4.abrupt("return",partnerCustomerTokenInRedirectURL);case 17:return _context4.abrupt("return",partnerCustomerTokenInRedirectURL);case 18:_context4.next=22;break;case 20:if("true"!==redirect){_context4.next=22;break}return _context4.abrupt("return",!1);case 22:case"end":return _context4.stop()}}),_callee4)}))),function checkRedirectKnowingFirebaseInitialized(_x5,_x6,_x7){return _checkRedirectKnowingFirebaseInitialized.apply(this,arguments)})},{key:"checkRedirect",value:function checkRedirect(redirect){if(Store_rootStore.authStore.firebaseInitialized){if("true"===redirect)return Store_rootStore.authStore.setLoadingContent(["Redirecting you to the Portal...","Configuring Account Data..."]),Store_rootStore.authStore.setLoading(!0);if("redirect-xero"===redirect){var cat=Object(urlHelper.a)("cat",window.location.href),partnerCustomerTokenInRedirectURL=Object(urlHelper.a)("token",window.location.href);Store_rootStore.authStore.setPartnerCustomerTokenInRedirectURL(partnerCustomerTokenInRedirectURL);var url=Object(urlHelper.b)(window.location.href,"cat");url=Object(urlHelper.b)(url,"token"),window.history.replaceState(null,document.title,url),index_cjs_default.a.auth().signInWithCustomToken(cat).then((function(authResult){return Store_rootStore.authStore.isUserAuthenticated(authResult)})).catch((function(error){esm.a(error)}))}}else if("redirect-xero"===redirect)Store_rootStore.authStore.setLoading(!0),setTimeout((function(){var cat=Object(urlHelper.a)("cat",window.location.href),partnerCustomerTokenInRedirectURL=Object(urlHelper.a)("token",window.location.href),url=Object(urlHelper.b)(window.location.href,"cat");url=Object(urlHelper.b)(url,"token"),window.history.replaceState(null,document.title,url),cat&&index_cjs_default.a.auth().signInWithCustomToken(cat).then((function(authResult){return checkUserExists(Store_rootStore.authStore.links,authResult.user.uid).then((function(res){if(!0===res)return Store_rootStore.authStore.isUserAuthenticated(authResult);partnerCustomerTokenInRedirectURL&&userDataHelper_addUser(authResult,Store_rootStore.authStore.links,!1,partnerCustomerTokenInRedirectURL,null,null).then((function(res){return Store_rootStore.authStore.isUserAuthenticated(authResult)}))}))})).catch((function(error){esm.a(error)}))}),1e3);else if("true"===redirect)return Store_rootStore.authStore.setLoading(!0)}},{key:"setApps",value:(_setApps=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee5(links){var configResponse;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,Object(network.d)(links.apps.href,{});case 2:configResponse=_context5.sent,Store_rootStore.authStore.setApps(configResponse._embedded.apps);case 4:case"end":return _context5.stop()}}),_callee5)}))),function setApps(_x8){return _setApps.apply(this,arguments)})},{key:"initGA",value:(_initGA=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee6(){var rootResponse,apiLinks,configResponse,config,_config$analytics,googleAnalytics,googleTagManager;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,Object(network.d)(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_ROOT_ENDPOINT,{});case 2:return rootResponse=_context6.sent,apiLinks=rootResponse._links,_context6.next=6,Object(network.d)(apiLinks.config.href,{});case 6:configResponse=_context6.sent,config=configResponse._embedded.configuration,_config$analytics=config.analytics,googleAnalytics=_config$analytics.googleAnalytics,googleTagManager=_config$analytics.googleTagManager,src_GoogleAnalytics.init({},googleAnalytics.trackingId),dist_default.a.initialize({gtmId:googleTagManager.advisorPortalContainerId});case 11:case"end":return _context6.stop()}}),_callee6)}))),function initGA(){return _initGA.apply(this,arguments)})},{key:"getNewPracticeTokens",value:(_getNewPracticeTokens=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee7(){var practiceId,user,idToken,businessLink,tokenLink,headers,body,backendTokens;return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return practiceId=Store_rootStore.businessStore.practiceId.id,user=Store_rootStore.authStore.user,_context7.next=4,user.getIdToken();case 4:return idToken=_context7.sent,businessLink=Store_rootStore.authStore.links.businesses.href,tokenLink=Store_rootStore.authStore.links.tokens.href,headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(businessLink,"/").concat(practiceId)},_context7.next=11,Object(apiHelper.d)(tokenLink,headers,lib_default.a.stringify(body));case 11:return backendTokens=_context7.sent,_context7.abrupt("return",backendTokens);case 13:case"end":return _context7.stop()}}),_callee7)}))),function getNewPracticeTokens(){return _getNewPracticeTokens.apply(this,arguments)})},{key:"initiateConnection",value:(_initiateConnection=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee8(access_token){var tokens,res;return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,businessService_BusinessService.refreshPracticeCredentials();case 2:return tokens=_context8.sent,_context8.next=5,Object(authHelper.d)(Store_rootStore.authStore.links,tokens.access_token);case 5:return res=_context8.sent,console.log("init",res),_context8.abrupt("return",res);case 8:case"end":return _context8.stop()}}),_callee8)}))),function initiateConnection(_x9){return _initiateConnection.apply(this,arguments)})},{key:"claimConnectionWithBusinessId",value:(_claimConnectionWithBusinessId=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee9(links,idToken,businessId,claimant,unclaimedConnection){var _yield$initializeNewX,access_token,claimed;return regenerator_default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,Object(network.c)(links,idToken,claimant,Store_rootStore.authStore);case 2:return _yield$initializeNewX=_context9.sent,access_token=_yield$initializeNewX.access_token,_yield$initializeNewX.refresh_token,_yield$initializeNewX.id_token,_yield$initializeNewX.expiresAt,_context9.next=9,Object(authHelper.c)(Store_rootStore.authStore.links,access_token,unclaimedConnection);case 9:void 0!==(claimed=_context9.sent)&&(js_cookie_default.a.set("claimant","null"),js_cookie_default.a.set("unclaimedConnection","null"),console.log("CONNECTION SUCCESSFULLY CLAIMED",claimed),Store_rootStore.businessStore.selectBusinessAfterClaimingConnection(claimant,access_token),setTimeout((function(){Store_rootStore.businessStore.selectedBusinessAccessToken,Store_rootStore.businessStore.selectedBusinessId,Store_rootStore.businessStore.setBusinessFirstTimeSetup(!0),Store_rootStore.businessStore.setFirstTimeClientSetup(!1),Store_rootStore.businessStore.shouldConfigureBusiness(!0)}),1e3));case 11:case"end":return _context9.stop()}}),_callee9)}))),function claimConnectionWithBusinessId(_x10,_x11,_x12,_x13,_x14){return _claimConnectionWithBusinessId.apply(this,arguments)})},{key:"initializeNewBusinessTokens",value:(_initializeNewBusinessTokens=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee10(){var businessId,links,user,idToken,businessRegistry,unclaimedConnection,claimant,_businessRegistry$tok,_access_token,_refresh_token,_id_token,_expiresAt,selectedBusinessId,_yield$initializeNewB,access_token,refresh_token,id_token,expiresAt,_args10=arguments;return regenerator_default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return businessId=_args10.length>0&&void 0!==_args10[0]?_args10[0]:"",links=Store_rootStore.authStore.links,user=Store_rootStore.authStore.user,_context10.next=5,user.getIdToken();case 5:if(idToken=_context10.sent,businessRegistry=Store_rootStore.authStore.registryExistsAndTokensNotExpired(businessId),unclaimedConnection=js_cookie_default.a.get("unclaimedConnection"),claimant=js_cookie_default.a.get("claimant"),"null"===unclaimedConnection&&void 0===unclaimedConnection||claimant!==businessId){_context10.next=12;break}return _context10.next=12,AuthService.claimConnectionWithBusinessId(links,idToken,businessId,claimant,unclaimedConnection);case 12:if(!businessRegistry){_context10.next=16;break}if("boolean"==typeof businessRegistry){_context10.next=16;break}return _businessRegistry$tok=businessRegistry.tokens,_access_token=_businessRegistry$tok.access_token,_refresh_token=_businessRegistry$tok.refresh_token,_id_token=_businessRegistry$tok.id_token,_expiresAt=_businessRegistry$tok.expiresAt,_context10.abrupt("return",{access_token:_access_token,refresh_token:_refresh_token,id_token:_id_token,expiresAt:_expiresAt});case 16:return selectedBusinessId=businessId,_context10.next=19,Object(network.b)(links,idToken,selectedBusinessId,Store_rootStore.authStore);case 19:return _yield$initializeNewB=_context10.sent,access_token=_yield$initializeNewB.access_token,refresh_token=_yield$initializeNewB.refresh_token,id_token=_yield$initializeNewB.id_token,expiresAt=_yield$initializeNewB.expiresAt,_context10.abrupt("return",{access_token:access_token,refresh_token:refresh_token,id_token:id_token,expiresAt:expiresAt});case 25:case"end":return _context10.stop()}}),_callee10)}))),function initializeNewBusinessTokens(){return _initializeNewBusinessTokens.apply(this,arguments)})},{key:"checkOutstandingConnectionClaim",value:(_checkOutstandingConnectionClaim=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee11(){var businessId,links,user,idToken,unclaimedConnection,claimant,_args11=arguments;return regenerator_default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return businessId=_args11.length>0&&void 0!==_args11[0]?_args11[0]:"",console.log("checking::",businessId),links=Store_rootStore.authStore.links,user=Store_rootStore.authStore.user,_context11.next=6,user.getIdToken();case 6:if(idToken=_context11.sent,unclaimedConnection=js_cookie_default.a.get("unclaimedConnection"),claimant=js_cookie_default.a.get("claimant"),"null"===unclaimedConnection&&void 0===unclaimedConnection||claimant!==businessId){_context11.next=13;break}return console.log("OUTSTANDING CLAIM: ATTEMPT",businessId),_context11.next=13,AuthService.claimConnectionWithBusinessId(links,idToken,businessId,claimant,unclaimedConnection);case 13:case"end":return _context11.stop()}}),_callee11)}))),function checkOutstandingConnectionClaim(){return _checkOutstandingConnectionClaim.apply(this,arguments)})},{key:"IfConnectionExistsThenCreateNewBusiness",value:(_IfConnectionExistsThenCreateNewBusiness=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee13(connectionID){var practiceId;return regenerator_default.a.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:if("true"!==js_cookie_default.a.get("skipCreation")){_context13.next=6;break}return console.log("skipping creating business"),js_cookie_default.a.set("claimant","null"),js_cookie_default.a.set("unclaimedConnection","null"),js_cookie_default.a.set("skipCreation","null"),_context13.abrupt("return",window.location.href=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL);case 6:return console.log(".s",js_cookie_default.a.get("skipCreation")),_context13.next=9,businessService_BusinessService.fetchPracticeId(Store_rootStore.authStore.links,Store_rootStore.authStore.persistAccessToken);case 9:(practiceId=_context13.sent)&&Object(authHelper.a)(Store_rootStore.authStore.links,Store_rootStore.authStore.persistAccessToken,connectionID).catch((function(e){console.log("error conn",e),esm.a(e)})).then(function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee12(status){var newBusinessParameters,newBusinessParametersObject,newBusiness,newBusinessId;return regenerator_default.a.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:if(!status||!status._embedded||"pending"!==status._embedded.connection.status){_context12.next=4;break}js_cookie_default.a.set("connID",connectionID),_context12.next=22;break;case 4:if(!status||!status._embedded||"pending"===status._embedded.connection.status){_context12.next=20;break}if("duplicate_client_connection"===status._embedded.connection.reason){_context12.next=15;break}return newBusinessParameters={phoneNumber:"",address:"",name:"",area:"",countryCode:"NZ",timeZoneId:"Pacific/Auckland"},status._embedded.connection.configuration&&(newBusinessParameters=status._embedded.connection.configuration.entities[0]),newBusinessParametersObject={phoneNumber:newBusinessParameters.phoneNumber||"",address:newBusinessParameters.address||"",name:newBusinessParameters.name||"",area:newBusinessParameters.area||"Auckland",countryCode:newBusinessParameters.countryCode||"NZ",timeZoneId:newBusinessParameters.timeZoneId||"Pacific/Auckland"},_context12.next=11,Store_rootStore.businessStore.createBusinessFromXeroConnection(Store_rootStore.authStore.links,Store_rootStore.authStore.persistAccessToken,newBusinessParametersObject,practiceId);case 11:(newBusiness=_context12.sent)?(newBusinessId=newBusiness.data._embedded.business.id,js_cookie_default.a.set("unclaimedConnection",status._embedded.connection.id),js_cookie_default.a.set("claimant",newBusinessId),window.location.href=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL):(esm.b("Could not create new business from connection"),console.log("error creating the new business",newBusiness),window.location.href=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL),_context12.next=18;break;case 15:return console.log(".duplicate detected"),js_cookie_default.a.set("duplicateConnection","".concat(status._embedded.connection.configuration?status._embedded.connection.configuration.entities[0].name:"Duplicate Business")),_context12.abrupt("return",window.location.href=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL);case 18:_context12.next=22;break;case 20:console.log("something went seriously wrong with connection",status),window.location.href=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL;case 22:case"end":return _context12.stop()}}),_callee12)})));return function(_x16){return _ref2.apply(this,arguments)}}());case 11:case"end":return _context13.stop()}}),_callee13)}))),function IfConnectionExistsThenCreateNewBusiness(_x15){return _IfConnectionExistsThenCreateNewBusiness.apply(this,arguments)})},{key:"initializeAuthentication",value:(_initializeAuthentication=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee16(){var proxyOK,rootResponse,apiLinks,configResponse,config,redirect,firebaseIsInitialized,partnerCustomerTokenInRedirectURL,_this=this;return regenerator_default.a.wrap((function _callee16$(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,Store_rootStore.businessStore.pingProxyServer();case 2:return proxyOK=_context16.sent,console.log("proxy:",proxyOK.status,proxyOK.statusText),200!==proxyOK.status&&esm.b("proxy failure, using fallback"),console.log("#begin",moment_default()().format("hh:mm:ss")),Store_rootStore.businessStore.setProxyStatus(proxyOK.status),Store_rootStore.authStore.setLoadingContent(["Signing In..."]),_context16.next=10,Object(network.d)(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_ROOT_ENDPOINT,{});case 10:return rootResponse=_context16.sent,apiLinks=rootResponse._links,_context16.next=14,Object(network.d)(apiLinks.config.href,{});case 14:return configResponse=_context16.sent,config=configResponse._embedded.configuration,Store_rootStore.authStore.registerLinks(apiLinks),Store_rootStore.authStore.setConfig(config),redirect=js_cookie_default.a.get("redirect"),_context16.next=21,AuthService.initializeFirebaseApp(config.firebase);case 21:if(firebaseIsInitialized=_context16.sent,partnerCustomerTokenInRedirectURL=null,!firebaseIsInitialized){_context16.next=33;break}return Store_rootStore.authStore.setFireBaseInitialized(),_context16.next=27,AuthService.checkRedirectKnowingFirebaseInitialized(redirect,apiLinks,Store_rootStore.authStore.user);case 27:partnerCustomerTokenInRedirectURL=_context16.sent,js_cookie_default.a.set("redirect","false",{domain:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_COOKIE_DOMAIN}),Store_rootStore.authStore.setLoading(!1),console.log("#fb1",moment_default()().format("hh:mm:ss")),_context16.next=40;break;case 33:return Store_rootStore.authStore.setFireBaseInitialized(),_context16.next=36,AuthService.checkRedirectKnowingFirebaseInitialized(redirect,apiLinks,Store_rootStore.authStore.user);case 36:partnerCustomerTokenInRedirectURL=_context16.sent,js_cookie_default.a.set("redirect","false",{domain:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_COOKIE_DOMAIN}),Store_rootStore.authStore.setLoading(!1),console.log("#fb",moment_default()().format("hh:mm:ss"));case 40:return _context16.prev=40,_context16.abrupt("return",index_cjs_default.a.auth().onAuthStateChanged(function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee15(userAuth){var info,tokens,user,_config$analytics2,googleTagManager,query,connectionID,duplicateConnection,reconnectedConnection,practice;return regenerator_default.a.wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return console.log("#cb",moment_default()().format("hh:mm:ss")),Store_rootStore.authStore.setLoading(!0),_context15.next=4,AuthService.setApps(apiLinks);case 4:if(Store_rootStore.authStore.setUser(userAuth),info=null,!Store_rootStore.authStore.user){_context15.next=81;break}if(console.log("#user",moment_default()().format("hh:mm:ss")),Store_rootStore.authStore.setSignInError(null),!Store_rootStore.authStore.persistAccessToken||!Store_rootStore.authStore.persistIdToken||"true"===js_cookie_default.a.get("inviteAdvisors")){_context15.next=17;break}console.log("use persisted data"),tokens={access_token:Store_rootStore.authStore.persistAccessToken,refresh_token:Store_rootStore.authStore.persistRefreshToken,id_token:Store_rootStore.authStore.persistIdToken,expiresAt:Store_rootStore.authStore.persistExpiry},Store_rootStore.authStore.setTokens(tokens.access_token,tokens.refresh_token,tokens.id_token),Store_rootStore.authStore.isUserAuthenticated(Store_rootStore.authStore.user),console.log("#tokenSet",moment_default()().format("hh:mm:ss")),_context15.next=20;break;case 17:return _context15.next=19,_this.initializeTokens(null,partnerCustomerTokenInRedirectURL);case 19:tokens=_context15.sent;case 20:if(!tokens&&!Store_rootStore.authStore.access_token){_context15.next=78;break}if(console.log(!Object(mobx_module.toJS)(Store_rootStore.authStore.persistPracticeUser)),Object(mobx_module.toJS)(Store_rootStore.authStore.persistPracticeUser)){_context15.next=28;break}return _context15.next=25,getUser(apiLinks,Store_rootStore.authStore.user.uid,null);case 25:user=_context15.sent,_context15.next=29;break;case 28:user=Store_rootStore.authStore.persistPracticeUser;case 29:if(!user){_context15.next=36;break}console.log("#userResponse",moment_default()().format("hh:mm:ss")),Store_rootStore.authStore.setPracticeUser(user),(_config$analytics2=config.analytics).googleAnalytics,googleTagManager=_config$analytics2.googleTagManager,dist_default.a.initialize({gtmId:googleTagManager.advisorPortalContainerId,dataLayer:{userId:Store_rootStore.authStore.user.uid,userProject:"aider-ai"}}),_context15.next=37;break;case 36:throw"user does not exist";case 37:return info=jsonwebtoken_default.a.decode(tokens.id_token),console.log("INFORMATION:",info),console.log("_USER_",info,Store_rootStore.authStore.loading,"___",Object(mobx_module.toJS)(user)),console.log("#decoded",moment_default()().format("hh:mm:ss")),_context15.next=43,businessService_BusinessService.refreshPracticeCredentials().then(function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee14(tokenSet){return regenerator_default.a.wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.next=2,loadIntercom(config,apiLinks,tokenSet);case 2:case"end":return _context14.stop()}}),_callee14)})));return function(_x18){return _ref4.apply(this,arguments)}}());case 43:if(Store_rootStore.authStore.setLoading(!1),query=lib_default.a.parse(window.location.search.replace("?","")),connectionID=query.connectionId,duplicateConnection=js_cookie_default.a.get("duplicateConnection"),reconnectedConnection=js_cookie_default.a.get("reconnectedConnection"),duplicateConnection&&Store_rootStore.businessStore.renderDuplicateWarning(duplicateConnection),reconnectedConnection&&Store_rootStore.businessStore.renderReconnectionConfirmation(reconnectedConnection),""===connectionID||null==connectionID){_context15.next=55;break}return _context15.next=53,AuthService.IfConnectionExistsThenCreateNewBusiness(connectionID);case 53:_context15.next=76;break;case 55:if(!(info.claims.businesses.length>=1&&info.claims.businesses.filter((function(business){return"management"===business.businessClass})).length<1||"advisory_portal"!==info.claims.accountType)){_context15.next=58;break}return esm.b("digital_app account detected"),_context15.abrupt("return",Store_rootStore.authStore.setRenderAppAccountKickback(!0));case 58:return console.log("a"),(!info.claims.businesses||info.claims.businesses.length<1)&&Store_rootStore.businessStore.shouldSetUpPractice(!0),_context15.next=62,Store_rootStore.businessStore.fetchBusinessAccessTokens(Store_rootStore.authStore.links,tokens.access_token,tokens.id_token).then((function(){console.log("b")}));case 62:if(console.log("#info",info),practice=info.claims.businesses.filter((function(i){return"management"===i.businessClass}))[0],console.log(info.claims.businesses,practice,"<> ?"),js_cookie_default.a.remove("selectedBusiness"),!practice){_context15.next=74;break}return Store_rootStore.businessStore.setPracticeId(practice),Store_rootStore.businessStore.fetchSubscription(Store_rootStore.authStore.links,Store_rootStore.authStore.access_token),_context15.next=71,Store_rootStore.businessStore.getPracticeAdvisors(Store_rootStore.authStore.links);case 71:"true"===js_cookie_default.a.get("inviteAdvisors")&&Store_rootStore.authStore.renderAdvisorsModal(!0),_context15.next=76;break;case 74:Store_rootStore.authStore.setLoading(!1),console.log("no practice",practice);case 76:_context15.next=79;break;case 78:console.log("no tokens",tokens);case 79:_context15.next=83;break;case 81:console.log("no user",Store_rootStore.authStore.user),Store_rootStore.authStore.setLoading(!1);case 83:case"end":return _context15.stop()}}),_callee15)})));return function(_x17){return _ref3.apply(this,arguments)}}()));case 44:_context16.prev=44,_context16.t0=_context16.catch(40),esm.a(_context16.t0),console.log("fallback error:",_context16.t0),Store_rootStore.authStore.setLoading(!1);case 49:case"end":return _context16.stop()}}),_callee16,null,[[40,44]])}))),function initializeAuthentication(){return _initializeAuthentication.apply(this,arguments)})}]),AuthService}(),mobx_persist_lib=__webpack_require__(127),authStore_AuthStore=(authStore_dec=Object(mobx_persist_lib.persist)("object"),authStore_dec2=mobx_module.action.bound,authStore_dec3=mobx_module.action.bound,authStore_dec4=mobx_module.action.bound,authStore_dec5=mobx_module.action.bound,authStore_dec6=mobx_module.action.bound,authStore_dec7=mobx_module.action.bound,authStore_dec8=mobx_module.action.bound,authStore_dec9=mobx_module.action.bound,authStore_dec10=mobx_module.action.bound,authStore_dec11=mobx_module.action.bound,authStore_dec12=mobx_module.action.bound,authStore_dec13=mobx_module.action.bound,authStore_dec14=mobx_module.action.bound,authStore_dec15=mobx_module.action.bound,authStore_dec16=mobx_module.action.bound,authStore_dec17=mobx_module.action.bound,authStore_dec18=mobx_module.action.bound,authStore_dec19=mobx_module.action.bound,authStore_dec20=mobx_module.action.bound,authStore_dec21=mobx_module.action.bound,authStore_dec22=mobx_module.action.bound,authStore_dec23=mobx_module.action.bound,authStore_dec24=mobx_module.action.bound,authStore_dec25=mobx_module.action.bound,authStore_dec26=mobx_module.action.bound,authStore_dec27=mobx_module.action.bound,authStore_dec28=mobx_module.action.bound,authStore_dec29=mobx_module.action.bound,authStore_dec30=mobx_module.action.bound,authStore_dec31=mobx_module.action.bound,authStore_dec32=mobx_module.action.bound,authStore_dec33=mobx_module.action.bound,authStore_dec34=mobx_module.action.bound,authStore_dec35=mobx_module.action.bound,authStore_dec36=mobx_module.action.bound,authStore_dec37=mobx_module.action.bound,authStore_dec38=mobx_module.action.bound,authStore_dec39=mobx_module.action.bound,authStore_dec40=mobx_module.action.bound,authStore_dec41=mobx_module.action.bound,authStore_dec42=mobx_module.action.bound,authStore_class=function(){function AuthStore(rootStore){Object(classCallCheck.a)(this,AuthStore),this.rootStore=void 0,this.initializeAuthentication=void 0,this.initGA=void 0,this.initializeFirebaseApp=void 0,this.initializeTokens=void 0,this.checkRedirect=void 0,this.initializeNewBusinessTokens=void 0,this.checkOutstandingConnectionClaim=void 0,this.handleSignIn=void 0,this.handleSignOut=void 0,this.Intercom=void 0,this.signUpUsingEmail=void 0,this.signUpUsingSocial=void 0,this.initiateConnection=void 0,Object(initializerDefineProperty.a)(this,"config",authStore_descriptor,this),Object(initializerDefineProperty.a)(this,"loading",authStore_descriptor2,this),Object(initializerDefineProperty.a)(this,"shallowLoading",authStore_descriptor3,this),Object(initializerDefineProperty.a)(this,"tokenRegistry",authStore_descriptor4,this),Object(initializerDefineProperty.a)(this,"loadingInfoContent",authStore_descriptor5,this),Object(initializerDefineProperty.a)(this,"signInError",authStore_descriptor6,this),Object(initializerDefineProperty.a)(this,"businessNavigatorPopupOpen",authStore_descriptor7,this),Object(initializerDefineProperty.a)(this,"notificationsPopupOpen",authStore_descriptor8,this),Object(initializerDefineProperty.a)(this,"messagingPopUpOpen",authStore_descriptor9,this),Object(initializerDefineProperty.a)(this,"trainAiderPopUpOpen",authStore_descriptor10,this),Object(initializerDefineProperty.a)(this,"favoritesPopupOpen",authStore_descriptor11,this),Object(initializerDefineProperty.a)(this,"actionCentrePopupOpen",authStore_descriptor12,this),Object(initializerDefineProperty.a)(this,"currentConversation",authStore_descriptor13,this),Object(initializerDefineProperty.a)(this,"firebaseInitialized",authStore_descriptor14,this),Object(initializerDefineProperty.a)(this,"redirected",authStore_descriptor15,this),Object(initializerDefineProperty.a)(this,"isAuthed",authStore_descriptor16,this),Object(initializerDefineProperty.a)(this,"authResult",authStore_descriptor17,this),Object(initializerDefineProperty.a)(this,"user",authStore_descriptor18,this),Object(initializerDefineProperty.a)(this,"apps",authStore_descriptor19,this),Object(initializerDefineProperty.a)(this,"partnerCustomerTokenInRedirectURL",authStore_descriptor20,this),Object(initializerDefineProperty.a)(this,"links",authStore_descriptor21,this),Object(initializerDefineProperty.a)(this,"links2",authStore_descriptor22,this),Object(initializerDefineProperty.a)(this,"access_token",authStore_descriptor23,this),Object(initializerDefineProperty.a)(this,"refresh_token",authStore_descriptor24,this),Object(initializerDefineProperty.a)(this,"id_token",authStore_descriptor25,this),Object(initializerDefineProperty.a)(this,"practiceUser",authStore_descriptor26,this),Object(initializerDefineProperty.a)(this,"userModalErrors",authStore_descriptor27,this),Object(initializerDefineProperty.a)(this,"GAInitialized",authStore_descriptor28,this),Object(initializerDefineProperty.a)(this,"dropdownOpen",authStore_descriptor29,this),Object(initializerDefineProperty.a)(this,"editUserModalVisible",authStore_descriptor30,this),Object(initializerDefineProperty.a)(this,"exceededQuota",authStore_descriptor31,this),Object(initializerDefineProperty.a)(this,"paymentConfirmation",authStore_descriptor32,this),Object(initializerDefineProperty.a)(this,"subscriptionCancellation",authStore_descriptor33,this),Object(initializerDefineProperty.a)(this,"subscriptionCreationError",authStore_descriptor34,this),Object(initializerDefineProperty.a)(this,"renderAppAccountKickback",authStore_descriptor35,this),Object(initializerDefineProperty.a)(this,"takeMeToXero",authStore_descriptor36,this),Object(initializerDefineProperty.a)(this,"fallbackPaymentModal",authStore_descriptor37,this),Object(initializerDefineProperty.a)(this,"utm",authStore_descriptor38,this),Object(initializerDefineProperty.a)(this,"editAdvisorsModalVisible",authStore_descriptor39,this),Object(initializerDefineProperty.a)(this,"showConfigureAccessTab",authStore_descriptor40,this),Object(initializerDefineProperty.a)(this,"advisorTokens",authStore_descriptor41,this),Object(initializerDefineProperty.a)(this,"practiceTokenExpiry",authStore_descriptor42,this),Object(initializerDefineProperty.a)(this,"practiceTokens",authStore_descriptor43,this),Object(initializerDefineProperty.a)(this,"persistUserString",authStore_descriptor44,this),Object(initializerDefineProperty.a)(this,"persistIsAuthed",_descriptor45,this),Object(initializerDefineProperty.a)(this,"persistAccessToken",_descriptor46,this),Object(initializerDefineProperty.a)(this,"persistExpiry",_descriptor47,this),Object(initializerDefineProperty.a)(this,"persistIdToken",_descriptor48,this),Object(initializerDefineProperty.a)(this,"persistRefreshToken",_descriptor49,this),Object(initializerDefineProperty.a)(this,"persistPracticeUser",_descriptor50,this),this.rootStore=rootStore,this.initializeAuthentication=authService_AuthService.initializeAuthentication,this.initializeFirebaseApp=authService_AuthService.initializeFirebaseApp,this.initGA=authService_AuthService.initGA,this.initializeTokens=authService_AuthService.initializeTokens,this.initializeNewBusinessTokens=authService_AuthService.initializeNewBusinessTokens,this.checkOutstandingConnectionClaim=authService_AuthService.checkOutstandingConnectionClaim,this.initiateConnection=authService_AuthService.initiateConnection,this.handleSignIn=authService_AuthService.handleSignIn,this.signUpUsingEmail=authService_AuthService.signUpUsingEmail,this.signUpUsingSocial=authService_AuthService.signUpUsingSocial,this.handleSignOut=authService_AuthService.handleSignOut,this.Intercom=authService_AuthService.Intercom,this.checkRedirect=authService_AuthService.checkRedirect}return Object(createClass.a)(AuthStore,[{key:"storeAdvisorTokens",value:function storeAdvisorTokens(tokens){this.persistAccessToken=tokens.access_token,this.advisorTokens=tokens}},{key:"invalidateCache",value:function invalidateCache(){this.persistUserString="",this.persistIsAuthed=!1,this.persistAccessToken=null,this.persistExpiry=null,this.persistIdToken=null,this.persistRefreshToken=null,this.persistPracticeUser=null}},{key:"storeAdvisorTokensAndUpdateExpiry",value:function storeAdvisorTokensAndUpdateExpiry(tokens){this.persistAccessToken=tokens.access_token,this.persistExpiry=Math.floor(Date.now()/1e3)+tokens.expires_in,this.practiceTokenExpiry=Math.floor(Date.now()/1e3)+tokens.expires_in,console.log("--ex",tokens.expires_in),this.practiceTokens=tokens}},{key:"hasExceededQuota",value:function hasExceededQuota(exceeded){this.exceededQuota=exceeded}},{key:"renderFallbackPaymentModal",value:function renderFallbackPaymentModal(fallback){this.fallbackPaymentModal=fallback}},{key:"setAcquisitionData",value:function setAcquisitionData(utm){js_cookie_default.a.set("utm",utm),this.utm=utm;var url=Object(urlHelper.b)(window.location.href,"utm_source");url=Object(urlHelper.b)(url,"utm_medium"),url=Object(urlHelper.b)(url,"utm_campaign"),window.history.replaceState(null,document.title,url)}},{key:"setLoadingContent",value:function setLoadingContent(contentArray){var _this$loadingInfoCont;(_this$loadingInfoCont=this.loadingInfoContent).push.apply(_this$loadingInfoCont,Object(toConsumableArray.a)(contentArray))}},{key:"setLoading",value:function setLoading(loading){this.loading=loading}},{key:"setShallowLoader",value:function setShallowLoader(loading){this.shallowLoading=loading}},{key:"setRenderAppAccountKickback",value:function setRenderAppAccountKickback(renderKickback){this.renderAppAccountKickback=renderKickback}},{key:"setPracticeUser",value:function setPracticeUser(user){this.practiceUser=user}},{key:"closeActionCentrePopup",value:function closeActionCentrePopup(){this.actionCentrePopupOpen=!1}},{key:"renderPaymentConfirmation",value:function renderPaymentConfirmation(showConfirmation){this.paymentConfirmation=showConfirmation}},{key:"renderSubscriptionCancellation",value:function renderSubscriptionCancellation(showConfirmation){this.subscriptionCancellation=showConfirmation}},{key:"renderSubscriptionCreationError",value:function renderSubscriptionCreationError(showConfirmation){this.subscriptionCreationError=showConfirmation}},{key:"closeNotificationsPopup",value:function closeNotificationsPopup(){this.notificationsPopupOpen=!1}},{key:"closeMessagingPopup",value:function closeMessagingPopup(){this.messagingPopUpOpen=!1}},{key:"closeTrainAiderPopup",value:function closeTrainAiderPopup(){this.trainAiderPopUpOpen=!1}},{key:"setTakeMeToXero",value:function setTakeMeToXero(renderModal){this.takeMeToXero=renderModal}},{key:"closeFavoritesPopup",value:function closeFavoritesPopup(){this.favoritesPopupOpen=!1}},{key:"closeBusinessNavigatorPopup",value:function closeBusinessNavigatorPopup(){this.businessNavigatorPopupOpen=!1}},{key:"validateUserModal",value:function validateUserModal(error){this.userModalErrors=error}},{key:"setConfig",value:function setConfig(config){this.config=config}},{key:"setSignInError",value:function setSignInError(error){this.signInError=error}},{key:"setFireBaseInitialized",value:function setFireBaseInitialized(){this.firebaseInitialized=!0}},{key:"isUserAuthenticated",value:function isUserAuthenticated(authResult){this.persistIsAuthed="undefined"!==authResult||!1!==authResult,this.isAuthed=void 0!==authResult||!1!==authResult,this.authResult=authResult,this.loading=!1}},{key:"setUser",value:function setUser(user){this.persistUserString=".user",this.user=user,null!==user&&esm.c((function(scope){scope.setUser({id:user&&user.uid||null,email:user&&user.email||null,name:user&&user.name||null}),scope.setLevel("warning")}))}},{key:"setApps",value:function setApps(apps){this.apps=apps}},{key:"setPartnerCustomerTokenInRedirectURL",value:function setPartnerCustomerTokenInRedirectURL(cat){this.partnerCustomerTokenInRedirectURL=cat}},{key:"registerLinks",value:function registerLinks(links){this.links=links}},{key:"registerLinks2",value:function registerLinks2(links){this.links2=links}},{key:"registryExistsAndTokensNotExpired",value:function registryExistsAndTokensNotExpired(businessId){var _this=this,businessRegistry=this.tokenRegistry.find((function(business){return business.id===businessId}));return void 0!==businessRegistry&&(new Date(1e3*parseInt(businessRegistry.tokens.expiresAt))>new Date||(console.log("expired token detected","".concat(new Date(1e3*parseInt(businessRegistry.tokens.expiresAt))),new Date,new Date(1e3*parseInt(businessRegistry.tokens.expiresAt))<new Date),Object(network.g)(Store_rootStore.authStore.links,businessRegistry.tokens).then((function(updatedTokens){_this.refreshBusinessTokens(updatedTokens,businessId)}))),businessRegistry)}},{key:"triggerDropdownOpen",value:function triggerDropdownOpen(isOpen){this.dropdownOpen=isOpen}},{key:"setConfigureAccessTab",value:function setConfigureAccessTab(isOpen){this.showConfigureAccessTab=isOpen}},{key:"renderAdvisorsModal",value:function renderAdvisorsModal(isOpen,redirect){return"share"===redirect?(this.editAdvisorsModalVisible=!0,this.showConfigureAccessTab=!0):"invite"===redirect?(this.editAdvisorsModalVisible=!0,this.showConfigureAccessTab=!1):(this.editAdvisorsModalVisible&&"true"===js_cookie_default.a.get("inviteAdvisors")&&js_cookie_default.a.remove("inviteAdvisors"),this.editAdvisorsModalVisible=isOpen)}},{key:"renderEditUserModal",value:function renderEditUserModal(isOpen){this.editUserModalVisible=isOpen}},{key:"refreshBusinessTokens",value:function refreshBusinessTokens(tokens,businessId){this.tokenRegistry.find((function(registry){return registry.id===businessId}));var cacheExists=Store_rootStore.businessStore.tokenCache.find((function(registry){return registry.id===businessId}));return Store_rootStore.businessStore.setBusinessAccessToken(tokens.access_token),cacheExists.tokens=tokens}},{key:"refreshBusinessTokensVerbose",value:function refreshBusinessTokensVerbose(businessId){try{var businessRegistry=Store_rootStore.authStore.tokenRegistry.find((function(business){return business.id===businessId}));Object(network.g)(Store_rootStore.authStore.links,businessRegistry.tokens).then((function(updatedTokens){return businessRegistry.tokens=updatedTokens}))}catch(e){console.log("refresh token error",e)}}},{key:"registerNewBusinessToken",value:function registerNewBusinessToken(tokens,businessId){if(this.registryExistsAndTokensNotExpired(businessId));else{var registryExists=this.tokenRegistry.find((function(registry){return registry.id===businessId}));registryExists&&(registryExists.tokens=tokens),this.tokenRegistry.push({id:businessId,tokens:tokens})}}},{key:"setTokens",value:function setTokens(access_token,refresh_token,id_token){this.persistAccessToken=access_token,this.persistIdToken=id_token,this.persistRefreshToken=refresh_token,this.access_token=access_token,this.refresh_token=refresh_token,this.id_token=id_token}},{key:"getBusinessToken",value:function getBusinessToken(businessId){var _this2=this,business=this.registryExistsAndTokensNotExpired(businessId);if(business)return business.tokens.access_token;this.initializeNewBusinessTokens(businessId).then((function(){var business=_this2.registryExistsAndTokensNotExpired(businessId);return"boolean"!=typeof business?business.tokens.access_token:null}))}}]),AuthStore}(),authStore_descriptor=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"config",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),authStore_descriptor2=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"loading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),authStore_descriptor3=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"shallowLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),authStore_descriptor4=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"tokenRegistry",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[{id:"123",tokens:{id_token:"nothing here",expiresAt:new Date,access_token:"",refresh_token:""}}]}}),authStore_descriptor5=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"loadingInfoContent",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return["Initializing Portal..."]}}),authStore_descriptor6=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"signInError",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),authStore_descriptor7=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"businessNavigatorPopupOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),authStore_descriptor8=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"notificationsPopupOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),authStore_descriptor9=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"messagingPopUpOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),authStore_descriptor10=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"trainAiderPopUpOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),authStore_descriptor11=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"favoritesPopupOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),authStore_descriptor12=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"actionCentrePopupOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),authStore_descriptor13=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"currentConversation",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),authStore_descriptor14=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"firebaseInitialized",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor15=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"redirected",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor16=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"isAuthed",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor17=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"authResult",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),authStore_descriptor18=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"user",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),authStore_descriptor19=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"apps",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),authStore_descriptor20=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"partnerCustomerTokenInRedirectURL",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),authStore_descriptor21=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"links",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),authStore_descriptor22=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"links2",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),authStore_descriptor23=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"access_token",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),authStore_descriptor24=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"refresh_token",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),authStore_descriptor25=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"id_token",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),authStore_descriptor26=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"practiceUser",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),authStore_descriptor27=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"userModalErrors",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),authStore_descriptor28=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"GAInitialized",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor29=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"dropdownOpen",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor30=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"editUserModalVisible",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor31=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"exceededQuota",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor32=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"paymentConfirmation",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor33=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"subscriptionCancellation",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor34=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"subscriptionCreationError",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor35=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"renderAppAccountKickback",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor36=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"takeMeToXero",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor37=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"fallbackPaymentModal",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor38=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"utm",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),authStore_descriptor39=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"editAdvisorsModalVisible",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor40=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"showConfigureAccessTab",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),authStore_descriptor41=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"advisorTokens",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{access_token:"",refresh_token:"",id_token:""}}}),authStore_descriptor42=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"practiceTokenExpiry",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),authStore_descriptor43=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"practiceTokens",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{access_token:"",refresh_token:"",id_token:"",expires_in:""}}}),authStore_descriptor44=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"persistUserString",[mobx_persist_lib.persist,mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return""}}),_descriptor45=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"persistIsAuthed",[mobx_persist_lib.persist,mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),_descriptor46=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"persistAccessToken",[mobx_persist_lib.persist,mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor47=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"persistExpiry",[mobx_persist_lib.persist,mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor48=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"persistIdToken",[mobx_persist_lib.persist,mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor49=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"persistRefreshToken",[mobx_persist_lib.persist,mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),_descriptor50=Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"persistPracticeUser",[authStore_dec,mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"storeAdvisorTokens",[authStore_dec2],Object.getOwnPropertyDescriptor(authStore_class.prototype,"storeAdvisorTokens"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"invalidateCache",[authStore_dec3],Object.getOwnPropertyDescriptor(authStore_class.prototype,"invalidateCache"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"storeAdvisorTokensAndUpdateExpiry",[authStore_dec4],Object.getOwnPropertyDescriptor(authStore_class.prototype,"storeAdvisorTokensAndUpdateExpiry"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"hasExceededQuota",[authStore_dec5],Object.getOwnPropertyDescriptor(authStore_class.prototype,"hasExceededQuota"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"renderFallbackPaymentModal",[authStore_dec6],Object.getOwnPropertyDescriptor(authStore_class.prototype,"renderFallbackPaymentModal"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setAcquisitionData",[authStore_dec7],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setAcquisitionData"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setLoadingContent",[authStore_dec8],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setLoadingContent"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setLoading",[authStore_dec9],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setLoading"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setShallowLoader",[authStore_dec10],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setShallowLoader"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setRenderAppAccountKickback",[authStore_dec11],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setRenderAppAccountKickback"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setPracticeUser",[authStore_dec12],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setPracticeUser"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"closeActionCentrePopup",[authStore_dec13],Object.getOwnPropertyDescriptor(authStore_class.prototype,"closeActionCentrePopup"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"renderPaymentConfirmation",[authStore_dec14],Object.getOwnPropertyDescriptor(authStore_class.prototype,"renderPaymentConfirmation"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"renderSubscriptionCancellation",[authStore_dec15],Object.getOwnPropertyDescriptor(authStore_class.prototype,"renderSubscriptionCancellation"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"renderSubscriptionCreationError",[authStore_dec16],Object.getOwnPropertyDescriptor(authStore_class.prototype,"renderSubscriptionCreationError"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"closeNotificationsPopup",[authStore_dec17],Object.getOwnPropertyDescriptor(authStore_class.prototype,"closeNotificationsPopup"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"closeMessagingPopup",[authStore_dec18],Object.getOwnPropertyDescriptor(authStore_class.prototype,"closeMessagingPopup"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"closeTrainAiderPopup",[authStore_dec19],Object.getOwnPropertyDescriptor(authStore_class.prototype,"closeTrainAiderPopup"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setTakeMeToXero",[authStore_dec20],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setTakeMeToXero"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"closeFavoritesPopup",[authStore_dec21],Object.getOwnPropertyDescriptor(authStore_class.prototype,"closeFavoritesPopup"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"closeBusinessNavigatorPopup",[authStore_dec22],Object.getOwnPropertyDescriptor(authStore_class.prototype,"closeBusinessNavigatorPopup"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"validateUserModal",[authStore_dec23],Object.getOwnPropertyDescriptor(authStore_class.prototype,"validateUserModal"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setConfig",[authStore_dec24],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setConfig"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setSignInError",[authStore_dec25],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setSignInError"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setFireBaseInitialized",[authStore_dec26],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setFireBaseInitialized"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"isUserAuthenticated",[authStore_dec27],Object.getOwnPropertyDescriptor(authStore_class.prototype,"isUserAuthenticated"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setUser",[authStore_dec28],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setUser"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setApps",[authStore_dec29],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setApps"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setPartnerCustomerTokenInRedirectURL",[authStore_dec30],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setPartnerCustomerTokenInRedirectURL"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"registerLinks",[authStore_dec31],Object.getOwnPropertyDescriptor(authStore_class.prototype,"registerLinks"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"registerLinks2",[authStore_dec32],Object.getOwnPropertyDescriptor(authStore_class.prototype,"registerLinks2"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"registryExistsAndTokensNotExpired",[authStore_dec33],Object.getOwnPropertyDescriptor(authStore_class.prototype,"registryExistsAndTokensNotExpired"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"triggerDropdownOpen",[authStore_dec34],Object.getOwnPropertyDescriptor(authStore_class.prototype,"triggerDropdownOpen"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setConfigureAccessTab",[authStore_dec35],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setConfigureAccessTab"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"renderAdvisorsModal",[authStore_dec36],Object.getOwnPropertyDescriptor(authStore_class.prototype,"renderAdvisorsModal"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"renderEditUserModal",[authStore_dec37],Object.getOwnPropertyDescriptor(authStore_class.prototype,"renderEditUserModal"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"refreshBusinessTokens",[authStore_dec38],Object.getOwnPropertyDescriptor(authStore_class.prototype,"refreshBusinessTokens"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"refreshBusinessTokensVerbose",[authStore_dec39],Object.getOwnPropertyDescriptor(authStore_class.prototype,"refreshBusinessTokensVerbose"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"registerNewBusinessToken",[authStore_dec40],Object.getOwnPropertyDescriptor(authStore_class.prototype,"registerNewBusinessToken"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"setTokens",[authStore_dec41],Object.getOwnPropertyDescriptor(authStore_class.prototype,"setTokens"),authStore_class.prototype),Object(applyDecoratedDescriptor.a)(authStore_class.prototype,"getBusinessToken",[authStore_dec42],Object.getOwnPropertyDescriptor(authStore_class.prototype,"getBusinessToken"),authStore_class.prototype),authStore_class),advisorChatService_AdvisorChatService=function(){function AdvisorChatService(){Object(classCallCheck.a)(this,AdvisorChatService)}var _createChatWithUserId,_createChat,_getConversationMessagesWithUserIdLoading,_getConversationPreviousMessages,_getConversationMessagesWithUserId,_getConversationMessages,_getChats;return Object(createClass.a)(AdvisorChatService,null,[{key:"getChats",value:(_getChats=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var tokens;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return Store_rootStore.advisorChatStore.setChatLoading(!0),_context.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:tokens=_context.sent,Object(network.d)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_DOMAIN,"/api/v2/conversations/chats"),{Authorization:"Bearer ".concat(tokens.access_token)}).then((function(data){Store_rootStore.advisorChatStore.storeChatsList(data,Store_rootStore.businessStore.selectedBusinessId).then((function(res){Store_rootStore.advisorChatStore.setChatLoading(!1)}),(function(e){console.log(e),Store_rootStore.advisorChatStore.setChatLoading(!1)}))}),(function(error){Store_rootStore.registerGAEvent("otherError"),Store_rootStore.advisorChatStore.setChatLoading(!1),console.log("err:",error)})).catch((function(e){esm.a(e),console.log("other error",e),Store_rootStore.advisorChatStore.setChatLoading(!1)}));case 5:case"end":return _context.stop()}}),_callee)}))),function getChats(){return _getChats.apply(this,arguments)})},{key:"getConversationMessages",value:(_getConversationMessages=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(chatId){var tokens;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context3.sent,Store_rootStore.advisorChatStore.setChatLoading(!0),_context3.abrupt("return",Object(network.d)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_DOMAIN,"/api/v2/conversations/chats/").concat(chatId,"/messages"),{Authorization:"Bearer ".concat(tokens.access_token)}).then(function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(data){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",Store_rootStore.advisorChatStore.storeConversation(data).then((function(res){return Store_rootStore.advisorChatStore.setChatLoading(!1),res}),(function(e){console.log(e),Store_rootStore.advisorChatStore.setChatLoading(!1)})));case 1:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref.apply(this,arguments)}}(),(function(error){Store_rootStore.registerGAEvent("otherError"),Store_rootStore.advisorChatStore.setChatLoading(!1),console.log("err:",error)})).catch((function(e){esm.a(e),console.log("other error",e),Store_rootStore.advisorChatStore.setChatLoading(!1)})));case 5:case"end":return _context3.stop()}}),_callee3)}))),function getConversationMessages(_x){return _getConversationMessages.apply(this,arguments)})},{key:"getConversationMessagesWithUserId",value:(_getConversationMessagesWithUserId=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee5(userId,cbTokens){var tokens;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(null!==Store_rootStore.advisorChatStore.selectedConversationId&&null!==Store_rootStore.advisorChatStore.selectedConversationName&&Store_rootStore.advisorChatStore.selectedUserId===userId){_context5.next=2;break}return _context5.abrupt("return",!1);case 2:if(!cbTokens){_context5.next=6;break}tokens=cbTokens,_context5.next=9;break;case 6:return _context5.next=8,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 8:tokens=_context5.sent;case 9:return _context5.abrupt("return",Object(network.d)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_DOMAIN,"/api/v2/conversations/chats/advisorChat/messages?clientId=").concat(userId),{Authorization:"Bearer ".concat(tokens.access_token)}).then(function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(data){return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",Store_rootStore.advisorChatStore.storeConversation(data));case 1:case"end":return _context4.stop()}}),_callee4)})));return function(_x5){return _ref2.apply(this,arguments)}}(),(function(error){Store_rootStore.registerGAEvent("otherError"),console.log("err:",error)})).catch((function(e){esm.a(e),console.log("other error",e)})));case 10:case"end":return _context5.stop()}}),_callee5)}))),function getConversationMessagesWithUserId(_x3,_x4){return _getConversationMessagesWithUserId.apply(this,arguments)})},{key:"getConversationPreviousMessages",value:(_getConversationPreviousMessages=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee7(){var tokens;return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:return tokens=_context7.sent,_context7.abrupt("return",Object(network.d)("".concat(Store_rootStore.advisorChatStore.previousMessagesLink),{Authorization:"Bearer ".concat(tokens.access_token)}).then(function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee6(data){return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",Store_rootStore.advisorChatStore.storePreviousMessages(data));case 1:case"end":return _context6.stop()}}),_callee6)})));return function(_x6){return _ref3.apply(this,arguments)}}(),(function(error){Store_rootStore.registerGAEvent("otherError"),console.log("err:",error)})).catch((function(e){esm.a(e),console.log("other error",e)})));case 4:case"end":return _context7.stop()}}),_callee7)}))),function getConversationPreviousMessages(){return _getConversationPreviousMessages.apply(this,arguments)})},{key:"getConversationMessagesWithUserIdLoading",value:(_getConversationMessagesWithUserIdLoading=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee9(userId,cbTokens){var tokens;return regenerator_default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(Store_rootStore.authStore.Intercom("trackEvent","advisorChat-select-conversation",{recipient_id:userId,user_id:Store_rootStore.authStore.user?Store_rootStore.authStore.user.uid:null}),!cbTokens){_context9.next=5;break}tokens=cbTokens,_context9.next=8;break;case 5:return _context9.next=7,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 7:tokens=_context9.sent;case 8:return Store_rootStore.advisorChatStore.setChatLoading(!0),_context9.abrupt("return",Object(network.d)("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_DOMAIN,"/api/v2/conversations/chats/advisorChat/messages?clientId=").concat(userId),{Authorization:"Bearer ".concat(tokens.access_token)}).then(function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee8(data){return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return Store_rootStore.advisorChatStore.setIsReloading(!1),_context8.abrupt("return",Store_rootStore.advisorChatStore.storeConversation(data));case 2:case"end":return _context8.stop()}}),_callee8)})));return function(_x9){return _ref4.apply(this,arguments)}}(),(function(error){Store_rootStore.registerGAEvent("otherError"),Store_rootStore.advisorChatStore.setChatLoading(!1),console.log("err:",error)})).catch((function(e){esm.a(e),console.log("other error",e),Store_rootStore.advisorChatStore.setChatLoading(!1)})));case 10:case"end":return _context9.stop()}}),_callee9)}))),function getConversationMessagesWithUserIdLoading(_x7,_x8){return _getConversationMessagesWithUserIdLoading.apply(this,arguments)})},{key:"createChat",value:(_createChat=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee10(messageText,id){var tokens;return regenerator_default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 2:tokens=_context10.sent,axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_DOMAIN,"/api/v2/conversations/chats/").concat(id,"/messages"),data:{_embedded:{messageText:"".concat(messageText)}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(data){console.log("message:",data),AdvisorChatService.getConversationMessages(id)}),(function(error){Store_rootStore.registerGAEvent("otherError"),Store_rootStore.advisorChatStore.setChatLoading(!1),console.log("err:",error)})).catch((function(e){esm.a(e),console.log("other error",e),Store_rootStore.advisorChatStore.setChatLoading(!1)}));case 4:case"end":return _context10.stop()}}),_callee10)}))),function createChat(_x10,_x11){return _createChat.apply(this,arguments)})},{key:"createChatWithUserId",value:(_createChatWithUserId=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee11(messageText,id){var tokens;return regenerator_default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return Store_rootStore.authStore.Intercom("trackEvent","advisorChat-send-message",{recipient_id:id,user_id:Store_rootStore.authStore.user.uid}),_context11.next=3,Store_rootStore.businessStore.refreshTokensIfExpired(Store_rootStore.businessStore.selectedBusinessId);case 3:return tokens=_context11.sent,_context11.abrupt("return",axios_default()({method:"post",url:"".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_AIDER_DOMAIN,"/api/v2/conversations/chats/advisorChat/messages?clientId=").concat(id),data:{_embedded:{messageText:"".concat(messageText)}},headers:{Authorization:"Bearer ".concat(tokens.access_token),"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY}}).then((function(data){return console.log("message:",data),AdvisorChatService.getConversationMessagesWithUserId(id,tokens)}),(function(error){Store_rootStore.registerGAEvent("otherError"),Store_rootStore.advisorChatStore.setChatLoading(!1),console.log("err:",error)})).catch((function(e){esm.a(e),console.log("other error",e),Store_rootStore.advisorChatStore.setChatLoading(!1)})));case 5:case"end":return _context11.stop()}}),_callee11)}))),function createChatWithUserId(_x12,_x13){return _createChatWithUserId.apply(this,arguments)})}]),AdvisorChatService}(),advisorChatStore_ConversationStore=(advisorChatStore_dec=mobx_module.action.bound,advisorChatStore_dec2=mobx_module.action.bound,advisorChatStore_dec3=mobx_module.action.bound,advisorChatStore_dec4=mobx_module.action.bound,advisorChatStore_dec5=mobx_module.action.bound,advisorChatStore_dec6=mobx_module.action.bound,advisorChatStore_dec7=mobx_module.action.bound,advisorChatStore_dec8=mobx_module.action.bound,advisorChatStore_dec9=mobx_module.action.bound,advisorChatStore_dec10=mobx_module.action.bound,advisorChatStore_dec11=mobx_module.action.bound,advisorChatStore_dec12=mobx_module.action.bound,advisorChatStore_dec13=mobx_module.action.bound,advisorChatStore_dec14=mobx_module.action.bound,advisorChatStore_dec15=mobx_module.action.bound,advisorChatStore_dec16=mobx_module.action.bound,advisorChatStore_dec17=mobx_module.action.bound,advisorChatStore_class=function(){function ConversationStore(rootStore){Object(classCallCheck.a)(this,ConversationStore),this.rootStore=void 0,this.getChats=void 0,this.getConversationMessages=void 0,this.createChat=void 0,this.getConversationMessagesWithUserId=void 0,this.getConversationMessagesWithUserIdLoading=void 0,this.createChatWithUserId=void 0,this.loadPreviousMessages=void 0,Object(initializerDefineProperty.a)(this,"conversations",advisorChatStore_descriptor,this),Object(initializerDefineProperty.a)(this,"chatLoading",advisorChatStore_descriptor2,this),Object(initializerDefineProperty.a)(this,"lastTimestampRecievedForAllUsers",advisorChatStore_descriptor3,this),Object(initializerDefineProperty.a)(this,"selectedConversationName",advisorChatStore_descriptor4,this),Object(initializerDefineProperty.a)(this,"newMessageRecievedForSelectedBusiness",advisorChatStore_descriptor5,this),Object(initializerDefineProperty.a)(this,"selectedChatId",advisorChatStore_descriptor6,this),Object(initializerDefineProperty.a)(this,"selectedConversationId",advisorChatStore_descriptor7,this),Object(initializerDefineProperty.a)(this,"selectedChat",advisorChatStore_descriptor8,this),Object(initializerDefineProperty.a)(this,"hasNewMessages",advisorChatStore_descriptor9,this),Object(initializerDefineProperty.a)(this,"selectedConversation",advisorChatStore_descriptor10,this),Object(initializerDefineProperty.a)(this,"selectedUserId",advisorChatStore_descriptor11,this),Object(initializerDefineProperty.a)(this,"previousMessagesLink",advisorChatStore_descriptor12,this),Object(initializerDefineProperty.a)(this,"lastTimeRecieved",advisorChatStore_descriptor13,this),Object(initializerDefineProperty.a)(this,"pollIsPaused",advisorChatStore_descriptor14,this),Object(initializerDefineProperty.a)(this,"selectedConversationsMessages",advisorChatStore_descriptor15,this),Object(initializerDefineProperty.a)(this,"isReloadingMessages",advisorChatStore_descriptor16,this),Object(initializerDefineProperty.a)(this,"singleChat",advisorChatStore_descriptor17,this),Object(initializerDefineProperty.a)(this,"chatArrayObserver",advisorChatStore_descriptor18,this),Object(initializerDefineProperty.a)(this,"businessSelected",advisorChatStore_descriptor19,this),Object(initializerDefineProperty.a)(this,"scrollUp",advisorChatStore_descriptor20,this),Object(initializerDefineProperty.a)(this,"notificationsToggled",advisorChatStore_descriptor21,this),this.rootStore=rootStore,this.getChats=advisorChatService_AdvisorChatService.getChats,this.getConversationMessages=advisorChatService_AdvisorChatService.getConversationMessages,this.createChat=advisorChatService_AdvisorChatService.createChat,this.createChatWithUserId=advisorChatService_AdvisorChatService.createChatWithUserId,this.getConversationMessagesWithUserId=advisorChatService_AdvisorChatService.getConversationMessagesWithUserId,this.getConversationMessagesWithUserIdLoading=advisorChatService_AdvisorChatService.getConversationMessagesWithUserIdLoading,this.loadPreviousMessages=advisorChatService_AdvisorChatService.getConversationPreviousMessages}var _storePreviousMessages,_storeConversation,_setIsReloading,_storeChatsList;return Object(createClass.a)(ConversationStore,[{key:"storeChatsList",value:(_storeChatsList=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(data,businessId){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:data&&(this.conversations=data._embedded.conversations);case 1:case"end":return _context.stop()}}),_callee,this)}))),function storeChatsList(_x,_x2){return _storeChatsList.apply(this,arguments)})},{key:"scrollUpHappened",value:function scrollUpHappened(_scrollUpHappened){this.scrollUp=_scrollUpHappened}},{key:"pausePoll",value:function pausePoll(isPaused){this.pollIsPaused=isPaused}},{key:"setHasNewMessages",value:function setHasNewMessages(hasNewMessages){this.hasNewMessages=hasNewMessages}},{key:"setNotificationsIsToggled",value:function setNotificationsIsToggled(isToggled){this.notificationsToggled=isToggled}},{key:"setBusinessSelected",value:function setBusinessSelected(isSelected){this.businessSelected=isSelected}},{key:"setNewMessageRecievedForSelectedBusiness",value:function setNewMessageRecievedForSelectedBusiness(newMessageRecieved){this.newMessageRecievedForSelectedBusiness=newMessageRecieved}},{key:"setLastTimeRecievedForAllUsers",value:function setLastTimeRecievedForAllUsers(timestamp){this.lastTimestampRecievedForAllUsers=timestamp}},{key:"setIsReloading",value:(_setIsReloading=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(isReloading){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:this.isReloadingMessages=isReloading;case 1:case"end":return _context2.stop()}}),_callee2,this)}))),function setIsReloading(_x3){return _setIsReloading.apply(this,arguments)})},{key:"storeConversation",value:(_storeConversation=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(data){return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!this.isReloadingMessages){_context3.next=3;break}return Store_rootStore.advisorChatStore.setChatLoading(!1),_context3.abrupt("return",data);case 3:if(!data){_context3.next=10;break}return this.selectedConversationsMessages=data._embedded.conversation.messages,this.selectedConversationId=data._embedded.conversation.id,this.selectedChat=data._embedded.conversation,this.previousMessagesLink=data._links.previousMessages?data._links.previousMessages.href:null,Store_rootStore.advisorChatStore.setChatLoading(!1),_context3.abrupt("return",data);case 10:this.selectedConversationsMessages=[],this.selectedConversationId=null,this.selectedChat=null,Store_rootStore.advisorChatStore.setChatLoading(!1);case 14:case"end":return _context3.stop()}}),_callee3,this)}))),function storeConversation(_x4){return _storeConversation.apply(this,arguments)})},{key:"storePreviousMessages",value:(_storePreviousMessages=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(data){var _data$_embedded$conve,messages,postData;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:this.isReloadingMessages=!0,_data$_embedded$conve=data._embedded.conversation,messages=_data$_embedded$conve.messages,_data$_embedded$conve.id,postData=messages,this.previousMessagesLink=data._links.previousMessages?data._links.previousMessages.href:null,this.selectedConversationsMessages=postData.concat(this.selectedConversationsMessages),this.setChatLoading(!1);case 6:case"end":return _context4.stop()}}),_callee4,this)}))),function storePreviousMessages(_x5){return _storePreviousMessages.apply(this,arguments)})},{key:"setChatLoading",value:function setChatLoading(isLoading){this.chatLoading=isLoading}},{key:"setLastTimeReceived",value:function setLastTimeReceived(nanosecondTimestamp){this.lastTimeRecieved=nanosecondTimestamp}},{key:"setSelectedChatId",value:function setSelectedChatId(chatId){this.selectedChatId=chatId}},{key:"setSelectedConversationToRefresh",value:function setSelectedConversationToRefresh(id){this.selectedConversation=id}},{key:"setSelectedUserIdToRefresh",value:function setSelectedUserIdToRefresh(id){var singleChathasUpdated=new firestorter_module.b("clientSync/".concat(id));this.singleChat=singleChathasUpdated,this.selectedUserId=id}},{key:"setSelectedConversationNameToRefresh",value:function setSelectedConversationNameToRefresh(name){this.selectedConversationName=name}}]),ConversationStore}(),advisorChatStore_descriptor=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"conversations",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),advisorChatStore_descriptor2=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"chatLoading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),advisorChatStore_descriptor3=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"lastTimestampRecievedForAllUsers",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),advisorChatStore_descriptor4=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"selectedConversationName",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),advisorChatStore_descriptor5=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"newMessageRecievedForSelectedBusiness",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),advisorChatStore_descriptor6=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"selectedChatId",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),advisorChatStore_descriptor7=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"selectedConversationId",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),advisorChatStore_descriptor8=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"selectedChat",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),advisorChatStore_descriptor9=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"hasNewMessages",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),advisorChatStore_descriptor10=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"selectedConversation",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),advisorChatStore_descriptor11=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"selectedUserId",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),advisorChatStore_descriptor12=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"previousMessagesLink",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),advisorChatStore_descriptor13=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"lastTimeRecieved",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return null}}),advisorChatStore_descriptor14=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"pollIsPaused",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),advisorChatStore_descriptor15=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"selectedConversationsMessages",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),advisorChatStore_descriptor16=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"isReloadingMessages",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),advisorChatStore_descriptor17=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"singleChat",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return{}}}),advisorChatStore_descriptor18=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"chatArrayObserver",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return[]}}),advisorChatStore_descriptor19=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"businessSelected",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),advisorChatStore_descriptor20=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"scrollUp",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),advisorChatStore_descriptor21=Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"notificationsToggled",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!0}}),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"storeChatsList",[advisorChatStore_dec],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"storeChatsList"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"scrollUpHappened",[advisorChatStore_dec2],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"scrollUpHappened"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"pausePoll",[advisorChatStore_dec3],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"pausePoll"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setHasNewMessages",[advisorChatStore_dec4],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setHasNewMessages"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setNotificationsIsToggled",[advisorChatStore_dec5],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setNotificationsIsToggled"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setBusinessSelected",[advisorChatStore_dec6],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setBusinessSelected"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setNewMessageRecievedForSelectedBusiness",[advisorChatStore_dec7],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setNewMessageRecievedForSelectedBusiness"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setLastTimeRecievedForAllUsers",[advisorChatStore_dec8],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setLastTimeRecievedForAllUsers"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setIsReloading",[advisorChatStore_dec9],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setIsReloading"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"storeConversation",[advisorChatStore_dec10],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"storeConversation"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"storePreviousMessages",[advisorChatStore_dec11],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"storePreviousMessages"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setChatLoading",[advisorChatStore_dec12],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setChatLoading"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setLastTimeReceived",[advisorChatStore_dec13],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setLastTimeReceived"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setSelectedChatId",[advisorChatStore_dec14],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setSelectedChatId"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setSelectedConversationToRefresh",[advisorChatStore_dec15],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setSelectedConversationToRefresh"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setSelectedUserIdToRefresh",[advisorChatStore_dec16],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setSelectedUserIdToRefresh"),advisorChatStore_class.prototype),Object(applyDecoratedDescriptor.a)(advisorChatStore_class.prototype,"setSelectedConversationNameToRefresh",[advisorChatStore_dec17],Object.getOwnPropertyDescriptor(advisorChatStore_class.prototype,"setSelectedConversationNameToRefresh"),advisorChatStore_class.prototype),advisorChatStore_class);Object(mobx_module.configure)({enforceActions:"observed"});var hydrate=Object(mobx_persist_lib.create)({storage:localStorage,jsonify:!0}),Store_rootStore=new(Store_dec=mobx_module.action.bound,Store_class=function(){function RootStore(){var _this=this;Object(classCallCheck.a)(this,RootStore),this.businessStore=void 0,this.conversationStore=void 0,this.authStore=void 0,this.advisorChatStore=void 0,Object(initializerDefineProperty.a)(this,"loading",Store_descriptor,this),this.businessStore=new businessStore_BusinessStore(this),this.conversationStore=new conversationStore_ConversationStore(this),this.authStore=new authStore_AuthStore(this),this.advisorChatStore=new advisorChatStore_ConversationStore(this),hydrate("auth",this.authStore).then((function(){return _this.authStore.setLoading(!1)}))}return Object(createClass.a)(RootStore,[{key:"setLoading",value:function setLoading(loading){this.loading=loading}},{key:"registerGAEvent",value:function registerGAEvent(eventType){var code=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return GoogleAnalytics_eventPipeline(eventType,code)}}]),RootStore}(),Store_descriptor=Object(applyDecoratedDescriptor.a)(Store_class.prototype,"loading",[mobx_module.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return!1}}),Object(applyDecoratedDescriptor.a)(Store_class.prototype,"setLoading",[Store_dec],Object.getOwnPropertyDescriptor(Store_class.prototype,"setLoading"),Store_class.prototype),Store_class)},101:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAADdklEQVRIS7WWWWgTURSG/5nMZGvWxi62glW7iVqlLVKxWu2LWor64oKiLfRBscUHN1zApbiAD4paqS8u9cEHFUq1qCC4YES0Lq3igmipKzTpZuMkmUmaK5OSmcTOJK3UCwNzZ8493/znnnPuUBjjcL7yk5+uEAY8IfACQZpDgxQ7DYeNRkGullJzp/oiesHbTwK5fteHh8/5uJ9VkM9i7RIjSgp0I/wmBD1o85P6c4Nj0r1sgR47qy0xvuOCmlo40nSDGxMkYjwzh8Xp3XbJvyrojtNHjl/0jID0TR3C79QQuBQC3kSg91DQchQyXjHQD8S6q1yox7aqYWWqoA0He8iPbyEJNJgZwre5AXTPGFJUqAkAuXe0mNjBxLyvWp6EqhVJlCLo5kMfOXlZVsNNCOHpZv+oQjjnig7JnRrJNmsSgwuHkpVBW070kQ9vg5Jxx1oevdmykmqTCfN0OqRqaLQLAg4N/JJsNQJQdEkPk4uWnp3Za1MOXXmNi0Ss3HlDeLNKTus6ixkNDkdMJK7+5shqt1tyPPkxi2n3WWm+db0pMahrfgCdiwNy2KZkKYZ7lctFrnHesJ2xl0ZJo15as3yRITHo9WoePblRCaACOtDfT6JDWH7YODbQhwoBPwvl/cL/An0vDuLjUkH6uuN2O3bZrCPCF09R9Yok5dBVbHMT/6/hfBALtH2dnAzZDIPTjmRUGI1h2C2vl4j38UDbq8zKoFPNHtLS6pNUvF7DoycntlBFoDg+BYMwURS2Wy0xaR69R/fOpyrXkeggOsXF+dNNfnApcqf4u3qLnDq8KJWVR0ClhTrU11qVQe8+C6Tu6MCITvCjKAjxEntdZJi6aWQ5WTA8pBBnvGSQf0uLJCuFhh12TM5glEGJunZQT+BJC8HcTYPxy3khmAiGWMDQP/ysvtaC0kK9elOtPdJP3ndGFemoulys0dl9dkyfysY/JsT9mZ3HoqxYh5XlRqqx1UOuNcvJEY9rS6axv8aCOfmxx3qYeNvrJW28gP12m+qx8aSDJy1PfHjWJtdUBEgzQHYeg8oiAyrLDIo+qIbBQVLX2xdeM0vL4k1mZsLjXbT92BWQGm9ulhwiNbWU48tX0huSs+iY3YY9NnVl/7Bd4SXUOpebXOHk/4JH6elYYBjOlPEcYYcb3W7ywM+j3mZFtdk87hCR8QfrY1BbGiJ3RgAAAABJRU5ErkJggg=="},102:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",(function(){return signUpUsingGoogle})),__webpack_require__.d(__webpack_exports__,"h",(function(){return signUpUsingFacebook})),__webpack_require__.d(__webpack_exports__,"j",(function(){return signUpUsingXero})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createConnection})),__webpack_require__.d(__webpack_exports__,"g",(function(){return reconnectConnection})),__webpack_require__.d(__webpack_exports__,"e",(function(){return deleteConnection})),__webpack_require__.d(__webpack_exports__,"a",(function(){return checkConnection})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getConnections})),__webpack_require__.d(__webpack_exports__,"b",(function(){return checkConnectionConfiguration})),__webpack_require__.d(__webpack_exports__,"c",(function(){return claimConnection}));var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),js_cookie__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(708),__webpack_require__(53),__webpack_require__(18)),js_cookie__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_4__),_apiHelper__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(2),__webpack_require__(44)),_stores_Store__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),signUpUsingGoogle=function signUpUsingGoogle(firebase){var provider=new firebase.auth.GoogleAuthProvider;provider.setCustomParameters({prompt:"select_account"}),firebase.auth().signInWithRedirect(provider)},signUpUsingFacebook=function signUpUsingFacebook(firebase){var provider=new firebase.auth.FacebookAuthProvider;provider.setCustomParameters({auth_type:"https"}),firebase.auth().signInWithRedirect(provider)},signUpUsingXero=function(){var _ref=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(apiLinks){var redirectUrl,url,response,resultUrl;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return redirectUrl=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL,url="".concat(apiLinks.singleSignOn.href.replace("{ospKey}","xero").replace("{appKey}","accounting"),"?redirectUrl=").concat(encodeURIComponent(redirectUrl)),_context.next=4,Object(_apiHelper__WEBPACK_IMPORTED_MODULE_6__.d)(url);case 4:response=_context.sent,resultUrl=response._embedded.sso._links.redirect.href,window.location.href=resultUrl;case 7:case"end":return _context.stop()}}),_callee)})));return function signUpUsingXero(_x){return _ref.apply(this,arguments)}}(),createConnection=function(){var _ref2=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee2(apiLinks,access_token){var url,response,resultUrl;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL,url="".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_CONNECTION_SERVICE_ENDPOINT,"/connections/osp/xero/app/accounting?connectionType=managed&redirectUrl=").concat(encodeURIComponent(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL)),_context2.next=4,Object(_apiHelper__WEBPACK_IMPORTED_MODULE_6__.d)(url,{Authorization:"Bearer ".concat(access_token)}).catch((function(e){return console.log("create connection error:",e),e}));case 4:if(response=_context2.sent,_context2.prev=5,!(response&&response._embedded&&response._embedded.connection)){_context2.next=11;break}return resultUrl=response._embedded.connection._links.redirect.href,_context2.abrupt("return",window.location.href=resultUrl);case 11:return _context2.abrupt("return",response);case 12:_context2.next=17;break;case 14:return _context2.prev=14,_context2.t0=_context2.catch(5),_context2.abrupt("return",response);case 17:case"end":return _context2.stop()}}),_callee2,null,[[5,14]])})));return function createConnection(_x2,_x3){return _ref2.apply(this,arguments)}}(),reconnectConnection=function(){var _ref3=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee3(apiLinks,access_token,businessId){var url,response,resultUrl;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return console.log(".rc"),_stores_Store__WEBPACK_IMPORTED_MODULE_7__.a.authStore.setTakeMeToXero(!1),js_cookie__WEBPACK_IMPORTED_MODULE_4___default.a.set("skipCreation","true"),url="".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_CONNECTION_SERVICE_ENDPOINT,"/connections/osp/xero/app/accounting?connectionType=managed&managedFor=").concat(businessId,"&redirectUrl=").concat(encodeURIComponent(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL)),_context3.next=6,Object(_apiHelper__WEBPACK_IMPORTED_MODULE_6__.d)(url,{Authorization:"Bearer ".concat(access_token)}).catch((function(e){console.log("create connection error:",e)}));case 6:return response=_context3.sent,_context3.prev=7,resultUrl=response._embedded.connection._links.redirect.href,_context3.abrupt("return",window.location.href=resultUrl);case 12:_context3.prev=12,_context3.t0=_context3.catch(7),console.log("no response",response);case 15:case"end":return _context3.stop()}}),_callee3,null,[[7,12]])})));return function reconnectConnection(_x4,_x5,_x6){return _ref3.apply(this,arguments)}}(),deleteConnection=function(){var _ref4=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee5(tokens,disconnectionUrl,fallbackBusinessTokens){var url,response;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return console.log(disconnectionUrl),Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL,url="".concat(disconnectionUrl.replace("http://","https://")),_context5.next=5,Object(_apiHelper__WEBPACK_IMPORTED_MODULE_6__.a)(url,{Authorization:"Bearer ".concat(tokens.access_token)}).catch(function(){var _ref5=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee4(e){return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return console.log("practice fallback",e),_context4.next=3,Object(_apiHelper__WEBPACK_IMPORTED_MODULE_6__.a)(url,{Authorization:"Bearer ".concat(fallbackBusinessTokens.access_token)}).catch((function(e){console.log("error status with business tokens:",e)}));case 3:return _context4.abrupt("return",_context4.sent);case 4:case"end":return _context4.stop()}}),_callee4)})));return function(_x10){return _ref5.apply(this,arguments)}}());case 5:return response=_context5.sent,_context5.prev=6,_context5.abrupt("return",response);case 10:_context5.prev=10,_context5.t0=_context5.catch(6),console.log("no response",response);case 13:case"end":return _context5.stop()}}),_callee5,null,[[6,10]])})));return function deleteConnection(_x7,_x8,_x9){return _ref4.apply(this,arguments)}}(),checkConnection=function(){var _ref6=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee6(apiLinks,access_token,connectionId){var url,response;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return url="".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_CONNECTION_SERVICE_ENDPOINT,"/connections/").concat(encodeURIComponent(connectionId)),_context6.next=3,Object(_apiHelper__WEBPACK_IMPORTED_MODULE_6__.b)(url,{Authorization:"Bearer ".concat(access_token)}).catch((function(e){if(console.log("check connection err",e),"INSUFFICIENT_PERMISSIONS"===e.code)return js_cookie__WEBPACK_IMPORTED_MODULE_4___default.a.set("reconnectedConnection","Duplicate Business"),window.location.href=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL}));case 3:if(response=_context6.sent,console.log("check conn. ",response),!(null===response||response&&null===response._embedded.connection)){_context6.next=10;break}return console.log("..."),_context6.abrupt("return",Promise.reject("Connection not found"));case 10:return _context6.abrupt("return",response);case 11:case"end":return _context6.stop()}}),_callee6)})));return function checkConnection(_x11,_x12,_x13){return _ref6.apply(this,arguments)}}(),getConnections=function(){var _ref7=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee7(apiLinks,access_token){var url,response;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return url="".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_CONNECTION_SERVICE_ENDPOINT,"/connections/"),_context7.next=3,Object(_apiHelper__WEBPACK_IMPORTED_MODULE_6__.b)(url,{Authorization:"Bearer ".concat(access_token)}).catch((function(e){console.log("check connection err",e)}));case 3:return response=_context7.sent,_context7.abrupt("return",response);case 5:case"end":return _context7.stop()}}),_callee7)})));return function getConnections(_x14,_x15){return _ref7.apply(this,arguments)}}(),checkConnectionConfiguration=function(){var _ref8=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee8(apiLinks,access_token,connectionId){var url,response;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return url="".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_CONNECTION_SERVICE_ENDPOINT,"/connections/").concat(encodeURIComponent(connectionId),"/configuration"),_context8.next=3,Object(_apiHelper__WEBPACK_IMPORTED_MODULE_6__.b)(url,{Authorization:"Bearer ".concat(access_token)}).catch((function(e){console.log("check connection err",e)}));case 3:return response=_context8.sent,_context8.abrupt("return",response);case 5:case"end":return _context8.stop()}}),_callee8)})));return function checkConnectionConfiguration(_x16,_x17,_x18){return _ref8.apply(this,arguments)}}(),claimConnection=function(){var _ref9=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee10(apiLinks,access_token,connectionId){return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.abrupt("return",checkConnection(apiLinks,access_token,connectionId).then(function(){var _ref10=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee9(res){var _res$_embedded$connec,status,reason,url,response;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(_res$_embedded$connec=res._embedded.connection,status=_res$_embedded$connec.status,reason=_res$_embedded$connec.reason,"standby"!==status||"claim_pending"!==reason){_context9.next=7;break}return url="".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_CONNECTION_SERVICE_ENDPOINT,"/connections/").concat(encodeURIComponent(connectionId),"/claim"),_context9.next=5,Object(_apiHelper__WEBPACK_IMPORTED_MODULE_6__.e)(url,{Authorization:"Bearer ".concat(access_token)}).catch((function(e){console.log("claim connection err",e)}));case 5:return response=_context9.sent,_context9.abrupt("return",response);case 7:return _context9.abrupt("return",res);case 8:case"end":return _context9.stop()}}),_callee9)})));return function(_x22){return _ref10.apply(this,arguments)}}()));case 1:case"end":return _context10.stop()}}),_callee10)})));return function claimConnection(_x19,_x20,_x21){return _ref9.apply(this,arguments)}}()},11:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"n",(function(){return closeModal})),__webpack_require__.d(__webpack_exports__,"e",(function(){return ConfirmationModal})),__webpack_require__.d(__webpack_exports__,"m",(function(){return clientConfirmationModal})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ConfirmationMessage})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ConfirmationMessageModal})),__webpack_require__.d(__webpack_exports__,"a",(function(){return AppAccountKickback})),__webpack_require__.d(__webpack_exports__,"g",(function(){return DuplicateBusinessWarning})),__webpack_require__.d(__webpack_exports__,"i",(function(){return ReconnectedBusinessWarning})),__webpack_require__.d(__webpack_exports__,"l",(function(){return TakeMeToXero})),__webpack_require__.d(__webpack_exports__,"f",(function(){return ConfirmationPaymentModal})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ConfirmationDisconnectModal})),__webpack_require__.d(__webpack_exports__,"j",(function(){return SubscriptionCancellationModal})),__webpack_require__.d(__webpack_exports__,"k",(function(){return SubscriptionConfirmationErrorModal})),__webpack_require__.d(__webpack_exports__,"q",(function(){return loadingComponent})),__webpack_require__.d(__webpack_exports__,"p",(function(){return initialLoader})),__webpack_require__.d(__webpack_exports__,"h",(function(){return InitialLoaderWithOverlay})),__webpack_require__.d(__webpack_exports__,"u",(function(){return smallLoadingComponent})),__webpack_require__.d(__webpack_exports__,"v",(function(){return smallLoadingComponentWrapped})),__webpack_require__.d(__webpack_exports__,"w",(function(){return smallLoadingComponentWrappedWhite})),__webpack_require__.d(__webpack_exports__,"o",(function(){return displaySignInError})),__webpack_require__.d(__webpack_exports__,"t",(function(){return renderTopic})),__webpack_require__.d(__webpack_exports__,"r",(function(){return renderCard})),__webpack_require__.d(__webpack_exports__,"s",(function(){return renderCustomChartLabel}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_materialize__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_stores_Store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_assets_Aider_loader_gif__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(443),_assets_Aider_loader_gif__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_assets_Aider_loader_gif__WEBPACK_IMPORTED_MODULE_3__),mobx_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(32),_external_lib_authHelper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(102);function closeModal(e){if(e.preventDefault(),void 0!==e.target.className)try{_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.conversationStore.renderMessageSentWindow(!1,null,null),this.closeHeaderDropdown();var testStr=e.target.className.split(/[ -]/),containsContainer=function contains(target,pattern){var value=0;return pattern.forEach((function(word){return value+=target.includes(word)})),1===value}(testStr,["feedback","dropdownOption","dropdown"])&&""!==e.target.className,containsMetadata=testStr.includes("metadata")&&""!==e.target.className,containsClient=e.target.className.split(/[ -]/).includes("client")&&""!==e.target.className;if("closeModal"===e.target.className||(this.state.feedbackModalVisible||this.state.clientModalVisible||this.state.metadataModalVisible||this.state.actionModalVisible||this.state.editClientModalVisible||this.state.editUserModalVisible)&&!containsContainer&&!containsClient&&!containsMetadata&&void 0!==e.target)return this.setState({editUserModalVisible:!1,editClientModalVisible:!1,infoModalVisible:!1,feedbackModalVisible:!1,actionModalVisible:!1,clientModalVisible:!1,metadataModalVisible:!1,feedbackElementId:null,messageId:null,messageToGiveFeedback:null,feedbackType:null,metaData:null,metadataApps:null,actionType:null});this.props.authStore.editUserModalVisible&&(console.log("close"),this.props.authStore.validateUserModal(null),this.props.authStore.renderEditUserModal(!1)),this.state.feedbackModalVisible}catch(err){console.log("render modal error: ",typeof e.target)}}var ConfirmationModal=function ConfirmationModal(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container-advisor",onClick:function onClick(e){e.preventDefault(),e.stopPropagation()},style:{zIndex:999}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{className:"metadata",style:{color:"#4264ea"}},"Your invitation is on its way."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",null,props.invitedUserDetails.displayName)," with the email address ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",null,props.invitedUserDetails.email)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"will be able to create an Aider account by following the link in the email."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"Please make sure that ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",null,props.invitedUserDetails.displayName)," checks all email folders for the invitation."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionButton",onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.renderConfirmationWindow(!1)}},"Okay"))))},clientConfirmationModal=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container",onClick:function onClick(e){e.preventDefault(),e.stopPropagation()},style:{zIndex:999}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{className:"metadata",style:{color:"#4264ea"}},"Your client's invitations are on their way."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"They will be able to create their Aider account with the following link."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"Please make sure you contact your client and that they accept the invitation on their Mobile to download the Aider app. They will be up and running in seconds!"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionButton",onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.renderClientConfirmationWindow(!1)}},"Okay")))),ConfirmationMessage=function ConfirmationMessage(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{marginBottom:8}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea",display:"flex",justifyContent:"center"}},props.recipients>0?"Message Delivered":"Message couldn't be delivered"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},props.recipients>1?"The ".concat(props.type," has been delivered to ").concat(props.recipients," recipients."):1===props.recipients?"The ".concat(props.type," has been delivered to ").concat(props.recipients," recipient."):react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,"No active users for this business.",react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null)," ",'Try inviting users to download the Aider app, by using the "Invite User" button on the left.',react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null)," ","Once these users are active you will be able to use the Action Centre for this business.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionButton",onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.conversationStore.renderMessageSentWindow(!1,null,null),props.closeModal()}},"Okay")))},ConfirmationMessageModal=function ConfirmationMessageModal(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container",onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea"}},props.recipients>0?"Message Delivered":"Message couldn't be delivered"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},props.recipients>1?"The ".concat(props.type," has been delivered to ").concat(props.recipients," recipients."):1===props.recipients?"The ".concat(props.type," has been delivered to ").concat(props.recipients," recipient."):react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,"No active users for this business.",react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null)," ",'Try inviting users to download the Aider app, by using the "Invite User" button on the left.',react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null)," ","Once these users are active you will be able to use the Action Centre for this business.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionButton",onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.conversationStore.renderMessageSentWindow(!1,null,null)}},"Okay"))))},AppAccountKickback=function AppAccountKickback(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container kickback"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea"}},"App Account Detected"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"Oops, it looks like you have signed into the Advisory Portal with a business account.",react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),"Please click below to be redirected to the Aider mobile app, where you can sign in to the app."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onClick:function onClick(){window.open("https://aider.ai","_self")},style:{width:220},className:"actionButton"},"Redirect me to the App"))))},DuplicateBusinessWarning=function DuplicateBusinessWarning(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container kickback"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea"}},"Client Already Exists"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"Oops, it looks like client ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",null,props.businessName)," already exists within the practice.",react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),"Please contact your Practice Administrator for access to the existing business."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.renderDuplicateWarning(null)},style:{width:220},className:"actionButton"},"Okay"))))},ReconnectedBusinessWarning=function ReconnectedBusinessWarning(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container kickback"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea"}},"Client Reconnected"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"A client that already exists in the practice was reconnected to Xero.",react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),"If you can not view the newly connected client, please contact your Practice Administrator for access."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.renderReconnectionConfirmation(null)},style:{width:220},className:"actionButton"},"Okay"))))},TakeMeToXero=function TakeMeToXero(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea"}},"Xero",props.reconnection?" Reconnection":" Connection"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"I’ll take you to Xero’s login website, you’ll need to login with your Xero account.",react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),props.reconnection?"Once there, just select the Xero business you would like to reconnect":""),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:10}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onClick:function onClick(){props.reconnection?Object(_external_lib_authHelper__WEBPACK_IMPORTED_MODULE_5__.g)(_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.authStore.links,_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.selectedBusinessAccessToken,_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.selectedBusinessId):props.initiateConnection()},style:{width:220},className:"actionButton"},"Go to Xero")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.authStore.setTakeMeToXero(!1)},style:{width:220},className:"actionButton"},"Cancel"))))},ConfirmationPaymentModal=function ConfirmationPaymentModal(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container",onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea"}},"Payment Accepted"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"Your subscription has been activated, thank you."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:10}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{width:190},className:"actionButton",onClick:function onClick(){return _stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.authStore.initiateConnection(_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.authStore.access_token)}},"Continue with Xero")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionButton",style:{width:190},onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.authStore.renderPaymentConfirmation(!1)}},"Close"))))},ConfirmationDisconnectModal=function ConfirmationDisconnectModal(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container-dc fadedshort",onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea"}},"Disconnect ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",null,_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.selectedBusinessData.name)," from Xero?"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"The client will be disconnected."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionButton",onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.disconnectBusiness(),_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.renderDisconnectConfirmation(!1)}},"Yes")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{marginLeft:20},className:"actionButton",onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.renderDisconnectConfirmation(!1)}},"No"))))},SubscriptionCancellationModal=function SubscriptionCancellationModal(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container",onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea"}},"cancelled"===props.reason?"We're sorry to see you go!":"Error cancelling subscription"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},"cancelled"===props.reason?"Your subscription has been cancelled, your account will still be active until the end of the month.":"There was an error cancelling your subscription."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionButton",onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.authStore.renderSubscriptionCancellation(!1)}},"Okay"))))},SubscriptionConfirmationErrorModal=function SubscriptionConfirmationErrorModal(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadataModal",className:"confirm-modal-container",onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_1__.CardPanel,{className:"metadata-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{style:{color:"#4264ea"}},"Error Validating Subscription"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"metadata",style:{color:"#4264ea"}},_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.authStore.subscriptionCreationError),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionButton",onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.authStore.renderSubscriptionCreationError(!1)}},"Okay"))))},loadingComponent=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"loading-container "},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"preloader-wrapper big active"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"spinner-layer spinner-blue-only"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle-clipper left"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"gap-patch"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle-clipper right"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})))))),initialLoader=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:"91%",display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"loading-container initial",style:{display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{style:{position:"absolute",top:21,left:-55},src:_assets_Aider_loader_gif__WEBPACK_IMPORTED_MODULE_3___default.a,width:110,height:110})))),InitialLoaderWithOverlay=Object(mobx_react__WEBPACK_IMPORTED_MODULE_4__.b)((function InitialLoaderWithOverlayComponent(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{position:"absolute",top:270,display:"flex",justifyContent:"center",zIndex:999}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:_assets_Aider_loader_gif__WEBPACK_IMPORTED_MODULE_3___default.a,width:110,height:110}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:"91%",position:"absolute",zIndex:998,opacity:_stores_Store__WEBPACK_IMPORTED_MODULE_2__.a.businessStore.businessListData.length>=1?.5:.7,width:"100%"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"loading-container shallow",style:{paddingTop:250}})))})),smallLoadingComponent=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"preloader-wrapper small active"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"spinner-layer spinner-blue-only"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle-clipper left"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"gap-patch"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle-clipper right"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"}))))),smallLoadingComponentWrapped=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:120,width:180,display:"flex",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"preloader-wrapper small active"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"spinner-layer spinner-blue-only"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle-clipper left"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"gap-patch"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle-clipper right"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"}))))),smallLoadingComponentWrappedWhite=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",marginTop:50}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"preloader-wrapper small active"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"spinner-layer spinner-white-only"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle-clipper left"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"gap-patch"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle-clipper right"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"circle"})))));function displaySignInError(error){switch(error.code){case"auth/user-disabled":return"Oops, your account has been disabled";case"auth/invalid-email":case"auth/user-not-found":case"auth/wrong-password":return"Invalid email or password";case"auth/email-already-in-use":return"A user with that email already exists";case"INVALID_DATA":case"other":return"Something went wrong with the information provided";default:return error.message}}function renderTopic(topic){switch(topic){case"notifications-etl-done-reminder":return"Connection Process Complete";case"finance-reconciliation-request":return"Reconciliation Request";case"finance-income-tax-estimate":return"Income Tax Estimate";case"finance-sales-tax-due":return"GST Payable";case"notifications-business-app-connected":return"Xero Connected";case"bill-overdue-summary":return"Bills Overdue";case"finance-total-costs":return"Total Cost";case"invoice-overdue":return"Invoices OverdueS";case"invoice-overdue-summary":return"Invoices Overdue";case"net-cash-position":return"Net Cash Position";case"finance-operating-expenses-details":return"Expense Report";case"bill-overdue":return"Bills OverduSe";case"gross-profit":return"Gross Profit";case"finance-net-profit":return"Net Profit";case"finance-average-daily-cash-comparison":return"Average Daily Cash Comparison";case"bills-due-proactive-message":return"Overdue Bills";case"finance-previous-week-cashflow":return"Cash Flow Previous Week";case"finance-cash-flow":case"finance-advisor-cash-flow":return"Cash Flow";case"finance-net-profit-margin":return"Net Profit";case"finance-average-creditor-days":return"Average Creditor";case"finance-gross-profit-margin":return"Gross Profit";case"finance-bank-account-summary":return"Bank Account";case"finance-operating-expenses-balance":return"Operating Expenses";case"finance-sales-tax":return"Sales Tax";case"bill-due":return"Bills Due";case"finance-accounts-payable-balance":return"Accounts Payable";case"invoice-largest-debtor":return"Largest Debtor";case"bill-largest-creditor":return"Largest Creditor";case"invoice-outstanding":return"Invoices Outstanding";case"bill-outstanding":return"Bills Outstanding";case"cashup-totals":case"cashup-total-by-type":return"Cash total";default:return"Did You Know..."}}function renderCard(card){var formattedCard=card,reformattedData=formattedCard.series[0].formattedData.map((function(string){return string.replace("\\n","\n").replace("\\n\\n","\n\n").replace("\\n","\n")}));return formattedCard.series[0].formattedData=reformattedData,formattedCard.cardType="discrete-graph-card",formattedCard.headers=card.title?[card.title]:[card.series[0].name,"","","","",""],"Cashflow for last week"!==card.title&&"Cashflow for last week"!==card.series[0].name&&"Cash Flow for last week"!==card.title&&"Cash Flow for last week"!==card.series[0].name&&"Cash Flow for this month"!==card.title&&"Cash Flow for this month"!==card.series[0].name&&"Cash Flow for last month"!==card.title&&"Cash Flow for last month"!==card.series[0].name||(formattedCard.headers=[""]),"Operating Expenses for this month"!==card.title&&"Operating Expenses for this month"!==card.series[0].name||(formattedCard.headers=["Operating Expenses for this month"]),formattedCard}function MoneyFormat(labelValue){return Math.abs(Number(labelValue))>=1e9?Math.abs(Number(labelValue))/1e9+"B":Math.abs(Number(labelValue))>=1e6?Math.abs(Number(labelValue))/1e6+"M":Math.abs(Number(labelValue))>=1e3?Math.abs(Number(labelValue))/1e3+"K":Math.abs(Number(labelValue))}function renderCurrency(unrounded){var number=unrounded;return"-"===(number=number>1e3?10*Math.ceil(unrounded/10):Math.ceil(unrounded)).toString()[0]?"-$"+MoneyFormat(number):"$"+MoneyFormat(number)}function renderCustomChartLabel(card){if("Cashflow for last week"===card.title||"Cashflow for last week"===card.series[0].name||"Cash Flow for this month"===card.title||"Cash Flow for this month"===card.series[0].name||"Cash Flow for last month"===card.title||"Cash Flow for last month"===card.series[0].name||"Cash Flow for last week"===card.title||"Cash Flow for last week"===card.series[0].name){var calculatedNumber=card.series[0].rawData[0]-card.series[0].rawData[1];return calculatedNumber!=calculatedNumber&&(calculatedNumber=0),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{fontSize:32,color:"#4264ea",width:200,height:60,position:"absolute",top:140,right:50,textAlign:"center"}},renderCurrency(calculatedNumber)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{fontSize:14,color:"#4264ea",width:200,height:60,position:"absolute",top:190,right:50,textAlign:"center"}},card.title||card.series[0].name))}}try{closeModal.displayName="closeModal",closeModal.__docgenInfo={description:"",displayName:"closeModal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#closeModal"]={docgenInfo:closeModal.__docgenInfo,name:"closeModal",path:"src/entities/components.tsx#closeModal"})}catch(__react_docgen_typescript_loader_error){}try{displaySignInError.displayName="displaySignInError",displaySignInError.__docgenInfo={description:"",displayName:"displaySignInError",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#displaySignInError"]={docgenInfo:displaySignInError.__docgenInfo,name:"displaySignInError",path:"src/entities/components.tsx#displaySignInError"})}catch(__react_docgen_typescript_loader_error){}try{renderTopic.displayName="renderTopic",renderTopic.__docgenInfo={description:"",displayName:"renderTopic",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#renderTopic"]={docgenInfo:renderTopic.__docgenInfo,name:"renderTopic",path:"src/entities/components.tsx#renderTopic"})}catch(__react_docgen_typescript_loader_error){}try{renderCard.displayName="renderCard",renderCard.__docgenInfo={description:"",displayName:"renderCard",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#renderCard"]={docgenInfo:renderCard.__docgenInfo,name:"renderCard",path:"src/entities/components.tsx#renderCard"})}catch(__react_docgen_typescript_loader_error){}try{renderCurrency.displayName="renderCurrency",renderCurrency.__docgenInfo={description:"",displayName:"renderCurrency",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#renderCurrency"]={docgenInfo:renderCurrency.__docgenInfo,name:"renderCurrency",path:"src/entities/components.tsx#renderCurrency"})}catch(__react_docgen_typescript_loader_error){}try{renderCustomChartLabel.displayName="renderCustomChartLabel",renderCustomChartLabel.__docgenInfo={description:"",displayName:"renderCustomChartLabel",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#renderCustomChartLabel"]={docgenInfo:renderCustomChartLabel.__docgenInfo,name:"renderCustomChartLabel",path:"src/entities/components.tsx#renderCustomChartLabel"})}catch(__react_docgen_typescript_loader_error){}try{ConfirmationModal.displayName="ConfirmationModal",ConfirmationModal.__docgenInfo={description:"",displayName:"ConfirmationModal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#ConfirmationModal"]={docgenInfo:ConfirmationModal.__docgenInfo,name:"ConfirmationModal",path:"src/entities/components.tsx#ConfirmationModal"})}catch(__react_docgen_typescript_loader_error){}try{ConfirmationMessage.displayName="ConfirmationMessage",ConfirmationMessage.__docgenInfo={description:"",displayName:"ConfirmationMessage",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#ConfirmationMessage"]={docgenInfo:ConfirmationMessage.__docgenInfo,name:"ConfirmationMessage",path:"src/entities/components.tsx#ConfirmationMessage"})}catch(__react_docgen_typescript_loader_error){}try{ConfirmationMessageModal.displayName="ConfirmationMessageModal",ConfirmationMessageModal.__docgenInfo={description:"",displayName:"ConfirmationMessageModal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#ConfirmationMessageModal"]={docgenInfo:ConfirmationMessageModal.__docgenInfo,name:"ConfirmationMessageModal",path:"src/entities/components.tsx#ConfirmationMessageModal"})}catch(__react_docgen_typescript_loader_error){}try{AppAccountKickback.displayName="AppAccountKickback",AppAccountKickback.__docgenInfo={description:"",displayName:"AppAccountKickback",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#AppAccountKickback"]={docgenInfo:AppAccountKickback.__docgenInfo,name:"AppAccountKickback",path:"src/entities/components.tsx#AppAccountKickback"})}catch(__react_docgen_typescript_loader_error){}try{DuplicateBusinessWarning.displayName="DuplicateBusinessWarning",DuplicateBusinessWarning.__docgenInfo={description:"",displayName:"DuplicateBusinessWarning",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#DuplicateBusinessWarning"]={docgenInfo:DuplicateBusinessWarning.__docgenInfo,name:"DuplicateBusinessWarning",path:"src/entities/components.tsx#DuplicateBusinessWarning"})}catch(__react_docgen_typescript_loader_error){}try{ReconnectedBusinessWarning.displayName="ReconnectedBusinessWarning",ReconnectedBusinessWarning.__docgenInfo={description:"",displayName:"ReconnectedBusinessWarning",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#ReconnectedBusinessWarning"]={docgenInfo:ReconnectedBusinessWarning.__docgenInfo,name:"ReconnectedBusinessWarning",path:"src/entities/components.tsx#ReconnectedBusinessWarning"})}catch(__react_docgen_typescript_loader_error){}try{TakeMeToXero.displayName="TakeMeToXero",TakeMeToXero.__docgenInfo={description:"",displayName:"TakeMeToXero",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#TakeMeToXero"]={docgenInfo:TakeMeToXero.__docgenInfo,name:"TakeMeToXero",path:"src/entities/components.tsx#TakeMeToXero"})}catch(__react_docgen_typescript_loader_error){}try{ConfirmationPaymentModal.displayName="ConfirmationPaymentModal",ConfirmationPaymentModal.__docgenInfo={description:"",displayName:"ConfirmationPaymentModal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#ConfirmationPaymentModal"]={docgenInfo:ConfirmationPaymentModal.__docgenInfo,name:"ConfirmationPaymentModal",path:"src/entities/components.tsx#ConfirmationPaymentModal"})}catch(__react_docgen_typescript_loader_error){}try{ConfirmationDisconnectModal.displayName="ConfirmationDisconnectModal",ConfirmationDisconnectModal.__docgenInfo={description:"",displayName:"ConfirmationDisconnectModal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#ConfirmationDisconnectModal"]={docgenInfo:ConfirmationDisconnectModal.__docgenInfo,name:"ConfirmationDisconnectModal",path:"src/entities/components.tsx#ConfirmationDisconnectModal"})}catch(__react_docgen_typescript_loader_error){}try{SubscriptionCancellationModal.displayName="SubscriptionCancellationModal",SubscriptionCancellationModal.__docgenInfo={description:"",displayName:"SubscriptionCancellationModal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#SubscriptionCancellationModal"]={docgenInfo:SubscriptionCancellationModal.__docgenInfo,name:"SubscriptionCancellationModal",path:"src/entities/components.tsx#SubscriptionCancellationModal"})}catch(__react_docgen_typescript_loader_error){}try{InitialLoaderWithOverlay.displayName="InitialLoaderWithOverlay",InitialLoaderWithOverlay.__docgenInfo={description:"",displayName:"InitialLoaderWithOverlay",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/components.tsx#InitialLoaderWithOverlay"]={docgenInfo:InitialLoaderWithOverlay.__docgenInfo,name:"InitialLoaderWithOverlay",path:"src/entities/components.tsx#InitialLoaderWithOverlay"})}catch(__react_docgen_typescript_loader_error){}},110:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),Link=(__webpack_require__(1522),function Link(props){var newWindow=props.newWindow?{target:"_blank",rel:"noopener noreferrer"}:{};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",Object.assign({className:"link",href:props.href},newWindow),props.children)});Link.__docgenInfo={description:"",methods:[],displayName:"Link"},__webpack_exports__.a=Link,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\external\\link.js"]={name:"Link",docgenInfo:Link.__docgenInfo,path:"src\\external\\link.js"})},1316:function(module,exports,__webpack_require__){"use strict";var _clientApi=__webpack_require__(94),_clientLogger=__webpack_require__(61),_configFilename=__webpack_require__(1317);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1317:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},1318:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(213).configure)([__webpack_require__(1319),__webpack_require__(1329)],module,!1)}).call(this,__webpack_require__(76)(module))},1319:function(module,exports,__webpack_require__){var map={"./components/storybook/Components.stories.mdx":1320};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1319},1320:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(123),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(299);__webpack_require__(1321),__webpack_require__(1322),__webpack_require__(1323),__webpack_require__(1324),__webpack_require__(1325),__webpack_require__(1326),__webpack_require__(1327),__webpack_require__(1328);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Meta,{title:"Advisory Portal/Components",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("style",null,"\n  .subheading {\n    --mediumdark: '#999999';\n    font-weight: 900;\n    font-size: 13px;\n    color: #999;\n    letter-spacing: 6px;\n    line-height: 24px;\n    text-transform: uppercase;\n    margin-bottom: 12px;\n    margin-top: 40px;\n  }\n\n  .link-list {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n    row-gap: 10px;\n  }\n\n  @media (min-width: 620px) {\n    .link-list {\n      row-gap: 20px;\n      column-gap: 20px;\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  @media all and (-ms-high-contrast:none) {\n  .link-list {\n      display: -ms-grid;\n      -ms-grid-columns: 1fr 1fr;\n      -ms-grid-rows: 1fr 1fr;\n    }\n  }\n\n  .link-item {\n    display: block;\n    padding: 20px 30px 20px 15px;\n    border: 1px solid #00000010;\n    border-radius: 5px;\n    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;\n    color: #333333;\n    display: flex;\n    align-items: flex-start;\n  }\n\n  .link-item:hover {\n    border-color: #1EA7FD50;\n    transform: translate3d(0, -3px, 0);\n    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;\n  }\n\n  .link-item:active {\n    border-color: #1EA7FD;\n    transform: translate3d(0, 0, 0);\n  }\n\n  .link-item strong {\n    font-weight: 700;\n    display: block;\n    margin-bottom: 2px;\n  }\n  \n  .link-item img {\n    height: 40px;\n    width: 40px;\n    margin-right: 15px;\n    flex: none;\n  }\n\n  .link-item span {\n    font-size: 14px;\n    line-height: 20px;\n  }\n\n  .tip {\n    display: inline-block;\n    border-radius: 1em;\n    font-size: 11px;\n    line-height: 12px;\n    font-weight: 700;\n    background: #E7FDD8;\n    color: #66BF3C;\n    padding: 4px 12px;\n    margin-right: 10px;\n    vertical-align: top;\n  }\n\n  .tip-wrapper {\n    font-size: 13px;\n    line-height: 20px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n  }\n\n  .tip-wrapper code {\n    font-size: 12px;\n    display: inline-block;\n  }\n\n  \n"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h1",{id:"welcome-to-the-aider-advisory-portal-storybook"},"Welcome to the Aider Advisory Portal Storybook"))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Advisory Portal/Components",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(MDXContent,null))},__webpack_exports__.default=componentMeta},1321:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/code-brackets.d43eb968.svg"},1322:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/colors.8104e6f5.svg"},1323:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/comments.3f9a1398.svg"},1324:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/direction.d3dc567b.svg"},1325:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/flow.e3812c4f.svg"},1326:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/plugin.5ba97e9b.svg"},1327:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/repo.3452b916.svg"},1328:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/stackalt.66f4b748.svg"},1329:function(module,exports,__webpack_require__){var map={"./components/storybook/ActionCentre.stories.js":1533,"./components/storybook/Button.stories.js":1527,"./components/storybook/Header.stories.js":1528,"./components/storybook/PaymentModal.stories.js":1529};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1329},1392:function(module,exports){},1394:function(module,exports){},1404:function(module,exports){},1406:function(module,exports){},1434:function(module,exports){},1436:function(module,exports){},1437:function(module,exports){},1442:function(module,exports){},1444:function(module,exports){},1450:function(module,exports){},1452:function(module,exports){},1471:function(module,exports){},1483:function(module,exports){},1486:function(module,exports){},1521:function(module,exports,__webpack_require__){},1522:function(module,exports,__webpack_require__){},1527:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ButtonStory",(function(){return ButtonStory}));var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(51),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(195),storybook_addon_designs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(156);__webpack_exports__.default={title:"Button",component:_button__WEBPACK_IMPORTED_MODULE_2__.a,decorators:[storybook_addon_designs__WEBPACK_IMPORTED_MODULE_3__.a]};var ButtonStory=function ButtonStory(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_button__WEBPACK_IMPORTED_MODULE_2__.a,null,"Action Button")};ButtonStory.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A1155"}},ButtonStory.parameters=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"() => <Button>Action Button</Button>"}},ButtonStory.parameters),ButtonStory.__docgenInfo={description:"",methods:[],displayName:"ButtonStory"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\Button.stories.js"]={name:"ButtonStory",docgenInfo:ButtonStory.__docgenInfo,path:"src\\components\\storybook\\Button.stories.js"})},1528:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LoggedIn",(function(){return LoggedIn})),__webpack_require__.d(__webpack_exports__,"LoggedOut",(function(){return LoggedOut}));var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(51),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_Header__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(196),_stores_Store__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(435),__webpack_require__(1)),storybook_addon_designs__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(213),__webpack_require__(195),__webpack_require__(156)),user={uid:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",displayName:"TESTER",photoURL:null,email:"testpermissions@aider.ai",emailVerified:!1,phoneNumber:null,isAnonymous:!1,tenantId:null,providerData:[{uid:"testpermissions@aider.ai",displayName:"test testse",photoURL:null,email:"testpermissions@aider.ai",phoneNumber:null,providerId:"password"}],apiKey:"AIzaSyAtdbeBBMDQza5uD4ccd0V_EINypq0dvCk",appName:"[DEFAULT]",authDomain:"aider-ai-staging.firebaseapp.com",stsTokenManager:{apiKey:"AIzaSyAtdbeBBMDQza5uD4ccd0V_EINypq0dvCk",refreshToken:"AG8BCnf_3J0UvzTbReGTplcgnGkur86VQNb3pQ-k-yHeJr3Cg1pfS0t3RRTl-X6hkyej3a8-dCb1c4RV-xITy_gKZ9P1QgbrXDZy0Dj6j8hvqn4KlMt_GFA1RXLxG1NoZ_Ohg6b9VXMAXRjjkOwkbO4t-6m5O_wLIR-qyUq2OuyS9-H8H_7fU1ibefW77xokp3xS9aiaZX1T1qYrvD2Lw0h18yM6Vwm-Ujh2Fwd8GQ4UeUuq7Pyzoxo",accessToken:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjVmOTcxMmEwODczMTcyMGQ2NmZkNGEyYTU5MmU0ZGZjMmI1ZGU1OTUiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoidGVzdCB0ZXN0c2UiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vYWlkZXItYWktc3RhZ2luZyIsImF1ZCI6ImFpZGVyLWFpLXN0YWdpbmciLCJhdXRoX3RpbWUiOjE2MTA0MDc1MDYsInVzZXJfaWQiOiIzcFVIc2ppeDBZaDZKdmtrVnA2VUJHZThxQTAyIiwic3ViIjoiM3BVSHNqaXgwWWg2SnZra1ZwNlVCR2U4cUEwMiIsImlhdCI6MTYxMDQwNzUwNiwiZXhwIjoxNjEwNDExMTA2LCJlbWFpbCI6InRlc3RwZXJtaXNzaW9uc0BhaWRlci5haSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJ0ZXN0cGVybWlzc2lvbnNAYWlkZXIuYWkiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.tpQZR96gn1U8JJPJG6vzrXe6idnJ8PiLuJ9IZl3MVTOXaG7gwfjmxYnALTRQXBYfLkgulsku-iJA56XqzGJSq9h7HyZj6j4F6jo9SjyWyMi2gf11bQqGtRmXa4oTrObUGQ_rNTo1n3vleMUU02wzvCcOYuYD51JivxZ-9l3Z-OcchkEc7AMa_nqHdcTx6244IuCh-PMdtJTuZSEtF9_v853XSxdFJ750pDe3C3LFviW7nJJ7XYGQ29H55UU8a59kVUDfpvGaxxUP6Oiw_-5Tu_NoSKWgZJY60iJ7WwL1bgVqX8dNwALKg0CuT5Te_nFNsTal_0lKsdZRTHt6Q0LIXg",expirationTime:1610411106e3},redirectEventId:null,lastLoginAt:"1610407506909",createdAt:"1605572547410",multiFactor:{enrolledFactors:[]}},temp3={id:"Q5c90vrldsXHdGrlp3rm",name:"test",area:"Auckland",countryCode:"NZ",timeZoneId:"Pacific/Auckland",website:null,createdAt:1605572562,businessClass:"management"},temp4={user:{givenName:"test",familyName:"test",displayName:"test testse",photoUrl:null,email:"testpermissions@aider.ai",emailVerified:!1,phoneNumber:null,gender:null,partnerData:null},businesses:[{businessClass:"smb",address:null,phoneNumber:null,rawOffsetInMinutesFromGoogle:0,website:null,dstOffsetInMinutesFromGoogle:0,profile:{fringeBenefitTax:"",payrollTax:"",reconciledDays:null,address:"23 Main StreetX, Central CityX, Marineville, 1234, 456",incomeTax:"",operationalExpensesSource:"",taxRate:"29",dividendWithholdingTax:"",taxAgent:"",purchasesSource:"",salesSource:""},timeZoneId:"Pacific/Auckland",managedBy:"Q5c90vrldsXHdGrlp3rm",hubspotId:"4946627117",name:"Demo Company (NZ)",location:null,postalCode:null,photoUrl:null,iconUrl:null,area:"Auckland",types:null,createdBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",createdAt:"2020-12-03T04:19:27.488Z",countryCode:"NZ",updatedAt:"2020-12-09T00:30:37.446Z",status:"active",utcOffsetInMinutesFromGoogle:0,updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",id:"HscUV9yhTH6qGHAbwa3v",connectedApps:[{ospKey:"xero",appKey:"accounting"}],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{businessClass:"smb",createdAt:"2020-11-17T01:38:28.780Z",phoneNumber:null,status:"active",address:null,dstOffsetInMinutesFromGoogle:0,name:"Demo Company (NZ)",managedBy:"Q5c90vrldsXHdGrlp3rm",timeZoneId:"Pacific/Auckland",countryCode:"NZ",location:null,area:"Auckland",photoUrl:null,postalCode:null,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",website:null,profile:{taxRate:28},rawOffsetInMinutesFromGoogle:0,utcOffsetInMinutesFromGoogle:0,types:null,hubspotId:"4838531347",iconUrl:null,id:"6Aihr98CbJWuPtonaTju",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{address:null,businessClass:"smb",postalCode:null,countryCode:"NZ",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",hubspotId:"4839751106",status:"active",photoUrl:null,dstOffsetInMinutesFromGoogle:0,createdAt:"2020-11-17T01:41:55.972Z",iconUrl:null,rawOffsetInMinutesFromGoogle:0,area:"Auckland",types:null,location:null,managedBy:"Q5c90vrldsXHdGrlp3rm",utcOffsetInMinutesFromGoogle:0,name:"Demo Company (NZ)",website:null,profile:{taxRate:28},timeZoneId:"Pacific/Auckland",phoneNumber:null,id:"qZ8os7DyqFMbm3D01evD",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{hubspotId:"4838736729",status:"active",dstOffsetInMinutesFromGoogle:0,postalCode:null,types:null,profile:{purchasesSource:"",operationalExpensesSource:"",salesSource:"",dividendWithholdingTax:"",payrollTax:"",incomeTax:"",taxRate:28,reconciledDays:null,salesTax:"",fringeBenefitTax:""},address:null,utcOffsetInMinutesFromGoogle:0,phoneNumber:null,managedBy:"Q5c90vrldsXHdGrlp3rm",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",website:null,businessClass:"smb",timeZoneId:"Pacific/Auckland",area:"Auckland",rawOffsetInMinutesFromGoogle:0,createdAt:"2020-11-17T02:42:35.490Z",countryCode:"NZ",iconUrl:null,name:"Demo Company (NZ)",location:null,photoUrl:null,updatedAt:"2020-11-17T02:42:54.661Z",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",id:"VosaTLH9fsowFkl94CKJ",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{iconUrl:null,postalCode:null,address:null,phoneNumber:null,countryCode:"NZ",name:"Demo Company (NZ)",dstOffsetInMinutesFromGoogle:0,rawOffsetInMinutesFromGoogle:0,managedBy:"Q5c90vrldsXHdGrlp3rm",businessClass:"smb",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",hubspotId:"4838392774",photoUrl:null,createdAt:"2020-11-17T01:55:38.082Z",timeZoneId:"Pacific/Auckland",website:null,area:"Auckland",location:null,status:"active",utcOffsetInMinutesFromGoogle:0,types:null,profile:{taxRate:28},id:"SlK5h3l1VJgzEy0I1385",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{hubspotId:"4837456819",profile:{numberOfAccountants:"12",accountingSoftware:["xero"],numberOfClients:"14"},address:"Auckland 0627, New Zealand",status:"active",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",location:{longitude:174.7510457,latitude:-36.78432279999999},name:"test",photoUrl:null,utcOffsetInMinutesFromGoogle:780,dstOffsetInMinutesFromGoogle:3600,createdAt:"2020-11-17T00:22:42.743Z",area:"Auckland",phoneNumber:null,website:null,timeZoneId:"Pacific/Auckland",types:["transit_station","point_of_interest","establishment"],postalCode:null,businessClass:"management",countryCode:"NZ",iconUrl:null,rawOffsetInMinutesFromGoogle:43200,id:"Q5c90vrldsXHdGrlp3rm",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[{status:"accepted",givenName:"alex",reminders:[{sendAt:{_seconds:1605745431,_nanoseconds:123e6},reminderKey:"twoDayReminder",status:"pending"},{reminderKey:"sevenDayReminder",status:"pending",sendAt:{_seconds:1606177431,_nanoseconds:123e6}}],familyName:"cashmur",roleKey:"practice_user",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",email:"alex+testpermissions@aider.ai",businessId:"Q5c90vrldsXHdGrlp3rm",createdAt:"2020-11-17T00:23:51.123Z",invitedAt:{_seconds:1605572631,_nanoseconds:123e6},expiresAt:"2020-11-24T00:23:51.000Z",displayName:"alex cashmur",id:"74dWyRSWonJ00ZvPbicw"}],cancelledInvitations:[]}},{utcOffsetInMinutesFromGoogle:0,website:null,photoUrl:null,hubspotId:"4884149689",location:null,phoneNumber:null,managedBy:"Q5c90vrldsXHdGrlp3rm",profile:{taxRate:28},rawOffsetInMinutesFromGoogle:0,address:null,status:"active",iconUrl:null,businessClass:"smb",dstOffsetInMinutesFromGoogle:0,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",createdAt:"2020-11-23T00:39:42.125Z",countryCode:"NZ",timeZoneId:"Pacific/Auckland",name:"Demo Company (NZ)",area:"Auckland",types:null,postalCode:null,id:"eS2xOOMOv6903Dv02zcr",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{website:null,area:"Auckland",rawOffsetInMinutesFromGoogle:0,iconUrl:null,types:null,timeZoneId:"Pacific/Auckland",hubspotId:"4837456937",photoUrl:null,updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",managedBy:"Q5c90vrldsXHdGrlp3rm",profile:{dividendWithholdingTax:"",salesSource:"",operationalExpensesSource:"",taxRate:"3",purchasesSource:"",fringeBenefitTax:"",salesTax:"",incomeTax:"",payrollTax:"",reconciledDays:null},createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",location:null,countryCode:"NZ",name:"Xero Trial Business",status:"active",postalCode:null,phoneNumber:null,businessClass:"smb",utcOffsetInMinutesFromGoogle:0,address:null,dstOffsetInMinutesFromGoogle:0,updatedAt:"2020-11-17T00:29:08.396Z",createdAt:"2020-11-17T00:28:54.397Z",id:"nb4npUfiDZH2jKS0FtOw",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",postalCode:null,address:null,createdAt:"2020-11-23T00:33:55.410Z",name:"Demo Company (NZ)",status:"active",managedBy:"Q5c90vrldsXHdGrlp3rm",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",location:null,businessClass:"smb",area:"Auckland",photoUrl:null,utcOffsetInMinutesFromGoogle:0,website:null,iconUrl:null,hubspotId:"4884119093",phoneNumber:null,countryCode:"NZ",updatedAt:"2020-11-23T00:34:09.725Z",rawOffsetInMinutesFromGoogle:0,profile:{taxRate:28,salesSource:"",reconciledDays:null,purchasesSource:"",dividendWithholdingTax:"",fringeBenefitTax:"",salesTax:"",payrollTax:"",incomeTax:"",operationalExpensesSource:""},dstOffsetInMinutesFromGoogle:0,types:null,timeZoneId:"Pacific/Auckland",id:"Z6otv1M9lDmC2lavzoge",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{rawOffsetInMinutesFromGoogle:0,types:null,location:null,utcOffsetInMinutesFromGoogle:0,createdAt:"2020-11-17T02:43:35.632Z",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",updatedAt:"2020-11-17T02:44:06.862Z",address:null,timeZoneId:"Pacific/Auckland",hubspotId:"4838746026",countryCode:"NZ",dstOffsetInMinutesFromGoogle:0,businessClass:"smb",status:"active",website:null,managedBy:"Q5c90vrldsXHdGrlp3rm",phoneNumber:null,area:"Auckland",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",photoUrl:null,postalCode:null,profile:{fringeBenefitTax:"fbt",salesTax:"gst",salesSource:"",incomeTax:"shareholders",reconciledDays:1,purchasesSource:"",dividendWithholdingTax:"noDwt",taxRate:"29.9",payrollTax:"noPaye",operationalExpensesSource:""},name:"Xero Trial Business",iconUrl:null,id:"kI2H6uP1ZeCwIbmdSh6k",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{phoneNumber:null,location:null,countryCode:"NZ",dstOffsetInMinutesFromGoogle:0,businessClass:"smb",website:null,managedBy:"Q5c90vrldsXHdGrlp3rm",iconUrl:null,createdAt:"2020-12-03T04:15:07.740Z",rawOffsetInMinutesFromGoogle:0,utcOffsetInMinutesFromGoogle:0,postalCode:null,area:"Auckland",address:null,status:"active",timeZoneId:"Pacific/Auckland",hubspotId:"4946151652",types:null,photoUrl:null,createdBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",name:"Demo Company (NZ)",updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",profile:{fringeBenefitTax:"",taxAgent:"",incomeTax:"",reconciledDays:null,taxRate:"27",purchasesSource:"",payrollTax:"",salesSource:"",address:"23 Main StreetXX, Central CityXXX",operationalExpensesSource:"",dividendWithholdingTax:""},updatedAt:"2020-12-09T00:32:01.903Z",id:"vDfwduxEeeNE0m4NBPL9",connectedApps:[{ospKey:"xero",appKey:"accounting"}],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{createdAt:"2020-11-23T00:44:26.185Z",status:"active",hubspotId:"4884559597",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",countryCode:"NZ",iconUrl:null,types:null,timeZoneId:"Pacific/Auckland",address:null,area:"Auckland",name:"Demo Company (NZ)",updatedAt:"2020-11-23T00:44:53.118Z",photoUrl:null,phoneNumber:null,managedBy:"Q5c90vrldsXHdGrlp3rm",location:null,dstOffsetInMinutesFromGoogle:0,profile:{dividendWithholdingTax:"",reconciledDays:null,salesSource:"",operationalExpensesSource:"",taxRate:28,salesTax:"",purchasesSource:"",payrollTax:"",fringeBenefitTax:"",incomeTax:""},businessClass:"smb",utcOffsetInMinutesFromGoogle:0,rawOffsetInMinutesFromGoogle:0,postalCode:null,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",website:null,id:"XKEnVJLUfDUHWxp1Rsnw",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{iconUrl:null,photoUrl:null,utcOffsetInMinutesFromGoogle:0,businessClass:"smb",dstOffsetInMinutesFromGoogle:0,area:"Auckland",rawOffsetInMinutesFromGoogle:0,address:null,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",updatedAt:"2020-11-17T02:36:25.665Z",status:"active",website:null,managedBy:"Q5c90vrldsXHdGrlp3rm",profile:{payrollTax:"",dividendWithholdingTax:"",taxRate:"29.5",purchasesSource:"",operationalExpensesSource:"",salesTax:"",incomeTax:"",fringeBenefitTax:"",salesSource:"",reconciledDays:null},countryCode:"NZ",phoneNumber:null,types:null,createdAt:"2020-11-17T02:36:02.407Z",timeZoneId:"Pacific/Auckland",name:"Demo Company (NZ)",postalCode:null,location:null,hubspotId:"4838532180",id:"hj5wQAumNPWulwWK6v9q",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{area:"Auckland",photoUrl:null,name:"Demo Company (NZ)",createdAt:"2020-11-17T01:50:20.587Z",phoneNumber:null,status:"active",managedBy:"Q5c90vrldsXHdGrlp3rm",address:null,rawOffsetInMinutesFromGoogle:0,profile:{address:"  Address2",payrollTax:"",fringeBenefitTax:"",purchasesSource:"",reconciledDays:null,salesSource:"",operationalExpensesSource:"",dividendWithholdingTax:"",salesTax:"",incomeTax:"",taxRate:"29"},website:null,dstOffsetInMinutesFromGoogle:0,updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",businessClass:"smb",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",hubspotId:"4838544338",countryCode:"NZ",updatedAt:"2020-12-03T04:08:48.344Z",types:null,utcOffsetInMinutesFromGoogle:0,postalCode:null,timeZoneId:"Pacific/Auckland",location:null,iconUrl:null,id:"BWUYHIKfT0b7I33MoC3m",connectedApps:[{ospKey:"google",appKey:"google_calendar"},{ospKey:"xero",appKey:"accounting"}],invitations:{pendingInvitations:[],acceptedInvitations:[{expiresAt:"2020-11-25T22:54:45.000Z",displayName:"alex cashmore",email:"alex+ac13@aider.ai",businessId:"BWUYHIKfT0b7I33MoC3m",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",status:"accepted",reminders:[{sendAt:{_seconds:1605912885,_nanoseconds:611e6},status:"pending",reminderKey:"twoDayReminder"},{status:"pending",reminderKey:"sevenDayReminder",sendAt:{_seconds:1606344885,_nanoseconds:611e6}}],familyName:"cashmore",createdAt:"2020-11-18T22:54:45.611Z",givenName:"alex",invitedAt:{_seconds:1605740085,_nanoseconds:611e6},roleKey:"admin",id:"R4bZ6EWisl7q6fv54spy"},{displayName:"MR Cashmore",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",invitedAt:{_seconds:1606427324,_nanoseconds:511e6},reminders:[{sendAt:{_seconds:1606600124,_nanoseconds:511e6},status:"pending",reminderKey:"twoDayReminder"},{status:"pending",sendAt:{_seconds:1607032124,_nanoseconds:511e6},reminderKey:"sevenDayReminder"}],email:"alex+mrc@aider.ai",familyName:"Cashmore",status:"accepted",createdAt:"2020-11-26T21:48:44.511Z",expiresAt:"2020-12-03T21:48:44.000Z",givenName:"MR",businessId:"BWUYHIKfT0b7I33MoC3m",roleKey:"admin",id:"YcQPy4j7xxoPp86aWH6J"}],cancelledInvitations:[]}},{rawOffsetInMinutesFromGoogle:0,countryCode:"NZ",phoneNumber:null,managedBy:"Q5c90vrldsXHdGrlp3rm",updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",businessClass:"smb",area:"Auckland",postalCode:null,updatedAt:"2020-11-30T21:45:04.557Z",types:null,website:null,location:null,iconUrl:null,profile:{incomeTax:"",reconciledDays:null,operationalExpensesSource:"",taxRate:28,fringeBenefitTax:"",dividendWithholdingTax:"",salesSource:"",salesTax:"",purchasesSource:"",payrollTax:""},name:"Open Sauce Development",status:"active",photoUrl:null,createdBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",dstOffsetInMinutesFromGoogle:0,hubspotId:"4928800335",timeZoneId:"Pacific/Auckland",utcOffsetInMinutesFromGoogle:0,createdAt:"2020-11-30T21:44:37.219Z",address:null,id:"gdjOMtfBUxJH39wRNHAj",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[{createdAt:"2020-11-30T21:45:32.426Z",expiresAt:"2020-12-07T21:45:32.000Z",roleKey:"admin",email:"alex+testname@aider.ai",status:"accepted",familyName:"cashmur",createdBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",invitedAt:{_seconds:1606772732,_nanoseconds:426e6},reminders:[{sendAt:{_seconds:1606945532,_nanoseconds:426e6},reminderKey:"twoDayReminder",status:"pending"},{status:"pending",reminderKey:"sevenDayReminder",sendAt:{_seconds:1607377532,_nanoseconds:426e6}}],givenName:"alex",businessId:"gdjOMtfBUxJH39wRNHAj",displayName:"alex cashmur",id:"Z2EceCnfOuQR3MANBAYm"}],cancelledInvitations:[]}},{area:"Auckland",types:null,updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",createdAt:"2020-11-23T00:33:17.796Z",postalCode:null,rawOffsetInMinutesFromGoogle:0,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",status:"active",countryCode:"NZ",utcOffsetInMinutesFromGoogle:0,phoneNumber:null,name:"Demo Company (NZ)",businessClass:"smb",photoUrl:null,hubspotId:"4884549660",updatedAt:"2020-12-03T04:11:34.105Z",timeZoneId:"Pacific/Auckland",website:null,profile:{salesTax:"noGst",taxRate:28,incomeTax:"shareholders",address:"87 Island Bay Rd",dividendWithholdingTax:"",reconciledDays:null,payrollTax:"paye",operationalExpensesSource:"",fringeBenefitTax:"",purchasesSource:"",salesSource:""},managedBy:"Q5c90vrldsXHdGrlp3rm",location:null,dstOffsetInMinutesFromGoogle:0,iconUrl:null,address:null,id:"lDFg3Q2VciwVRZOOKFok",connectedApps:[{ospKey:"xero",appKey:"accounting"}],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{profile:{payrollTax:"",salesTax:"",fringeBenefitTax:"",reconciledDays:null,incomeTax:"",salesSource:"",dividendWithholdingTax:"",taxRate:"0",purchasesSource:"",operationalExpensesSource:""},updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",phoneNumber:null,photoUrl:null,postalCode:null,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",rawOffsetInMinutesFromGoogle:0,countryCode:"NZ",location:null,timeZoneId:"Pacific/Auckland",businessClass:"smb",hubspotId:"4884612038",status:"active",updatedAt:"2020-11-23T00:53:09.237Z",managedBy:"Q5c90vrldsXHdGrlp3rm",types:null,area:"Auckland",iconUrl:null,website:null,address:null,name:"Demo Company (NZ)",createdAt:"2020-11-23T00:52:45.253Z",dstOffsetInMinutesFromGoogle:0,utcOffsetInMinutesFromGoogle:0,id:"k6xIh0BGECkXWIY9K8Oo",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}}],subscriptions:[]},LoggedIn=function LoggedIn(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Header__WEBPACK_IMPORTED_MODULE_2__.a,{handleSignOut:function handleSignOut(){},user:user,practiceId:temp3,practiceUser:temp4,authStore:_stores_Store__WEBPACK_IMPORTED_MODULE_4__.a.authStore,businessStore:_stores_Store__WEBPACK_IMPORTED_MODULE_4__.a.businessStore})},LoggedOut=function LoggedOut(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Header__WEBPACK_IMPORTED_MODULE_2__.a,{handleSignOut:function handleSignOut(){},user:null,practiceId:temp3,practiceUser:temp4,authStore:_stores_Store__WEBPACK_IMPORTED_MODULE_4__.a.authStore,businessStore:_stores_Store__WEBPACK_IMPORTED_MODULE_4__.a.businessStore})};__webpack_exports__.default={title:"Headers",component:_Header__WEBPACK_IMPORTED_MODULE_2__.a,decorators:[storybook_addon_designs__WEBPACK_IMPORTED_MODULE_7__.a]},LoggedIn.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A1021"}},LoggedOut.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A1155"}},LoggedIn.parameters=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"() => <Header handleSignOut={()=>{}} user={user} practiceId={temp3} practiceUser={temp4} authStore={rootStore.authStore} businessStore={rootStore.businessStore} />"}},LoggedIn.parameters),LoggedOut.parameters=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"() => <Header handleSignOut={()=>{}} user={null} practiceId={temp3} practiceUser={temp4} authStore={rootStore.authStore} businessStore={rootStore.businessStore} />"}},LoggedOut.parameters),LoggedIn.__docgenInfo={description:"",methods:[],displayName:"LoggedIn"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\Header.stories.js"]={name:"LoggedIn",docgenInfo:LoggedIn.__docgenInfo,path:"src\\components\\storybook\\Header.stories.js"}),LoggedOut.__docgenInfo={description:"",methods:[],displayName:"LoggedOut"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\Header.stories.js"]={name:"LoggedOut",docgenInfo:LoggedOut.__docgenInfo,path:"src\\components\\storybook\\Header.stories.js"})},1529:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PaymentModal",(function(){return PaymentModal})),__webpack_require__.d(__webpack_exports__,"UserPaymentModal",(function(){return UserPaymentModal}));var stripePromise,C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(51),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),storybook_addon_designs__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(213),__webpack_require__(156)),_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(142),_entities_paymentModal__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(196),__webpack_require__(435),__webpack_require__(1),__webpack_require__(195),__webpack_require__(237)),_entities_userPaymentModal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(238),_stripe_stripe_js_pure__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__(681),__webpack_require__(438));stripePromise=Object(_stripe_stripe_js_pure__WEBPACK_IMPORTED_MODULE_12__.loadStripe)(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_STRIPE_KEY);var PaymentModal=function PaymentModal(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.Elements,{stripe:stripePromise},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.ElementsConsumer,null,(function(_ref){var stripe=_ref.stripe,elements=_ref.elements;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_entities_paymentModal__WEBPACK_IMPORTED_MODULE_9__.a,{stripe:stripe,elements:elements})})))},UserPaymentModal=function UserPaymentModal(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_entities_userPaymentModal__WEBPACK_IMPORTED_MODULE_10__.a,null)};__webpack_exports__.default={title:"Payment Modal",component:PaymentModal,decorators:[storybook_addon_designs__WEBPACK_IMPORTED_MODULE_3__.a]},PaymentModal.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=21%3A3296"}},UserPaymentModal.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=16%3A1074"}},PaymentModal.parameters=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"() => <Elements stripe={stripePromise}><ElementsConsumer>\n    {({ stripe, elements }) => (\n        <ObservedPaymentModal stripe={stripe} elements={elements} />\n    )}\n</ElementsConsumer></Elements>"}},PaymentModal.parameters),UserPaymentModal.parameters=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"() => (<ObservedUserPaymentModal />\n)"}},UserPaymentModal.parameters),PaymentModal.__docgenInfo={description:"",methods:[],displayName:"PaymentModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\PaymentModal.stories.js"]={name:"PaymentModal",docgenInfo:PaymentModal.__docgenInfo,path:"src\\components\\storybook\\PaymentModal.stories.js"}),UserPaymentModal.__docgenInfo={description:"",methods:[],displayName:"UserPaymentModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\PaymentModal.stories.js"]={name:"UserPaymentModal",docgenInfo:UserPaymentModal.__docgenInfo,path:"src\\components\\storybook\\PaymentModal.stories.js"})},1533:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ActionCentreTable",(function(){return ActionCentre_stories_ActionCentreTable})),__webpack_require__.d(__webpack_exports__,"ActionCentreReconciliation",(function(){return ActionCentre_stories_ActionCentreReconciliation})),__webpack_require__.d(__webpack_exports__,"ActionCentreTaxDates",(function(){return ActionCentre_stories_ActionCentreTaxDates})),__webpack_require__.d(__webpack_exports__,"ActionCentreCashflow",(function(){return ActionCentre_stories_ActionCentreCashflow})),__webpack_require__.d(__webpack_exports__,"ActionCentreIncomeTax",(function(){return ActionCentre_stories_ActionCentreIncomeTax})),__webpack_require__.d(__webpack_exports__,"ActionCentreProvisionalEstimate",(function(){return ActionCentre_stories_ActionCentreProvisionalEstimate})),__webpack_require__.d(__webpack_exports__,"ActionCentreGSTPR",(function(){return ActionCentre_stories_ActionCentreGSTPR})),__webpack_require__.d(__webpack_exports__,"ActionCentreDM",(function(){return ActionCentre_stories_ActionCentreDM})),__webpack_require__.d(__webpack_exports__,"ActionCentreMessages",(function(){return ActionCentre_stories_ActionCentreMessages}));var objectSpread2=__webpack_require__(51),react=__webpack_require__(0),react_default=__webpack_require__.n(react),esm=(__webpack_require__(213),__webpack_require__(156)),Store=(__webpack_require__(142),__webpack_require__(196),__webpack_require__(435),__webpack_require__(1)),classCallCheck=(__webpack_require__(195),__webpack_require__(237),__webpack_require__(238),__webpack_require__(681),__webpack_require__(438),__webpack_require__(9)),createClass=__webpack_require__(10),inherits=__webpack_require__(14),createSuper=__webpack_require__(13),mobxreact_esm=__webpack_require__(32),components=__webpack_require__(11),action=__webpack_require__(88),action_default=__webpack_require__.n(action),ReconciliationCard_ReconciliationCard=function(_React$Component){Object(inherits.a)(ReconciliationCard,_React$Component);var _super=Object(createSuper.a)(ReconciliationCard);function ReconciliationCard(props){var _this;Object(classCallCheck.a)(this,ReconciliationCard);return(_this=_super.call(this,props)).state={selectedUsers:[],selectedIds:[],reconciliationMessage:"mom"},_this}return Object(createClass.a)(ReconciliationCard,[{key:"selectReconciliationMessage",value:function selectReconciliationMessage(reconciliationType){return this.setState({reconciliationMessage:reconciliationType})}},{key:"renderReconciliationMessage",value:function renderReconciliationMessage(){return react.createElement("div",{onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"messagePanelAnswer metadata",style:{marginLeft:0,marginTop:0}},react.createElement("div",{style:{paddingLeft:20}},react.createElement("div",null,react.createElement("div",{className:"actionButton disabledButton",style:{margin:15,height:35,width:300}},"Reconcile in Xero now")),react.createElement("div",null,react.createElement("div",{className:"actionButton disabledButton",style:{margin:15,height:35,width:300}},"Set a Reminder for later")))))}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%",maxHeight:440}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client ",react.createElement("br",null)," Reconciliation Request"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a proactive reminder to keep your clients on top of their Xero reconciliation."),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This message can be auto scheduled fortnightly so your clients are always encouraged to keep their financial information up to date."),react.createElement("div",null,this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"},className:"feedback-select-holder"},react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients: ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleReconciliationMessageAction(_this2.state.selectedIds)}},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleMessageAction("finance-reconciliation-request","semi-monthly","at-midday",_this2.state.selectedIds)}},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"It's around the middle of the month. ".concat(this.props.practiceUser.user.displayName," at ").concat(this.props.practiceId.name," \n                  has requested a Xero reconciliation asap. Keeping up to date with your Xero data helps Aider to provide accurate \n                  cash flow forecasting and future cash flow visibility. ")),react.createElement("div",{className:"speech-bubble-ds__arrow_left"}))))}}]),ReconciliationCard}(react.Component);try{ReconciliationCard_ReconciliationCard.displayName="ReconciliationCard",ReconciliationCard_ReconciliationCard.__docgenInfo={description:"",displayName:"ReconciliationCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},scheduleReconciliationMessageAction:{defaultValue:null,description:"",name:"scheduleReconciliationMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}},practiceUser:{defaultValue:null,description:"",name:"practiceUser",required:!0,type:{name:"any"}},practiceId:{defaultValue:null,description:"",name:"practiceId",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/subcomponents/actionCards/ReconciliationCard.tsx#ReconciliationCard"]={docgenInfo:ReconciliationCard_ReconciliationCard.__docgenInfo,name:"ReconciliationCard",path:"src/components/storybook/subcomponents/actionCards/ReconciliationCard.tsx#ReconciliationCard"})}catch(__react_docgen_typescript_loader_error){}var KeyDatesCard_KeyDatesCard=function(_React$Component){Object(inherits.a)(KeyDatesCard,_React$Component);var _super=Object(createSuper.a)(KeyDatesCard);function KeyDatesCard(props){var _this;Object(classCallCheck.a)(this,KeyDatesCard);return(_this=_super.call(this,props)).state={category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(KeyDatesCard,[{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%",maxHeight:440}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client",react.createElement("br",null)," ","GST Due Dates"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a proactive reminder to keep your clients on top of their GST payment dates."),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This message can be auto scheduled fortnightly so your clients are always aware when GST is due to be filed and paid."),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients: ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleKeyDatesMessageAction(_this2.state.reconciliationMessage,_this2.state.selectedIds)}},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleMessageAction("finance-sales-tax","semi-monthly","at-midday",_this2.state.selectedIds)}},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"The GST period is set for every\n              *month.\n              \n\n              The next GST payment is due on\n              *28-Jul-2020 for the *June period.\n             \n\n              The last payment for the *May period\n              was due to be paid on *28-Jun-2020."),react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20,fontSize:12}},"*Note: your clients will receive actual payment dates in accordance with their sales tax period")))}}]),KeyDatesCard}(react.Component);try{KeyDatesCard_KeyDatesCard.displayName="KeyDatesCard",KeyDatesCard_KeyDatesCard.__docgenInfo={description:"",displayName:"KeyDatesCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},scheduleKeyDatesMessageAction:{defaultValue:null,description:"",name:"scheduleKeyDatesMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/subcomponents/actionCards/KeyDatesCard.tsx#KeyDatesCard"]={docgenInfo:KeyDatesCard_KeyDatesCard.__docgenInfo,name:"KeyDatesCard",path:"src/components/storybook/subcomponents/actionCards/KeyDatesCard.tsx#KeyDatesCard"})}catch(__react_docgen_typescript_loader_error){}var cashflow_1=__webpack_require__(706),cashflow_1_default=__webpack_require__.n(cashflow_1),cashflow_2=__webpack_require__(707),cashflow_2_default=__webpack_require__.n(cashflow_2),CashflowCheckCard_CashflowCheckCard=function(_React$Component){Object(inherits.a)(CashflowCheckCard,_React$Component);var _super=Object(createSuper.a)(CashflowCheckCard);function CashflowCheckCard(props){var _this;Object(classCallCheck.a)(this,CashflowCheckCard);return(_this=_super.call(this,props)).state={isHovering:!1,category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(CashflowCheckCard,[{key:"seeInAider",value:function seeInAider(){Store.a.conversationStore.continueConversationAction("cashflow check for this month",Store.a.authStore.links,Store.a.businessStore.selectedBusinessAccessToken,Store.a.conversationStore.currentConversation.conversationId),Store.a.conversationStore.setTrainAiderVisible(!0),this.props.closeModal()}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%",maxHeight:440}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client",react.createElement("br",null)," ","Cash flow Check"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a simple cash flow forecast that projects your clients net cash in or out flow and expected cash position for the selected period.",react.createElement("br",null),"It also provides actions to your clients to improve their cash flow position with one click."),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This message can be auto scheduled fortnightly so your clients are always aware of their future cash flow position."),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients:"," ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.runCashflowCheckMessageAction(_this2.state.reconciliationMessage,_this2.state.selectedIds)}},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleMessageAction("finance-cash-flow","semi-monthly","at-midday",_this2.state.selectedIds)}},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",null,react.createElement("div",{onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})},onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},style:{position:"relative",zIndex:9999}},react.createElement("div",{onClick:function onClick(){_this2.seeInAider()},style:{position:"absolute",top:280,right:90,padding:15,paddingLeft:25,width:210},className:"seeInAider ".concat(this.state.isHovering?"hoverOverButton":"")},"Run Cash Flow Check"," ")),react.createElement("div",{className:"exampleActionImage ".concat(this.state.isHovering?"hoverOverImage":""),style:{marginTop:0,display:"flex",justifyContent:"center"}},react.createElement("img",{style:{float:"left",paddingBottom:8,width:190,height:346},src:cashflow_1_default.a}),react.createElement("img",{style:{float:"right",paddingBottom:8,width:190,marginLeft:10,height:346},src:cashflow_2_default.a})))))}}]),CashflowCheckCard}(react.Component);try{CashflowCheckCard_CashflowCheckCard.displayName="CashflowCheckCard",CashflowCheckCard_CashflowCheckCard.__docgenInfo={description:"",displayName:"CashflowCheckCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runCashflowCheckMessageAction:{defaultValue:null,description:"",name:"runCashflowCheckMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/subcomponents/actionCards/CashflowCheckCard.tsx#CashflowCheckCard"]={docgenInfo:CashflowCheckCard_CashflowCheckCard.__docgenInfo,name:"CashflowCheckCard",path:"src/components/storybook/subcomponents/actionCards/CashflowCheckCard.tsx#CashflowCheckCard"})}catch(__react_docgen_typescript_loader_error){}var IncomeTaxEstimateCard_IncomeTaxEstimateCard=function(_React$Component){Object(inherits.a)(IncomeTaxEstimateCard,_React$Component);var _super=Object(createSuper.a)(IncomeTaxEstimateCard);function IncomeTaxEstimateCard(props){var _this;Object(classCallCheck.a)(this,IncomeTaxEstimateCard);return(_this=_super.call(this,props)).state={isHovering:!1,category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(IncomeTaxEstimateCard,[{key:"seeInAider",value:function seeInAider(){Store.a.conversationStore.startConversationViaAlternative("Income tax estimate",Store.a.authStore.links,Store.a.businessStore.selectedBusinessAccessToken,"finance-income-tax-estimate"),Store.a.conversationStore.setTrainAiderVisible(!0),this.props.closeModal()}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%",maxHeight:440}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client",react.createElement("br",null)," ","Income Tax Estimate"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a proactive reminder to keep your clients on top of their future income tax payable."),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}}," ","This message can be auto scheduled monthly so your clients are always aware of the income tax they should save for future payment date. You can adjust the tax rate in the ",react.createElement("i",null,"My Clients")," info section to adjust for clients with different tax rates to the company standard."," "),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients: ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.runIncomeTaxEstimate(_this2.state.selectedIds)}},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleMessageAction("finance-income-tax-estimate","semi-monthly","at-midday",_this2.state.selectedIds)}},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40},onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"                The net profit for June (last month) was $X.\n\n                Based on the income tax rate of 28%; the income tax estimate is $X (Last month net profit x tax rate).\n\n                Make sure you save this monthly income tax estimate amount for future payment dates."),react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20,fontSize:12}},"              *Note: your clients will receive actual tax estimate data in accordance with their tax rate."),react.createElement("br",null),react.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},react.createElement("div",{onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})},onClick:function onClick(){_this2.seeInAider()},style:{cursor:"pointer",width:230,padding:15,fontSize:14,paddingLeft:25},className:"seeInAider ".concat(this.state.isHovering?"hoverOverButton":"")},"Run Income Tax Estimate"," "))))}}]),IncomeTaxEstimateCard}(react.Component);try{IncomeTaxEstimateCard_IncomeTaxEstimateCard.displayName="IncomeTaxEstimateCard",IncomeTaxEstimateCard_IncomeTaxEstimateCard.__docgenInfo={description:"",displayName:"IncomeTaxEstimateCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runIncomeTaxEstimate:{defaultValue:null,description:"",name:"runIncomeTaxEstimate",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/subcomponents/actionCards/IncomeTaxEstimateCard.tsx#IncomeTaxEstimateCard"]={docgenInfo:IncomeTaxEstimateCard_IncomeTaxEstimateCard.__docgenInfo,name:"IncomeTaxEstimateCard",path:"src/components/storybook/subcomponents/actionCards/IncomeTaxEstimateCard.tsx#IncomeTaxEstimateCard"})}catch(__react_docgen_typescript_loader_error){}var DirectMessageCard_DirectMessageCard=function(_React$Component){Object(inherits.a)(DirectMessageCard,_React$Component);var _super=Object(createSuper.a)(DirectMessageCard);function DirectMessageCard(props){var _this;Object(classCallCheck.a)(this,DirectMessageCard);return(_this=_super.call(this,props)).state={textInput:"",category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(DirectMessageCard,[{key:"changeTextInput",value:function changeTextInput(e){return this.setState({textInput:e.target.value})}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%",maxHeight:440}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client ",react.createElement("br",null)," Direct Message"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"Send a direct message to your clients that Aider can deliver on your behalf."),react.createElement("div",{style:{marginTop:0,display:"flex",justifyContent:"center",marginBottom:25}},react.createElement("textarea",{id:"textArea",className:"text-area-input","ng-model-options":"{ updateOn: 'blur' }",spellCheck:"false",style:{border:"#4264ea 1px solid",fontFamily:"arial",height:82,width:480,maxHeight:100},name:"textarea",value:this.state.textInput,onChange:function onChange(e){_this2.changeTextInput(e)}})),react.createElement("div",{style:{marginTop:10,justifyContent:"center"}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients: ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.runDirectMessageAction("direct-message",_this2.state.textInput,_this2.state.selectedIds)}},"Send Now"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},"Hey, I've got a message for you from your Advisor, ",this.props.practiceUser.user.givenName," :",react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20},className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},this.state.textInput.length>=1?this.state.textInput:"Message text here"," ",""),react.createElement("div",{className:"speech-bubble-ds__arrow_left"}))))}}]),DirectMessageCard}(react.Component);try{DirectMessageCard_DirectMessageCard.displayName="DirectMessageCard",DirectMessageCard_DirectMessageCard.__docgenInfo={description:"",displayName:"DirectMessageCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runDirectMessageAction:{defaultValue:null,description:"",name:"runDirectMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},practiceUser:{defaultValue:null,description:"",name:"practiceUser",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/subcomponents/actionCards/DirectMessageCard.tsx#DirectMessageCard"]={docgenInfo:DirectMessageCard_DirectMessageCard.__docgenInfo,name:"DirectMessageCard",path:"src/components/storybook/subcomponents/actionCards/DirectMessageCard.tsx#DirectMessageCard"})}catch(__react_docgen_typescript_loader_error){}var ProvisionalEstimateCard_ProvisionalEstimateCard=function(_React$Component){Object(inherits.a)(ProvisionalEstimateCard,_React$Component);var _super=Object(createSuper.a)(ProvisionalEstimateCard);function ProvisionalEstimateCard(props){var _this;Object(classCallCheck.a)(this,ProvisionalEstimateCard);return(_this=_super.call(this,props)).state={category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(ProvisionalEstimateCard,[{key:"render",value:function render(){return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%",maxHeight:440}},react.createElement("div",{style:{display:"inline-block",height:70}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Provisional",react.createElement("br",null)," ","Income Tax Estimate"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a proactive reminder to keep your clients on top of their current Income Tax liability for the Provisonal tax payment period.",react.createElement("br",null),"The calculation compares values to last year to ensure if there is significant variation then an increase or decrease to the standard estimate may be required.",react.createElement("br",null)),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}}," ","This message can be auto scheduled monthly so your clients are always aware of the current years income tax payable. You can adjust the tax rate in the"," ",react.createElement("i",null,"My Clients")," ","info section to adjust for clients with different tax rates to the company standard."," "),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients:"," ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton disabledButton"},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton disabledButton"},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"The YTD Net Profit from April to July (last financial quarter) is $X which is 22% higher than last years Net Profit of $X for the same period.\n\nThe Estimate Net Profit for the full year is looking around $X (taking into consideration the current year and last years monthly net profit)"),react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20,fontSize:12}}," ","*Note: your clients will receive actual tax estimate data in accordance with their tax rate.")))}}]),ProvisionalEstimateCard}(react.Component);try{ProvisionalEstimateCard_ProvisionalEstimateCard.displayName="ProvisionalEstimateCard",ProvisionalEstimateCard_ProvisionalEstimateCard.__docgenInfo={description:"",displayName:"ProvisionalEstimateCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runIncomeTaxEstimate:{defaultValue:null,description:"",name:"runIncomeTaxEstimate",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/subcomponents/actionCards/ProvisionalEstimateCard.tsx#ProvisionalEstimateCard"]={docgenInfo:ProvisionalEstimateCard_ProvisionalEstimateCard.__docgenInfo,name:"ProvisionalEstimateCard",path:"src/components/storybook/subcomponents/actionCards/ProvisionalEstimateCard.tsx#ProvisionalEstimateCard"})}catch(__react_docgen_typescript_loader_error){}var mobx_module=__webpack_require__(2),moment=__webpack_require__(56),moment_default=__webpack_require__.n(moment),ManageMessagesCard_ManageMessageCardComponent=function(_React$Component){Object(inherits.a)(ManageMessageCardComponent,_React$Component);var _super=Object(createSuper.a)(ManageMessageCardComponent);function ManageMessageCardComponent(props){var _this;Object(classCallCheck.a)(this,ManageMessageCardComponent);return(_this=_super.call(this,props)).state={selectedMessage:null,textInput:"",category:"",reconciliationMessage:null,selectedId:"",selectedUser:"",selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(ManageMessageCardComponent,[{key:"changeTextInput",value:function changeTextInput(e){return this.setState({textInput:e.target.value})}},{key:"render",value:function render(){var _this2=this,currentConversation=Store.a.conversationStore.currentManagedMessages.messages,recipient=this.state.selectedMessage?this.props.usersList.filter((function(i){return _this2.state.selectedMessage.recipient===i.id})):{givenName:null,familyName:null};return console.log(Object(mobx_module.toJS)(this.props.usersList),Object(mobx_module.toJS)(this.state.selectedMessage)),console.log(Object(mobx_module.toJS)(currentConversation)),react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%",maxHeight:440}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Manage Client's"," ",react.createElement("br",null)," ","Scheduled Messages"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"Select a message on the right hand side to read more about it."),react.createElement("div",{style:{marginTop:0,display:"flex",justifyContent:"center",marginBottom:5}}),this.state.selectedMessage?react.createElement("div",{className:"scrollbar",style:{maxHeight:300,height:2900,paddingRight:15}},react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Recipient:")," ",react.createElement("span",null,recipient.givenName?"".concat(recipient.givenName," ").concat(recipient.familyName):"All Users")),react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Action:")," ",react.createElement("span",null,Object(components.t)(this.state.selectedMessage.action))),react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Frequency:")," ",react.createElement("span",null,this.state.selectedMessage.frequency)),react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Time of day:")," ",react.createElement("span",null,this.state.selectedMessage.timeOfDay&&this.state.selectedMessage.timeOfDay.split("-").join(" "))),react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Next execution at:")," ",react.createElement("span",null,this.state.selectedMessage.nextExecutionAt&&moment_default()(this.state.selectedMessage.nextExecutionAt).format("LLLL"))),react.createElement("div",null,react.createElement("b",{style:{color:"#4264ea"}},"Message:")," ",react.createElement("br",null)," ",this.state.selectedMessage.message.answers.map((function(answer){return react.createElement("p",null,answer)}))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton",onClick:function onClick(){Store.a.conversationStore.cancelScheduledMessage(_this2.state.selectedMessage._links).then((function(){_this2.setState({selectedMessage:null})}))}},"Cancel Message"))):react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"Note: Scheduled Messages will only appear in this table when they have been dispatched atleast once")),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40,width:"100%"}},react.createElement("h3",null,""!==this.state.selectedUser?"Scheduled for ".concat(this.state.selectedUser):"Select a Message"),react.createElement("div",{style:{maxHeight:300,height:300}},react.createElement("table",{className:"navTable z-depth-1-half table-depth noZ",style:{maxHeight:300,height:300}},react.createElement("thead",{className:"navTableHead",style:{backgroundColor:"#4264ea"}},react.createElement("tr",{style:{color:"#c7c7c7",borderBottom:"1px solid #fff"}},react.createElement("th",{style:{width:"58%"}},"Type"),react.createElement("th",null,"Schedule"),react.createElement("th",null))),react.createElement("tbody",{className:"inviteTableBody scrollbar narrow",style:{maxHeight:300,height:300,overflowY:"auto"}},Store.a.conversationStore.scheduledMessagesLoading?react.createElement("div",null,components.w):void 0!==currentConversation&&currentConversation.length>=1?currentConversation.map((function(i,ix){return react.createElement("tr",{onClick:function onClick(){_this2.setState({selectedMessage:i})},style:{borderBottom:"1px solid #e8e8e8",cursor:"pointer"}},react.createElement("td",{style:{maxWidth:250,fontSize:12,width:"58%",minWidth:240}},Object(components.t)(i.action)),react.createElement("td",{style:{fontSize:12}},i.frequency),react.createElement("td",null))})):react.createElement("p",{style:{color:"white",marginTop:10}},"No Scheduled messages."))))))}}]),ManageMessageCardComponent}(react.Component),actionCards_ManageMessagesCard=Object(mobxreact_esm.b)(ManageMessagesCard_ManageMessageCardComponent);try{ManageMessagesCard_ManageMessageCardComponent.displayName="ManageMessageCardComponent",ManageMessagesCard_ManageMessageCardComponent.__docgenInfo={description:"",displayName:"ManageMessageCardComponent",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runDirectMessageAction:{defaultValue:null,description:"",name:"runDirectMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/subcomponents/actionCards/ManageMessagesCard.tsx#ManageMessageCardComponent"]={docgenInfo:ManageMessagesCard_ManageMessageCardComponent.__docgenInfo,name:"ManageMessageCardComponent",path:"src/components/storybook/subcomponents/actionCards/ManageMessagesCard.tsx#ManageMessageCardComponent"})}catch(__react_docgen_typescript_loader_error){}var GSTPayableCard_GSTPayableCard=function(_React$Component){Object(inherits.a)(GSTPayableCard,_React$Component);var _super=Object(createSuper.a)(GSTPayableCard);function GSTPayableCard(props){var _this;Object(classCallCheck.a)(this,GSTPayableCard);return(_this=_super.call(this,props)).state={isHovering:!1,category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(GSTPayableCard,[{key:"seeInAider",value:function seeInAider(){Store.a.conversationStore.continueConversationAction("Sales Tax due",Store.a.authStore.links,Store.a.businessStore.selectedBusinessAccessToken,Store.a.conversationStore.currentConversation.conversationId),Store.a.conversationStore.setTrainAiderVisible(!0),this.props.closeModal()}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%",maxHeight:440}},react.createElement("div",{style:{display:"inline-block",height:70}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client",react.createElement("br",null)," ","GST Estimate"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14,marginTop:10}},"This is a proactive reminder to keep your clients on top of their future GST payable. The GST is calculated based in Income and Expenses reconciled to date. ",react.createElement("br",null),react.createElement("br",null)),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This message can be auto scheduled monthly so your clients are always aware of the GST payable/receivable for they should save for future payment date."),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients:"," ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton disabledButton"},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton disabledButton"},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})},className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"“The next GST payment is due on *date for the *month/s period.\n\nI've estimated the amount of that payment to be $x based on *months Income and Expenses recorded so far.\n\nThe last payment for the *month/s period was due to be paid on *date for an estimated amount of $y”"),react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20,fontSize:12}}," ","*Note: your clients will receive actual estimate data in accordance with their tax rate."),react.createElement("br",null),react.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},react.createElement("div",{onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})},onClick:function onClick(){_this2.seeInAider()},style:{cursor:"pointer",padding:15,paddingLeft:25},className:"seeInAider ".concat(this.state.isHovering?"hoverOverButton":"")},"Run GST Estimate results"," "))))}}]),GSTPayableCard}(react.Component);try{GSTPayableCard_GSTPayableCard.displayName="GSTPayableCard",GSTPayableCard_GSTPayableCard.__docgenInfo={description:"",displayName:"GSTPayableCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runGSTPayable:{defaultValue:null,description:"",name:"runGSTPayable",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/subcomponents/actionCards/GSTPayableCard.tsx#GSTPayableCard"]={docgenInfo:GSTPayableCard_GSTPayableCard.__docgenInfo,name:"GSTPayableCard",path:"src/components/storybook/subcomponents/actionCards/GSTPayableCard.tsx#GSTPayableCard"})}catch(__react_docgen_typescript_loader_error){}var actionCentreModal_ActionCentreModal=function(_React$Component){Object(inherits.a)(ActionCentreModal,_React$Component);var _super=Object(createSuper.a)(ActionCentreModal);function ActionCentreModal(props){var _this;Object(classCallCheck.a)(this,ActionCentreModal);return(_this=_super.call(this,props)).state={category:"",usersList:[{givenName:"Test",familyName:"Tester",id:"0000000"}],usersSelected:[]},_this}return Object(createClass.a)(ActionCentreModal,[{key:"componentDidMount",value:function componentDidMount(){this.setState({usersList:{givenName:"Test",familyName:"Tester",id:"0000000"}})}},{key:"scheduleMessageAction",value:function scheduleMessageAction(intentKey,frequency,timeOfDay,users){this.props.store.scheduleMessageAction(intentKey,frequency,timeOfDay,users)}},{key:"renderLoadingComponent",value:function renderLoadingComponent(){return Store.a.conversationStore.sendingMessageLoading?react.createElement("div",null,"Loading..."):null}},{key:"renderCardFromType",value:function renderCardFromType(type){return"reconciliation"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(ReconciliationCard_ReconciliationCard,{practiceUser:this.props.practiceUser,practiceId:this.props.practiceId,usersList:[],renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,store:this.props.store,rootStore:this.props.rootStore,type:this.props.type,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),scheduleReconciliationMessageAction:this.props.store.scheduleReconciliationMessageAction})):"taxdates"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(KeyDatesCard_KeyDatesCard,{usersList:[],renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),scheduleKeyDatesMessageAction:this.props.store.runKeyDatesMessageAction})):"cashflow"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(CashflowCheckCard_CashflowCheckCard,{usersList:[],renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runCashflowCheckMessageAction:this.props.store.runCashflowCheckMessageAction})):"income-tax"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(IncomeTaxEstimateCard_IncomeTaxEstimateCard,{usersList:[],renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runIncomeTaxEstimate:this.props.store.runIncomeTaxEstimate})):"provisional-estimate"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(ProvisionalEstimateCard_ProvisionalEstimateCard,{usersList:[],renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runIncomeTaxEstimate:this.props.store.runIncomeTaxEstimate})):"gst-pr"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(GSTPayableCard_GSTPayableCard,{usersList:[],renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runGSTPayable:this.props.store.runGSTPayable})):"direct-message"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(DirectMessageCard_DirectMessageCard,{usersList:[],practiceUser:this.props.practiceUser,renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runDirectMessageAction:this.props.store.runDirectMessageAction})):"manage-messages"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(actionCards_ManageMessagesCard,{usersList:[],renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runDirectMessageAction:this.props.store.runDirectMessageAction})):void 0}},{key:"render",value:function render(){return react.createElement("div",{id:"metadataModal",className:"ac-modal-container actionCard"},this.renderCardFromType(this.props.type))}}]),ActionCentreModal}(react.Component),actionCentreModal=Object(mobxreact_esm.b)(actionCentreModal_ActionCentreModal);try{actionCentreModal_ActionCentreModal.displayName="ActionCentreModal",actionCentreModal_ActionCentreModal.__docgenInfo={description:"",displayName:"ActionCentreModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},closeActionModal:{defaultValue:null,description:"",name:"closeActionModal",required:!0,type:{name:"any"}},practiceUser:{defaultValue:null,description:"",name:"practiceUser",required:!0,type:{name:"any"}},practiceId:{defaultValue:null,description:"",name:"practiceId",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/actionCentreModal.tsx#ActionCentreModal"]={docgenInfo:actionCentreModal_ActionCentreModal.__docgenInfo,name:"ActionCentreModal",path:"src/components/storybook/actionCentreModal.tsx#ActionCentreModal"})}catch(__react_docgen_typescript_loader_error){}var ActionCentre=__webpack_require__(240),temp3={id:"Q5c90vrldsXHdGrlp3rm",name:"test",area:"Auckland",countryCode:"NZ",timeZoneId:"Pacific/Auckland",website:null,createdAt:1605572562,businessClass:"management"},temp4={user:{givenName:"test",familyName:"test",displayName:"test testse",photoUrl:null,email:"testpermissions@aider.ai",emailVerified:!1,phoneNumber:null,gender:null,partnerData:null},businesses:[{businessClass:"smb",address:null,phoneNumber:null,rawOffsetInMinutesFromGoogle:0,website:null,dstOffsetInMinutesFromGoogle:0,profile:{fringeBenefitTax:"",payrollTax:"",reconciledDays:null,address:"23 Main StreetX, Central CityX, Marineville, 1234, 456",incomeTax:"",operationalExpensesSource:"",taxRate:"29",dividendWithholdingTax:"",taxAgent:"",purchasesSource:"",salesSource:""},timeZoneId:"Pacific/Auckland",managedBy:"Q5c90vrldsXHdGrlp3rm",hubspotId:"4946627117",name:"Demo Company (NZ)",location:null,postalCode:null,photoUrl:null,iconUrl:null,area:"Auckland",types:null,createdBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",createdAt:"2020-12-03T04:19:27.488Z",countryCode:"NZ",updatedAt:"2020-12-09T00:30:37.446Z",status:"active",utcOffsetInMinutesFromGoogle:0,updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",id:"HscUV9yhTH6qGHAbwa3v",connectedApps:[{ospKey:"xero",appKey:"accounting"}],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{businessClass:"smb",createdAt:"2020-11-17T01:38:28.780Z",phoneNumber:null,status:"active",address:null,dstOffsetInMinutesFromGoogle:0,name:"Demo Company (NZ)",managedBy:"Q5c90vrldsXHdGrlp3rm",timeZoneId:"Pacific/Auckland",countryCode:"NZ",location:null,area:"Auckland",photoUrl:null,postalCode:null,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",website:null,profile:{taxRate:28},rawOffsetInMinutesFromGoogle:0,utcOffsetInMinutesFromGoogle:0,types:null,hubspotId:"4838531347",iconUrl:null,id:"6Aihr98CbJWuPtonaTju",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{address:null,businessClass:"smb",postalCode:null,countryCode:"NZ",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",hubspotId:"4839751106",status:"active",photoUrl:null,dstOffsetInMinutesFromGoogle:0,createdAt:"2020-11-17T01:41:55.972Z",iconUrl:null,rawOffsetInMinutesFromGoogle:0,area:"Auckland",types:null,location:null,managedBy:"Q5c90vrldsXHdGrlp3rm",utcOffsetInMinutesFromGoogle:0,name:"Demo Company (NZ)",website:null,profile:{taxRate:28},timeZoneId:"Pacific/Auckland",phoneNumber:null,id:"qZ8os7DyqFMbm3D01evD",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{hubspotId:"4838736729",status:"active",dstOffsetInMinutesFromGoogle:0,postalCode:null,types:null,profile:{purchasesSource:"",operationalExpensesSource:"",salesSource:"",dividendWithholdingTax:"",payrollTax:"",incomeTax:"",taxRate:28,reconciledDays:null,salesTax:"",fringeBenefitTax:""},address:null,utcOffsetInMinutesFromGoogle:0,phoneNumber:null,managedBy:"Q5c90vrldsXHdGrlp3rm",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",website:null,businessClass:"smb",timeZoneId:"Pacific/Auckland",area:"Auckland",rawOffsetInMinutesFromGoogle:0,createdAt:"2020-11-17T02:42:35.490Z",countryCode:"NZ",iconUrl:null,name:"Demo Company (NZ)",location:null,photoUrl:null,updatedAt:"2020-11-17T02:42:54.661Z",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",id:"VosaTLH9fsowFkl94CKJ",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{iconUrl:null,postalCode:null,address:null,phoneNumber:null,countryCode:"NZ",name:"Demo Company (NZ)",dstOffsetInMinutesFromGoogle:0,rawOffsetInMinutesFromGoogle:0,managedBy:"Q5c90vrldsXHdGrlp3rm",businessClass:"smb",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",hubspotId:"4838392774",photoUrl:null,createdAt:"2020-11-17T01:55:38.082Z",timeZoneId:"Pacific/Auckland",website:null,area:"Auckland",location:null,status:"active",utcOffsetInMinutesFromGoogle:0,types:null,profile:{taxRate:28},id:"SlK5h3l1VJgzEy0I1385",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{hubspotId:"4837456819",profile:{numberOfAccountants:"12",accountingSoftware:["xero"],numberOfClients:"14"},address:"Auckland 0627, New Zealand",status:"active",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",location:{longitude:174.7510457,latitude:-36.78432279999999},name:"test",photoUrl:null,utcOffsetInMinutesFromGoogle:780,dstOffsetInMinutesFromGoogle:3600,createdAt:"2020-11-17T00:22:42.743Z",area:"Auckland",phoneNumber:null,website:null,timeZoneId:"Pacific/Auckland",types:["transit_station","point_of_interest","establishment"],postalCode:null,businessClass:"management",countryCode:"NZ",iconUrl:null,rawOffsetInMinutesFromGoogle:43200,id:"Q5c90vrldsXHdGrlp3rm",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[{status:"accepted",givenName:"alex",reminders:[{sendAt:{_seconds:1605745431,_nanoseconds:123e6},reminderKey:"twoDayReminder",status:"pending"},{reminderKey:"sevenDayReminder",status:"pending",sendAt:{_seconds:1606177431,_nanoseconds:123e6}}],familyName:"cashmur",roleKey:"practice_user",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",email:"alex+testpermissions@aider.ai",businessId:"Q5c90vrldsXHdGrlp3rm",createdAt:"2020-11-17T00:23:51.123Z",invitedAt:{_seconds:1605572631,_nanoseconds:123e6},expiresAt:"2020-11-24T00:23:51.000Z",displayName:"alex cashmur",id:"74dWyRSWonJ00ZvPbicw"}],cancelledInvitations:[]}},{utcOffsetInMinutesFromGoogle:0,website:null,photoUrl:null,hubspotId:"4884149689",location:null,phoneNumber:null,managedBy:"Q5c90vrldsXHdGrlp3rm",profile:{taxRate:28},rawOffsetInMinutesFromGoogle:0,address:null,status:"active",iconUrl:null,businessClass:"smb",dstOffsetInMinutesFromGoogle:0,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",createdAt:"2020-11-23T00:39:42.125Z",countryCode:"NZ",timeZoneId:"Pacific/Auckland",name:"Demo Company (NZ)",area:"Auckland",types:null,postalCode:null,id:"eS2xOOMOv6903Dv02zcr",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{website:null,area:"Auckland",rawOffsetInMinutesFromGoogle:0,iconUrl:null,types:null,timeZoneId:"Pacific/Auckland",hubspotId:"4837456937",photoUrl:null,updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",managedBy:"Q5c90vrldsXHdGrlp3rm",profile:{dividendWithholdingTax:"",salesSource:"",operationalExpensesSource:"",taxRate:"3",purchasesSource:"",fringeBenefitTax:"",salesTax:"",incomeTax:"",payrollTax:"",reconciledDays:null},createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",location:null,countryCode:"NZ",name:"Xero Trial Business",status:"active",postalCode:null,phoneNumber:null,businessClass:"smb",utcOffsetInMinutesFromGoogle:0,address:null,dstOffsetInMinutesFromGoogle:0,updatedAt:"2020-11-17T00:29:08.396Z",createdAt:"2020-11-17T00:28:54.397Z",id:"nb4npUfiDZH2jKS0FtOw",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",postalCode:null,address:null,createdAt:"2020-11-23T00:33:55.410Z",name:"Demo Company (NZ)",status:"active",managedBy:"Q5c90vrldsXHdGrlp3rm",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",location:null,businessClass:"smb",area:"Auckland",photoUrl:null,utcOffsetInMinutesFromGoogle:0,website:null,iconUrl:null,hubspotId:"4884119093",phoneNumber:null,countryCode:"NZ",updatedAt:"2020-11-23T00:34:09.725Z",rawOffsetInMinutesFromGoogle:0,profile:{taxRate:28,salesSource:"",reconciledDays:null,purchasesSource:"",dividendWithholdingTax:"",fringeBenefitTax:"",salesTax:"",payrollTax:"",incomeTax:"",operationalExpensesSource:""},dstOffsetInMinutesFromGoogle:0,types:null,timeZoneId:"Pacific/Auckland",id:"Z6otv1M9lDmC2lavzoge",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{rawOffsetInMinutesFromGoogle:0,types:null,location:null,utcOffsetInMinutesFromGoogle:0,createdAt:"2020-11-17T02:43:35.632Z",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",updatedAt:"2020-11-17T02:44:06.862Z",address:null,timeZoneId:"Pacific/Auckland",hubspotId:"4838746026",countryCode:"NZ",dstOffsetInMinutesFromGoogle:0,businessClass:"smb",status:"active",website:null,managedBy:"Q5c90vrldsXHdGrlp3rm",phoneNumber:null,area:"Auckland",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",photoUrl:null,postalCode:null,profile:{fringeBenefitTax:"fbt",salesTax:"gst",salesSource:"",incomeTax:"shareholders",reconciledDays:1,purchasesSource:"",dividendWithholdingTax:"noDwt",taxRate:"29.9",payrollTax:"noPaye",operationalExpensesSource:""},name:"Xero Trial Business",iconUrl:null,id:"kI2H6uP1ZeCwIbmdSh6k",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{phoneNumber:null,location:null,countryCode:"NZ",dstOffsetInMinutesFromGoogle:0,businessClass:"smb",website:null,managedBy:"Q5c90vrldsXHdGrlp3rm",iconUrl:null,createdAt:"2020-12-03T04:15:07.740Z",rawOffsetInMinutesFromGoogle:0,utcOffsetInMinutesFromGoogle:0,postalCode:null,area:"Auckland",address:null,status:"active",timeZoneId:"Pacific/Auckland",hubspotId:"4946151652",types:null,photoUrl:null,createdBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",name:"Demo Company (NZ)",updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",profile:{fringeBenefitTax:"",taxAgent:"",incomeTax:"",reconciledDays:null,taxRate:"27",purchasesSource:"",payrollTax:"",salesSource:"",address:"23 Main StreetXX, Central CityXXX",operationalExpensesSource:"",dividendWithholdingTax:""},updatedAt:"2020-12-09T00:32:01.903Z",id:"vDfwduxEeeNE0m4NBPL9",connectedApps:[{ospKey:"xero",appKey:"accounting"}],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{createdAt:"2020-11-23T00:44:26.185Z",status:"active",hubspotId:"4884559597",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",countryCode:"NZ",iconUrl:null,types:null,timeZoneId:"Pacific/Auckland",address:null,area:"Auckland",name:"Demo Company (NZ)",updatedAt:"2020-11-23T00:44:53.118Z",photoUrl:null,phoneNumber:null,managedBy:"Q5c90vrldsXHdGrlp3rm",location:null,dstOffsetInMinutesFromGoogle:0,profile:{dividendWithholdingTax:"",reconciledDays:null,salesSource:"",operationalExpensesSource:"",taxRate:28,salesTax:"",purchasesSource:"",payrollTax:"",fringeBenefitTax:"",incomeTax:""},businessClass:"smb",utcOffsetInMinutesFromGoogle:0,rawOffsetInMinutesFromGoogle:0,postalCode:null,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",website:null,id:"XKEnVJLUfDUHWxp1Rsnw",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{iconUrl:null,photoUrl:null,utcOffsetInMinutesFromGoogle:0,businessClass:"smb",dstOffsetInMinutesFromGoogle:0,area:"Auckland",rawOffsetInMinutesFromGoogle:0,address:null,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",updatedAt:"2020-11-17T02:36:25.665Z",status:"active",website:null,managedBy:"Q5c90vrldsXHdGrlp3rm",profile:{payrollTax:"",dividendWithholdingTax:"",taxRate:"29.5",purchasesSource:"",operationalExpensesSource:"",salesTax:"",incomeTax:"",fringeBenefitTax:"",salesSource:"",reconciledDays:null},countryCode:"NZ",phoneNumber:null,types:null,createdAt:"2020-11-17T02:36:02.407Z",timeZoneId:"Pacific/Auckland",name:"Demo Company (NZ)",postalCode:null,location:null,hubspotId:"4838532180",id:"hj5wQAumNPWulwWK6v9q",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{area:"Auckland",photoUrl:null,name:"Demo Company (NZ)",createdAt:"2020-11-17T01:50:20.587Z",phoneNumber:null,status:"active",managedBy:"Q5c90vrldsXHdGrlp3rm",address:null,rawOffsetInMinutesFromGoogle:0,profile:{address:"  Address2",payrollTax:"",fringeBenefitTax:"",purchasesSource:"",reconciledDays:null,salesSource:"",operationalExpensesSource:"",dividendWithholdingTax:"",salesTax:"",incomeTax:"",taxRate:"29"},website:null,dstOffsetInMinutesFromGoogle:0,updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",businessClass:"smb",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",hubspotId:"4838544338",countryCode:"NZ",updatedAt:"2020-12-03T04:08:48.344Z",types:null,utcOffsetInMinutesFromGoogle:0,postalCode:null,timeZoneId:"Pacific/Auckland",location:null,iconUrl:null,id:"BWUYHIKfT0b7I33MoC3m",connectedApps:[{ospKey:"google",appKey:"google_calendar"},{ospKey:"xero",appKey:"accounting"}],invitations:{pendingInvitations:[],acceptedInvitations:[{expiresAt:"2020-11-25T22:54:45.000Z",displayName:"alex cashmore",email:"alex+ac13@aider.ai",businessId:"BWUYHIKfT0b7I33MoC3m",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",status:"accepted",reminders:[{sendAt:{_seconds:1605912885,_nanoseconds:611e6},status:"pending",reminderKey:"twoDayReminder"},{status:"pending",reminderKey:"sevenDayReminder",sendAt:{_seconds:1606344885,_nanoseconds:611e6}}],familyName:"cashmore",createdAt:"2020-11-18T22:54:45.611Z",givenName:"alex",invitedAt:{_seconds:1605740085,_nanoseconds:611e6},roleKey:"admin",id:"R4bZ6EWisl7q6fv54spy"},{displayName:"MR Cashmore",createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",invitedAt:{_seconds:1606427324,_nanoseconds:511e6},reminders:[{sendAt:{_seconds:1606600124,_nanoseconds:511e6},status:"pending",reminderKey:"twoDayReminder"},{status:"pending",sendAt:{_seconds:1607032124,_nanoseconds:511e6},reminderKey:"sevenDayReminder"}],email:"alex+mrc@aider.ai",familyName:"Cashmore",status:"accepted",createdAt:"2020-11-26T21:48:44.511Z",expiresAt:"2020-12-03T21:48:44.000Z",givenName:"MR",businessId:"BWUYHIKfT0b7I33MoC3m",roleKey:"admin",id:"YcQPy4j7xxoPp86aWH6J"}],cancelledInvitations:[]}},{rawOffsetInMinutesFromGoogle:0,countryCode:"NZ",phoneNumber:null,managedBy:"Q5c90vrldsXHdGrlp3rm",updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",businessClass:"smb",area:"Auckland",postalCode:null,updatedAt:"2020-11-30T21:45:04.557Z",types:null,website:null,location:null,iconUrl:null,profile:{incomeTax:"",reconciledDays:null,operationalExpensesSource:"",taxRate:28,fringeBenefitTax:"",dividendWithholdingTax:"",salesSource:"",salesTax:"",purchasesSource:"",payrollTax:""},name:"Open Sauce Development",status:"active",photoUrl:null,createdBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",dstOffsetInMinutesFromGoogle:0,hubspotId:"4928800335",timeZoneId:"Pacific/Auckland",utcOffsetInMinutesFromGoogle:0,createdAt:"2020-11-30T21:44:37.219Z",address:null,id:"gdjOMtfBUxJH39wRNHAj",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[{createdAt:"2020-11-30T21:45:32.426Z",expiresAt:"2020-12-07T21:45:32.000Z",roleKey:"admin",email:"alex+testname@aider.ai",status:"accepted",familyName:"cashmur",createdBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",invitedAt:{_seconds:1606772732,_nanoseconds:426e6},reminders:[{sendAt:{_seconds:1606945532,_nanoseconds:426e6},reminderKey:"twoDayReminder",status:"pending"},{status:"pending",reminderKey:"sevenDayReminder",sendAt:{_seconds:1607377532,_nanoseconds:426e6}}],givenName:"alex",businessId:"gdjOMtfBUxJH39wRNHAj",displayName:"alex cashmur",id:"Z2EceCnfOuQR3MANBAYm"}],cancelledInvitations:[]}},{area:"Auckland",types:null,updatedBy:"CjXnjKciD8TVboz3rwGss6FxeLD3",createdAt:"2020-11-23T00:33:17.796Z",postalCode:null,rawOffsetInMinutesFromGoogle:0,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",status:"active",countryCode:"NZ",utcOffsetInMinutesFromGoogle:0,phoneNumber:null,name:"Demo Company (NZ)",businessClass:"smb",photoUrl:null,hubspotId:"4884549660",updatedAt:"2020-12-03T04:11:34.105Z",timeZoneId:"Pacific/Auckland",website:null,profile:{salesTax:"noGst",taxRate:28,incomeTax:"shareholders",address:"87 Island Bay Rd",dividendWithholdingTax:"",reconciledDays:null,payrollTax:"paye",operationalExpensesSource:"",fringeBenefitTax:"",purchasesSource:"",salesSource:""},managedBy:"Q5c90vrldsXHdGrlp3rm",location:null,dstOffsetInMinutesFromGoogle:0,iconUrl:null,address:null,id:"lDFg3Q2VciwVRZOOKFok",connectedApps:[{ospKey:"xero",appKey:"accounting"}],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}},{profile:{payrollTax:"",salesTax:"",fringeBenefitTax:"",reconciledDays:null,incomeTax:"",salesSource:"",dividendWithholdingTax:"",taxRate:"0",purchasesSource:"",operationalExpensesSource:""},updatedBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",phoneNumber:null,photoUrl:null,postalCode:null,createdBy:"3pUHsjix0Yh6JvkkVp6UBGe8qA02",rawOffsetInMinutesFromGoogle:0,countryCode:"NZ",location:null,timeZoneId:"Pacific/Auckland",businessClass:"smb",hubspotId:"4884612038",status:"active",updatedAt:"2020-11-23T00:53:09.237Z",managedBy:"Q5c90vrldsXHdGrlp3rm",types:null,area:"Auckland",iconUrl:null,website:null,address:null,name:"Demo Company (NZ)",createdAt:"2020-11-23T00:52:45.253Z",dstOffsetInMinutesFromGoogle:0,utcOffsetInMinutesFromGoogle:0,id:"k6xIh0BGECkXWIY9K8Oo",connectedApps:[],invitations:{pendingInvitations:[],acceptedInvitations:[],cancelledInvitations:[]}}],subscriptions:[]},ActionCentre_stories_ActionCentreTable=function ActionCentreTable(){return react_default.a.createElement(ActionCentre.a,{renderActionCentreModal:function renderActionCentreModal(){},actionCentrePopupOpen:function actionCentrePopupOpen(){}})},ActionCentre_stories_ActionCentreReconciliation=function ActionCentreReconciliation(){return react_default.a.createElement(actionCentreModal,{store:Store.a.conversationStore,rootStore:Store.a,practiceUser:temp4,practiceId:temp3,type:"reconciliation",closeActionModal:function closeActionModal(){}})},ActionCentre_stories_ActionCentreTaxDates=function ActionCentreTaxDates(){return react_default.a.createElement(actionCentreModal,{store:Store.a.conversationStore,rootStore:Store.a,practiceUser:temp4,practiceId:temp3,type:"taxdates",closeActionModal:function closeActionModal(){}})},ActionCentre_stories_ActionCentreCashflow=function ActionCentreCashflow(){return react_default.a.createElement(actionCentreModal,{store:Store.a.conversationStore,rootStore:Store.a,practiceUser:temp4,practiceId:temp3,type:"cashflow",closeActionModal:function closeActionModal(){}})},ActionCentre_stories_ActionCentreIncomeTax=function ActionCentreIncomeTax(){return react_default.a.createElement(actionCentreModal,{store:Store.a.conversationStore,rootStore:Store.a,practiceUser:temp4,practiceId:temp3,type:"income-tax",closeActionModal:function closeActionModal(){}})},ActionCentre_stories_ActionCentreProvisionalEstimate=function ActionCentreProvisionalEstimate(){return react_default.a.createElement(actionCentreModal,{store:Store.a.conversationStore,rootStore:Store.a,practiceUser:temp4,practiceId:temp3,type:"provisional-estimate",closeActionModal:function closeActionModal(){}})},ActionCentre_stories_ActionCentreGSTPR=function ActionCentreGSTPR(){return react_default.a.createElement(actionCentreModal,{store:Store.a.conversationStore,rootStore:Store.a,practiceUser:temp4,practiceId:temp3,type:"gst-pr",closeActionModal:function closeActionModal(){}})},ActionCentre_stories_ActionCentreDM=function ActionCentreDM(){return react_default.a.createElement(actionCentreModal,{store:Store.a.conversationStore,rootStore:Store.a,practiceUser:temp4,practiceId:temp3,type:"direct-message",closeActionModal:function closeActionModal(){}})},ActionCentre_stories_ActionCentreMessages=function ActionCentreMessages(){return react_default.a.createElement(actionCentreModal,{store:Store.a.conversationStore,rootStore:Store.a,practiceUser:temp4,practiceId:temp3,type:"manage-messages",closeActionModal:function closeActionModal(){}})};__webpack_exports__.default={title:"Action Centre",component:ActionCentre.a,decorators:[esm.a]};ActionCentre_stories_ActionCentreReconciliation.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A549"}},ActionCentre_stories_ActionCentreTable.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A1"}},ActionCentre_stories_ActionCentreTaxDates.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A338"}},ActionCentre_stories_ActionCentreCashflow.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A338"}},ActionCentre_stories_ActionCentreIncomeTax.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A338"}},ActionCentre_stories_ActionCentreDM.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A338"}},ActionCentre_stories_ActionCentreMessages.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A338"}},ActionCentre_stories_ActionCentreGSTPR.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A338"}},ActionCentre_stories_ActionCentreProvisionalEstimate.parameters={design:{type:"figma",url:"https://www.figma.com/file/Lh4m51A56pHUS6hzIhb0yr/Advisor-Portal-(v3)?node-id=0%3A338"}},ActionCentre_stories_ActionCentreTable.parameters=Object(objectSpread2.a)({storySource:{source:"() => (<ActionCentre renderActionCentreModal={()=>{}} actionCentrePopupOpen={()=>{}} />)"}},ActionCentre_stories_ActionCentreTable.parameters),ActionCentre_stories_ActionCentreReconciliation.parameters=Object(objectSpread2.a)({storySource:{source:"() => (<ObservedActionCentreModal store={rootStore.conversationStore} rootStore={rootStore} practiceUser={temp4} practiceId={temp3} type={'reconciliation'} closeActionModal={()=>{}} />)"}},ActionCentre_stories_ActionCentreReconciliation.parameters),ActionCentre_stories_ActionCentreTaxDates.parameters=Object(objectSpread2.a)({storySource:{source:"() => (<ObservedActionCentreModal store={rootStore.conversationStore} rootStore={rootStore} practiceUser={temp4} practiceId={temp3} type={'taxdates'} closeActionModal={()=>{}} />)"}},ActionCentre_stories_ActionCentreTaxDates.parameters),ActionCentre_stories_ActionCentreCashflow.parameters=Object(objectSpread2.a)({storySource:{source:"() => (<ObservedActionCentreModal store={rootStore.conversationStore} rootStore={rootStore} practiceUser={temp4} practiceId={temp3} type={'cashflow'} closeActionModal={()=>{}} />)"}},ActionCentre_stories_ActionCentreCashflow.parameters),ActionCentre_stories_ActionCentreIncomeTax.parameters=Object(objectSpread2.a)({storySource:{source:"() => (<ObservedActionCentreModal store={rootStore.conversationStore} rootStore={rootStore} practiceUser={temp4} practiceId={temp3} type={'income-tax'} closeActionModal={()=>{}} />)"}},ActionCentre_stories_ActionCentreIncomeTax.parameters),ActionCentre_stories_ActionCentreProvisionalEstimate.parameters=Object(objectSpread2.a)({storySource:{source:"() => (<ObservedActionCentreModal store={rootStore.conversationStore} rootStore={rootStore} practiceUser={temp4} practiceId={temp3} type={'provisional-estimate'} closeActionModal={()=>{}} />)"}},ActionCentre_stories_ActionCentreProvisionalEstimate.parameters),ActionCentre_stories_ActionCentreGSTPR.parameters=Object(objectSpread2.a)({storySource:{source:"() => (<ObservedActionCentreModal store={rootStore.conversationStore} rootStore={rootStore} practiceUser={temp4} practiceId={temp3} type={'gst-pr'} closeActionModal={()=>{}} />)"}},ActionCentre_stories_ActionCentreGSTPR.parameters),ActionCentre_stories_ActionCentreDM.parameters=Object(objectSpread2.a)({storySource:{source:"() => (<ObservedActionCentreModal store={rootStore.conversationStore} rootStore={rootStore} practiceUser={temp4} practiceId={temp3} type={'direct-message'} closeActionModal={()=>{}} />)"}},ActionCentre_stories_ActionCentreDM.parameters),ActionCentre_stories_ActionCentreMessages.parameters=Object(objectSpread2.a)({storySource:{source:"() => (<ObservedActionCentreModal store={rootStore.conversationStore} rootStore={rootStore} practiceUser={temp4} practiceId={temp3} type={'manage-messages'} closeActionModal={()=>{}} />)"}},ActionCentre_stories_ActionCentreMessages.parameters),ActionCentre_stories_ActionCentreTable.__docgenInfo={description:"",methods:[],displayName:"ActionCentreTable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\ActionCentre.stories.js"]={name:"ActionCentreTable",docgenInfo:ActionCentre_stories_ActionCentreTable.__docgenInfo,path:"src\\components\\storybook\\ActionCentre.stories.js"}),ActionCentre_stories_ActionCentreReconciliation.__docgenInfo={description:"",methods:[],displayName:"ActionCentreReconciliation"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\ActionCentre.stories.js"]={name:"ActionCentreReconciliation",docgenInfo:ActionCentre_stories_ActionCentreReconciliation.__docgenInfo,path:"src\\components\\storybook\\ActionCentre.stories.js"}),ActionCentre_stories_ActionCentreTaxDates.__docgenInfo={description:"",methods:[],displayName:"ActionCentreTaxDates"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\ActionCentre.stories.js"]={name:"ActionCentreTaxDates",docgenInfo:ActionCentre_stories_ActionCentreTaxDates.__docgenInfo,path:"src\\components\\storybook\\ActionCentre.stories.js"}),ActionCentre_stories_ActionCentreCashflow.__docgenInfo={description:"",methods:[],displayName:"ActionCentreCashflow"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\ActionCentre.stories.js"]={name:"ActionCentreCashflow",docgenInfo:ActionCentre_stories_ActionCentreCashflow.__docgenInfo,path:"src\\components\\storybook\\ActionCentre.stories.js"}),ActionCentre_stories_ActionCentreIncomeTax.__docgenInfo={description:"",methods:[],displayName:"ActionCentreIncomeTax"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\ActionCentre.stories.js"]={name:"ActionCentreIncomeTax",docgenInfo:ActionCentre_stories_ActionCentreIncomeTax.__docgenInfo,path:"src\\components\\storybook\\ActionCentre.stories.js"}),ActionCentre_stories_ActionCentreProvisionalEstimate.__docgenInfo={description:"",methods:[],displayName:"ActionCentreProvisionalEstimate"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\ActionCentre.stories.js"]={name:"ActionCentreProvisionalEstimate",docgenInfo:ActionCentre_stories_ActionCentreProvisionalEstimate.__docgenInfo,path:"src\\components\\storybook\\ActionCentre.stories.js"}),ActionCentre_stories_ActionCentreGSTPR.__docgenInfo={description:"",methods:[],displayName:"ActionCentreGSTPR"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\ActionCentre.stories.js"]={name:"ActionCentreGSTPR",docgenInfo:ActionCentre_stories_ActionCentreGSTPR.__docgenInfo,path:"src\\components\\storybook\\ActionCentre.stories.js"}),ActionCentre_stories_ActionCentreDM.__docgenInfo={description:"",methods:[],displayName:"ActionCentreDM"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\ActionCentre.stories.js"]={name:"ActionCentreDM",docgenInfo:ActionCentre_stories_ActionCentreDM.__docgenInfo,path:"src\\components\\storybook\\ActionCentre.stories.js"}),ActionCentre_stories_ActionCentreMessages.__docgenInfo={description:"",methods:[],displayName:"ActionCentreMessages"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\ActionCentre.stories.js"]={name:"ActionCentreMessages",docgenInfo:ActionCentre_stories_ActionCentreMessages.__docgenInfo,path:"src\\components\\storybook\\ActionCentre.stories.js"})},195:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(709),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__(1521),__webpack_require__(680);function Button(props){var _props$variant=props.variant,variant=void 0===_props$variant?"primary":_props$variant,children=props.children;Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(props,["variant","children"]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"actionButton ".concat(variant)},children)}Button.__docgenInfo={description:"",methods:[],displayName:"Button"},__webpack_exports__.a=Button,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\storybook\\button.js"]={name:"Button",docgenInfo:Button.__docgenInfo,path:"src\\components\\storybook\\button.js"})},196:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react_materialize__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),mobx_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32),_assets_logo_png__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(302),_assets_logo_png__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_assets_logo_png__WEBPACK_IMPORTED_MODULE_7__),_stores_Store__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),Header=function(_React$Component){Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(Header,_React$Component);var _super=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(Header);function Header(props,state){var _this;return Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Header),(_this=_super.call(this,props)).state={displayDropdown:!1},_this}return Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Header,[{key:"displayDropdown",value:function displayDropdown(dropdown){this.setState({displayDropdown:dropdown})}},{key:"openLink",value:function openLink(url){this.props.authStore.triggerDropdownOpen(!1),window.open(url,"_blank")}},{key:"renderDisplayName",value:function renderDisplayName(practice,firebaseUser,aiderUser){return practice&&practice.name&&aiderUser&&aiderUser.user?react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"faded"},aiderUser.user.displayName):practice&&practice.name&&this.props.user?react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"faded"},this.props.user.displayName&&this.props.user.displayName.replace(/(.{25})..+/,"$1...")||this.props.user.email):react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",null," ")}},{key:"render",value:function render(){var _this2=this;return react__WEBPACK_IMPORTED_MODULE_4__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_5__.Row,{className:"no-padding header"},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{onClick:function onClick(){_this2.props.authStore.triggerDropdownOpen(!1)},className:"headerComponent",style:{width:"100%",height:75,backgroundColor:"#4264ea",color:"#13dfe0"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{marginLeft:45,paddingTop:20,color:"white",width:125,float:"left"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("img",{src:_assets_logo_png__WEBPACK_IMPORTED_MODULE_7___default.a,alt:"logo",width:107.5,height:30})," ")," ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{style:{position:"absolute",top:17,left:170,fontSize:32,color:"#13dfe0",whiteSpace:"nowrap"}},"Advisory Intelligence",react__WEBPACK_IMPORTED_MODULE_4__.createElement("sup",null,"™")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"left",color:"white",paddingTop:15,minWidth:200}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4__.createElement("b",{style:{fontSize:18,float:"right",height:20}},this.props.user&&this.renderDisplayName(this.props.practiceId,this.props.user,this.props.practiceUser)),react__WEBPACK_IMPORTED_MODULE_4__.createElement("br",null)," ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right"}},this.props.practiceId&&this.props.practiceId.name&&this.props.user?react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"faded"},this.props.practiceId.name.replace(/(.{25})..+/,"$1...")):react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",null," "))),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,this.props.authStore.dropdownOpen?react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{paddingTop:20,paddingLeft:80,zIndex:1e3,position:"fixed",fontSize:14}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{height:170,width:160,border:"2px solid #4264ea",borderRadius:4}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:95,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.props.authStore.triggerDropdownOpen(!1),_stores_Store__WEBPACK_IMPORTED_MODULE_8__.a.authStore.renderAdvisorsModal(!0)}},"Manage Practice")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:130,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.props.authStore.triggerDropdownOpen(!1),_this2.props.authStore.renderEditUserModal(!0)}}," ","Account Settings")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:130,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.openLink("https://ask.aider.ai/knowledge")}}," ","Knowledge Base")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:165,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.openLink("http://go.aider.ai/aip-beta-feedback")}}," ","Provide Feedback")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:95,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.props.authStore.triggerDropdownOpen(!1),_this2.props.handleSignOut()}},"Sign Out ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("i",{style:{float:"right",fontSize:22,color:"#4264ea"},className:"material-icons"},"exit_to_app")))))):null)),this.props.user?react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right",width:50,marginRight:5}}," ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.authStore.triggerDropdownOpen(!_this2.props.authStore.dropdownOpen)},style:{float:"right",color:"#13dfe0",cursor:"pointer",paddingTop:35}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("i",{className:"material-icons white-text-hover"}))):react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right",width:50,marginRight:5}})))))}}]),Header}(react__WEBPACK_IMPORTED_MODULE_4__.Component),ObservedHeader=Object(mobx_react__WEBPACK_IMPORTED_MODULE_6__.b)(Header);__webpack_exports__.a=ObservedHeader;try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{handleSignOut:{defaultValue:null,description:"",name:"handleSignOut",required:!1,type:{name:"any"}},store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},businessStore:{defaultValue:null,description:"",name:"businessStore",required:!1,type:{name:"any"}},authStore:{defaultValue:null,description:"",name:"authStore",required:!1,type:{name:"any"}},user:{defaultValue:null,description:"",name:"user",required:!1,type:{name:"any"}},practiceId:{defaultValue:null,description:"",name:"practiceId",required:!0,type:{name:"any"}},practiceUser:{defaultValue:null,description:"",name:"practiceUser",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/storybook/Header.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/storybook/Header.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}},237:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react_materialize__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(17),mobx_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(32),_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(142),_stores_Store__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1),_external_link__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(110),PaymentModal=function(_React$Component){Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(PaymentModal,_React$Component);var _super=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__.a)(PaymentModal);function PaymentModal(props){var _this;Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,PaymentModal),(_this=_super.call(this,props)).handleFeedbackFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState((function(prevState){var feedbackFormFields=prevState.feedbackFormFields;return feedbackFormFields[name]=value,{feedbackFormFields:feedbackFormFields}}))},_this.handlePromoInput=function(event){event.target.value?_this.setState({promo:event.target.value.toUpperCase()}):_this.setState({promo:event.target.value})},_this.handleSubmitPayment=function(){var _ref=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(event){var _this$props,stripe,elements,card,result;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_this.state.clickedPayment){_context.next=12;break}if(_this.setState({clickedPayment:!0}),event.preventDefault(),_this$props=_this.props,stripe=_this$props.stripe,elements=_this$props.elements,stripe&&elements){_context.next=6;break}return _context.abrupt("return");case 6:return card=elements.getElement(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_9__.CardElement),_context.next=9,stripe.createToken(card);case 9:result=_context.sent,console.log(stripe,elements,result),result.error?(console.log(result.error.message,result.error,"_stripe"),_stores_Store__WEBPACK_IMPORTED_MODULE_10__.a.businessStore.cancelSubscription(),_stores_Store__WEBPACK_IMPORTED_MODULE_10__.a.authStore.hasExceededQuota(!1),_stores_Store__WEBPACK_IMPORTED_MODULE_10__.a.authStore.renderSubscriptionCreationError(result.error.message)):(console.log(result.token),_stores_Store__WEBPACK_IMPORTED_MODULE_10__.a.businessStore.confirmSubscription(_stores_Store__WEBPACK_IMPORTED_MODULE_10__.a.authStore.links,result.token,_this.state.promo));case 12:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}();return _this.state={clickedPayment:!1,category:"",feedbackFormFields:{feedback:""},promo:""},_this}return Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(PaymentModal,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;this.props.store;return react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{id:"PaymentModal",className:"payment-modal-container"},react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_7__.CardPanel,{className:"feedback-card aiderBlue"},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{width:"100%",height:10}},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_10__.a.businessStore.cancelSubscription()},className:"grey-hover",style:{position:"absolute",top:20,right:20,float:"right",fontSize:20,fontWeight:900,color:"#505050",cursor:"pointer",paddingTop:0,paddingRight:5}},"X")),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:"feedback-holder",style:{padding:10,height:0}}),react__WEBPACK_IMPORTED_MODULE_6__.createElement("h2",{style:{color:"#4264ea",fontSize:36,textAlign:"center"}},"Continue your journey"),react__WEBPACK_IMPORTED_MODULE_6__.createElement("h3",{style:{color:"#4264ea",textAlign:"center",marginBottom:20}},"The more clients your connect, the lower the cost per client per month."),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{backgroundColor:"#4264ea"}},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{height:180,width:"75%",display:"inline-table",marginLeft:500}},react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_7__.CardPanel,{className:"promo leftMargin"},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{padding:10,textAlign:"center"}},react__WEBPACK_IMPORTED_MODULE_6__.createElement("p",{style:{fontSize:24,fontWeight:900}},"Tier 1"),react__WEBPACK_IMPORTED_MODULE_6__.createElement("span",null),react__WEBPACK_IMPORTED_MODULE_6__.createElement("p",{style:{fontSize:24}},"    $9.99 / client / month"),"up to 99 Clients"))),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{justifyContent:"center",display:"flex",marginTop:30,position:"absolute",top:175}},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{height:350,width:"90%"}},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{width:"90%",display:"inline-block",height:220,marginLeft:35}},react__WEBPACK_IMPORTED_MODULE_6__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_7__.CardPanel,{className:"creditCard"},react__WEBPACK_IMPORTED_MODULE_6__.createElement(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_9__.CardElement,{className:"bottomOutline",options:{iconStyle:"solid",hidePostalCode:!0,style:{base:{iconColor:"rgb(66,100,234)",color:"rgb(66,100,234)",fontSize:"16px",fontFamily:'"Open Sans", sans-serif',fontSmoothing:"antialiased","::placeholder":{color:"#CFD7DF"}},invalid:{color:"#e5424d",":focus":{color:"#303238"}}}}}),react__WEBPACK_IMPORTED_MODULE_6__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{display:"block"}},react__WEBPACK_IMPORTED_MODULE_6__.createElement("input",{style:{width:"50%"},tabIndex:-1,maxLength:18,type:"text",name:"promo",value:this.state.promo,className:"promo-input",onChange:function onChange(e){_this2.handlePromoInput(e)}}),react__WEBPACK_IMPORTED_MODULE_6__.createElement("label",{style:{display:"block"},className:"form-label"},"Promo Code"))),react__WEBPACK_IMPORTED_MODULE_6__.createElement("br",null)),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:"paymentButton ".concat(this.state.clickedPayment?"disabledBackground":""),onClick:function onClick(e){_this2.handleSubmitPayment(e)},style:{width:420,backgroundColor:"#4264ea",fontWeight:600,borderRadius:12,color:"white",height:60,textAlign:"center",paddingTop:10,cursor:"pointer",border:"2px solid white",marginTop:70,marginLeft:37,fontSize:22}},"Pay Now"))),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:190,color:"#4264ea"}},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{position:"relative"}},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:{color:"#4264ea",whiteSpace:"nowrap",position:"absolute",top:10,left:-250}},"Want to connect even more clients?"," ",react__WEBPACK_IMPORTED_MODULE_6__.createElement(_external_link__WEBPACK_IMPORTED_MODULE_11__.a,{href:"https://www.aider.ai/",newWindow:!0},react__WEBPACK_IMPORTED_MODULE_6__.createElement("b",{style:{color:"#00e0e1",cursor:"pointer"}},"Head over here"))," to check out our pricing"))))))}}]),PaymentModal}(react__WEBPACK_IMPORTED_MODULE_6__.Component),ObservedPaymentModal=Object(mobx_react__WEBPACK_IMPORTED_MODULE_8__.b)(PaymentModal);__webpack_exports__.a=ObservedPaymentModal;try{PaymentModal.displayName="PaymentModal",PaymentModal.__docgenInfo={description:"",displayName:"PaymentModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},stripe:{defaultValue:null,description:"",name:"stripe",required:!0,type:{name:"any"}},elements:{defaultValue:null,description:"",name:"elements",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/paymentModal.tsx#PaymentModal"]={docgenInfo:PaymentModal.__docgenInfo,name:"PaymentModal",path:"src/entities/paymentModal.tsx#PaymentModal"})}catch(__react_docgen_typescript_loader_error){}},238:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react_materialize__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),mobx_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32),mobx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),_stores_Store__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),_external_link__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(110),UserPaymentModal=function(_React$Component){Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(UserPaymentModal,_React$Component);var _super=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(UserPaymentModal);function UserPaymentModal(props){var _this;Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,UserPaymentModal),(_this=_super.call(this,props)).handleFeedbackFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState((function(prevState){var feedbackFormFields=prevState.feedbackFormFields;return feedbackFormFields[name]=value,{feedbackFormFields:feedbackFormFields}}))},_this.handlePromoInput=function(event){_this.state.promo.length<12&&_this.setState({promo:event.target.value.toUpperCase()})};return _this.state={category:"",feedbackFormFields:{feedback:""},promo:""},_this}return Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(UserPaymentModal,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){console.log("....",Object(mobx__WEBPACK_IMPORTED_MODULE_7__.toJS)(_stores_Store__WEBPACK_IMPORTED_MODULE_8__.a.authStore.practiceUser));this.props.store;return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{id:"UserPaymentModal",className:"payment-modal-container"},react__WEBPACK_IMPORTED_MODULE_4__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_5__.CardPanel,{className:"feedback-card aiderBlue"},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{width:"100%",height:10}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_8__.a.businessStore.cancelSubscription()},className:"grey-hover",style:{position:"absolute",top:20,right:20,float:"right",fontSize:20,fontWeight:900,color:"#505050",cursor:"pointer",paddingTop:0,paddingRight:5}},"X")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"feedback-holder",style:{padding:10,height:0}}),react__WEBPACK_IMPORTED_MODULE_4__.createElement("h2",{style:{color:"#4264ea",fontSize:32,textAlign:"center",marginBottom:30}},"You have reached the limit of your free usage."),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{backgroundColor:"#4264ea"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{height:180,width:"75%",display:"inline-table",marginLeft:500}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_5__.CardPanel,{className:"promo leftMargin userPositionPromo"},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{padding:10,textAlign:"center"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("p",{style:{fontSize:24,fontWeight:900}},"Tier 1"),react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",null),react__WEBPACK_IMPORTED_MODULE_4__.createElement("p",{style:{fontSize:24}},"    $9.99 / client / month"),"up to 99 Clients"))),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{justifyContent:"center",display:"flex",marginTop:30,position:"absolute",top:175}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{height:350,width:"90%"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{width:"90%",display:"inline-block",height:220,marginLeft:35}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_5__.CardPanel,{className:"creditCard userPositionCard"},react__WEBPACK_IMPORTED_MODULE_4__.createElement("h3",{style:{color:"#4264ea",textAlign:"center",marginBottom:20,fontSize:18}},"Contact your Practice Admin to upgrade your subscription and connect more clients.")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("br",null)),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"paymentButton",onClick:function onClick(e){_stores_Store__WEBPACK_IMPORTED_MODULE_8__.a.businessStore.cancelSubscription()},style:{width:420,backgroundColor:"#4264ea",fontWeight:600,borderRadius:12,color:"white",height:60,textAlign:"center",paddingTop:10,cursor:"pointer",border:"2px solid white",marginTop:30,marginLeft:255,fontSize:22}},"Okay"))),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:190,color:"#4264ea"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{position:"relative"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{color:"#4264ea",whiteSpace:"nowrap",position:"absolute",top:10,left:-250}},"Want to connect even more clients?"," ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(_external_link__WEBPACK_IMPORTED_MODULE_9__.a,{href:"https://www.aider.ai/",newWindow:!0},react__WEBPACK_IMPORTED_MODULE_4__.createElement("b",{style:{color:"#00e0e1",cursor:"pointer"}},"Head over here"))," to check out our pricing"))))))}}]),UserPaymentModal}(react__WEBPACK_IMPORTED_MODULE_4__.Component),ObservedUserPaymentModal=Object(mobx_react__WEBPACK_IMPORTED_MODULE_6__.b)(UserPaymentModal);__webpack_exports__.a=ObservedUserPaymentModal;try{UserPaymentModal.displayName="UserPaymentModal",UserPaymentModal.__docgenInfo={description:"",displayName:"UserPaymentModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/userPaymentModal.tsx#UserPaymentModal"]={docgenInfo:UserPaymentModal.__docgenInfo,name:"UserPaymentModal",path:"src/entities/userPaymentModal.tsx#UserPaymentModal"})}catch(__react_docgen_typescript_loader_error){}},240:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ActionCentre}));var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_entities_icons_action_png__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75),_entities_icons_action_png__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_entities_icons_action_png__WEBPACK_IMPORTED_MODULE_5__),_entities_icons_action_icon_inactive_png__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(303),_entities_icons_action_icon_inactive_png__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_entities_icons_action_icon_inactive_png__WEBPACK_IMPORTED_MODULE_6__),_stores_Store__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),_entities_icons_aider_icon_t_png__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(101),_entities_icons_aider_icon_t_png__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_entities_icons_aider_icon_t_png__WEBPACK_IMPORTED_MODULE_8__),_entities_icons_early_access_banner_png__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(698),_entities_icons_early_access_banner_png__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_entities_icons_early_access_banner_png__WEBPACK_IMPORTED_MODULE_9__),ActionCentre=function(_React$Component){Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(ActionCentre,_React$Component);var _super=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(ActionCentre);function ActionCentre(props,state){var _this;return Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,ActionCentre),(_this=_super.call(this,props)).state={},_this}return Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(ActionCentre,[{key:"renderActionCard",value:function renderActionCard(type){try{this.props.renderActionCentreModal(type)}catch(e){console.log("render modal error:",e,type)}}},{key:"render",value:function render(){var _this2=this;function ItemComponent(props){var author=props.author;return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"Coming Soon"===author?"":"actionCenterItem",style:{border:"2px solid #eeeeee",borderRadius:10,margin:5,backgroundColor:"white",cursor:"pointer",display:"inline-flex",width:"100%",maxWidth:"95%",height:70},onClick:props.action},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{padding:10}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"left"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{color:"#4264ea",padding:"Coming Soon"!==author?3:7,height:40,width:40,borderRadius:4,backgroundColor:"white",border:"Coming Soon"!==author?"none":"1px solid #8e8e8e"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,"Coming Soon"!==author?react__WEBPACK_IMPORTED_MODULE_4__.createElement("img",{height:40,width:40,src:_entities_icons_action_png__WEBPACK_IMPORTED_MODULE_5___default.a}):react__WEBPACK_IMPORTED_MODULE_4__.createElement("img",{src:_entities_icons_action_icon_inactive_png__WEBPACK_IMPORTED_MODULE_6___default.a})))),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right",paddingLeft:20}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("b",{style:{fontSize:16,color:"Coming Soon"===author?"#8e8e8e":"black",whiteSpace:"nowrap"}},props.name)," "," ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{style:{fontSize:12,color:"#c7c7c7",whiteSpace:"nowrap"}},props.author),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{width:"10%"}})))))}return react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"actionCenterCard"},!_stores_Store__WEBPACK_IMPORTED_MODULE_7__.a.authStore.shallowLoading&&_stores_Store__WEBPACK_IMPORTED_MODULE_7__.a.businessStore.businessListData.length<=1&&this.props.actionCentrePopupOpen?react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{padding:20,marginTop:55,marginLeft:40,marginRight:40,borderRadius:16,backgroundColor:"#fff",minHeight:320}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{color:"#4264ea",fontSize:22,fontWeight:500,lineHeight:"32px"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{height:40,marginBottom:10,width:"100%"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"left"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("img",{src:_entities_icons_aider_icon_t_png__WEBPACK_IMPORTED_MODULE_8___default.a,height:30,width:30}))," ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{onClick:function onClick(){_stores_Store__WEBPACK_IMPORTED_MODULE_7__.a.authStore.closeActionCentrePopup()},className:"grey-hover",style:{float:"right",fontSize:20,fontWeight:900,color:"#c7c7c7",cursor:"pointer"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,"X"))),react__WEBPACK_IMPORTED_MODULE_4__.createElement("p",null,"Once you have a client connected, you can automate reminders like key tax dates and tax estimates to help your clients proactively manage their cashflow and keep them on top of their business performance."))):react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"fadedshort scrollbar",style:{maxHeight:550,paddingTop:10,paddingLeft:5}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(ItemComponent,{action:function action(){_this2.renderActionCard("reconciliation")},name:"Send Client Reconciliation Request",author:"Send/Auto-schedule your clients bank reconciliation."}),react__WEBPACK_IMPORTED_MODULE_4__.createElement(ItemComponent,{action:function action(){_this2.renderActionCard("taxdates")},name:"Send Client GST due Dates",author:"Send/Auto-schedule your clients GST due dates."}),react__WEBPACK_IMPORTED_MODULE_4__.createElement(ItemComponent,{action:function action(){return _this2.renderActionCard("income-tax")},name:"Send Income Tax Estimate",author:"Send your clients an income tax estimate"}),react__WEBPACK_IMPORTED_MODULE_4__.createElement(ItemComponent,{action:function action(){_this2.renderActionCard("cashflow")},name:"Send Client Cash Flow Check ",author:"Send/Auto-schedule your clients cash flow forecast."}),react__WEBPACK_IMPORTED_MODULE_4__.createElement(ItemComponent,{action:function action(){return _this2.renderActionCard("manage-messages")},name:"Manage Scheduled Messages",author:"Manage your client's scheduled messages"}),react__WEBPACK_IMPORTED_MODULE_4__.createElement(ItemComponent,{action:function action(){return _this2.renderActionCard("provisional-estimate")},name:"Send Provisional Income Tax Estimate",author:"Coming Soon"}),react__WEBPACK_IMPORTED_MODULE_4__.createElement(ItemComponent,{action:function action(){return _this2.renderActionCard("gst-pr")},name:"Send GST Estimate",author:"Coming Soon"}),react__WEBPACK_IMPORTED_MODULE_4__.createElement(ItemComponent,{action:function action(){},name:"Run Monthly Performance Summary",author:"Coming Soon"}),react__WEBPACK_IMPORTED_MODULE_4__.createElement(ItemComponent,{action:function action(){},name:"Create Client Agenda",author:"Coming Soon"})),!_stores_Store__WEBPACK_IMPORTED_MODULE_7__.a.authStore.shallowLoading&&"Loading..."!==_stores_Store__WEBPACK_IMPORTED_MODULE_7__.a.businessStore.selectedBusinessData.name&&react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right",color:"#4264ea",position:"fixed",bottom:0,right:0}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("img",{height:120,width:120,src:_entities_icons_early_access_banner_png__WEBPACK_IMPORTED_MODULE_9___default.a}),react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{style:{zIndex:-1,position:"absolute",bottom:0,right:0}},Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_VERSION)))}}]),ActionCentre}(react__WEBPACK_IMPORTED_MODULE_4__.Component);try{ActionCentre.displayName="ActionCentre",ActionCentre.__docgenInfo={description:"",displayName:"ActionCentre",props:{renderActionCentreModal:{defaultValue:null,description:"",name:"renderActionCentreModal",required:!0,type:{name:"any"}},actionCentrePopupOpen:{defaultValue:null,description:"",name:"actionCentrePopupOpen",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ActionCentre.tsx#ActionCentre"]={docgenInfo:ActionCentre.__docgenInfo,name:"ActionCentre",path:"src/components/ActionCentre.tsx#ActionCentre"})}catch(__react_docgen_typescript_loader_error){}},241:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAYBAMAAAArPpGQAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABtQTFRF////6Ojo2dnZ2tra19fX/Pz86enp3Nzc6+vrFvSGXQAAACtJREFUeJxjYFQWYBBxcWRQcXEGYxAbJIYMwsoboGrcwbjFxYOBEShGhBoAM6gNidfEsjoAAAAASUVORK5CYII="},26:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return makeGetRequest})),__webpack_require__.d(__webpack_exports__,"e",(function(){return makePostRequest})),__webpack_require__.d(__webpack_exports__,"a",(function(){return initializeBackendTokens})),__webpack_require__.d(__webpack_exports__,"b",(function(){return initializeNewBusinessBackendTokens})),__webpack_require__.d(__webpack_exports__,"c",(function(){return initializeNewXeroBusinessBackendTokens})),__webpack_require__.d(__webpack_exports__,"g",(function(){return refreshTokensVerbose})),__webpack_require__.d(__webpack_exports__,"f",(function(){return refreshTokens}));var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51),js_cookie__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),js_cookie__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_3__),qs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(53),qs__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_4__),_stores_Store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_sentry_browser__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1536),jsonReponse=function jsonReponse(response){return response.text().then((function(text){return text?JSON.parse(text):{}}))},makeApiRequest=function makeApiRequest(url,method){var headers=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},body=arguments.length>3?arguments[3]:void 0,request={method:method,headers:Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY},headers)};return body&&(request.body=body),fetch(url,request).then(function(){var _ref=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(response){var jsonData,error;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,jsonReponse(response);case 2:if(jsonData=_context.sent,!response.ok){_context.next=5;break}return _context.abrupt("return",jsonData);case 5:return error={},error=jsonData._embedded&&jsonData._embedded.error?jsonData._embedded.error:jsonData,_context.abrupt("return",Promise.reject(error));case 8:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}()).catch((function(e){console.log("post error:",e),"Cannot read property 'conversation' of undefined"===e.message&&_stores_Store__WEBPACK_IMPORTED_MODULE_5__.a.conversationStore.setResponseLoading(!1)}))},makeGetRequest=function makeGetRequest(url,headers){return makeApiRequest(url,"GET",headers)},makePostRequest=function makePostRequest(url,headers,body){return makeApiRequest(url,"POST",headers,body)},updateTokensExpiry=function updateTokensExpiry(tokens){try{return tokens.expiresAt=Math.floor(Date.now()/1e3)+900,tokens}catch(e){return tokens.expiresAt=Math.floor(Date.now()/1e3)+900,tokens}},updateTokensExpiryVerbose=function updateTokensExpiryVerbose(tokens){try{return tokens.expiresAt=Math.floor(Date.now()/1e3)+900,tokens}catch(e){return _sentry_browser__WEBPACK_IMPORTED_MODULE_6__.a(e),tokens.expiresAt=Math.floor(Date.now()/1e3)+900,tokens}},initializeBackendTokens=function(){var _ref3=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee3(apiLinks,idToken){var headers,body,backendTokens,access_token,refresh_token,id_token;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token"},_context3.prev=2,_context3.next=5,makePostRequest(apiLinks.tokens.href,headers,qs__WEBPACK_IMPORTED_MODULE_4___default.a.stringify(body)).then(updateTokensExpiry);case 5:return backendTokens=_context3.sent,js_cookie__WEBPACK_IMPORTED_MODULE_3___default.a.set(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_BACKEND_TOKENS_COOKIE_NAME,backendTokens,{domain:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_COOKIE_DOMAIN}),access_token=backendTokens.access_token,refresh_token=backendTokens.refresh_token,id_token=backendTokens.id_token,_context3.abrupt("return",{access_token:access_token,refresh_token:refresh_token,id_token:id_token});case 11:_context3.prev=11,_context3.t0=_context3.catch(2);case 13:case"end":return _context3.stop()}}),_callee3,null,[[2,11]])})));return function initializeBackendTokens(_x4,_x5){return _ref3.apply(this,arguments)}}(),initializeNewBusinessBackendTokens=function(){var _ref4=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee4(apiLinks,idToken,businessId,authStore){var headers,body,backendTokens,access_token,refresh_token,id_token,expiresAt;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(apiLinks.businesses.href,"/").concat(businessId)},_context4.next=4,makePostRequest(apiLinks.tokens.href,headers,qs__WEBPACK_IMPORTED_MODULE_4___default.a.stringify(body)).then(updateTokensExpiry);case 4:return backendTokens=_context4.sent,authStore.registerNewBusinessToken(backendTokens,businessId),access_token=backendTokens.access_token,refresh_token=backendTokens.refresh_token,id_token=backendTokens.id_token,expiresAt=backendTokens.expiresAt,_context4.abrupt("return",{access_token:access_token,refresh_token:refresh_token,id_token:id_token,expiresAt:expiresAt});case 8:case"end":return _context4.stop()}}),_callee4)})));return function initializeNewBusinessBackendTokens(_x6,_x7,_x8,_x9){return _ref4.apply(this,arguments)}}(),initializeNewXeroBusinessBackendTokens=function(){var _ref5=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee5(apiLinks,idToken,businessId,authStore){var headers,body,backendTokens,access_token,refresh_token,id_token,expiresAt;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:idToken,subject_token_type:"urn:ietf:params:oauth:token-type:id_token",resource:"".concat(apiLinks.businesses.href,"/").concat(businessId)},_context5.prev=2,_context5.next=5,makePostRequest(apiLinks.tokens.href,headers,qs__WEBPACK_IMPORTED_MODULE_4___default.a.stringify(body));case 5:return backendTokens=_context5.sent,access_token=backendTokens.access_token,refresh_token=backendTokens.refresh_token,id_token=backendTokens.id_token,expiresAt=backendTokens.expiresAt,_context5.abrupt("return",{access_token:access_token,refresh_token:refresh_token,id_token:id_token,expiresAt:expiresAt});case 10:_context5.prev=10,_context5.t0=_context5.catch(2),console.log("error initializing tokens for new xero business,",_context5.t0);case 13:case"end":return _context5.stop()}}),_callee5,null,[[2,10]])})));return function initializeNewXeroBusinessBackendTokens(_x10,_x11,_x12,_x13){return _ref5.apply(this,arguments)}}(),refreshTokensVerbose=function(){var _ref6=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee6(apiLinks,tokens){var backendTokens,headers,body,refreshedTokens;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return backendTokens=tokens,headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"refresh_token",refresh_token:backendTokens.refresh_token},_context6.next=5,makePostRequest(apiLinks.tokens.href,headers,qs__WEBPACK_IMPORTED_MODULE_4___default.a.stringify(body)).then((function(tokens){return updateTokensExpiryVerbose(tokens)}));case 5:return refreshedTokens=_context6.sent,_context6.abrupt("return",refreshedTokens);case 7:case"end":return _context6.stop()}}),_callee6)})));return function refreshTokensVerbose(_x14,_x15){return _ref6.apply(this,arguments)}}(),refreshTokens=function(){var _ref7=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee7(apiLinks){var store,backendTokens,headers,body,refreshedTokens;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(store=_stores_Store__WEBPACK_IMPORTED_MODULE_5__.a.authStore,backendTokens={access_token:store.access_token,id_token:store.id_token,refresh_token:store.refresh_token},headers={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(btoa("".concat(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY)))},body={grant_type:"refresh_token",refresh_token:backendTokens.refresh_token},!(Math.floor(Date.now()/1e3)+Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).BACKEND_TOKENS_EXPIRATION_OFFSET_SECONDS>=backendTokens.expiresAt)){_context7.next=11;break}return _context7.next=8,makePostRequest(apiLinks.tokens.href,headers,qs__WEBPACK_IMPORTED_MODULE_4___default.a.stringify(body)).then(updateTokensExpiry);case 8:return refreshedTokens=_context7.sent,js_cookie__WEBPACK_IMPORTED_MODULE_3___default.a.set(Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_BACKEND_TOKENS_COOKIE_NAME,refreshedTokens,{domain:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_COOKIE_DOMAIN}),_context7.abrupt("return",refreshedTokens);case 11:return _context7.abrupt("return",backendTokens);case 12:case"end":return _context7.stop()}}),_callee7)})));return function refreshTokens(_x16){return _ref7.apply(this,arguments)}}()},302:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/logo.077284c6.png"},303:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAYAAABCIB6VAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAFqADAAQAAAABAAAAFQAAAAB4SWuwAAACcUlEQVQ4EZ1Uv2sUQRTemTtPTEiTAxFbaznJLpgrA+IuQbASBPFHYRG7NMHG0wRiI1qIYKH+ASKCVrtLmhSGXITT7iSWSaHk1x1JSEyIt+P37WXI3u3t3Z6v2Pfmzfu+efPm7RMGRCklPG9pQgh1G+YleM7Qn0aEMH5KOWjadmEvGi9J6vvlTyB7rZRR7IeURMCcVWrvtCb1/cVh2sJ1yw9IipMPlJIl+NxMRvzRgb10Pp9Zsyxrn3G+v1QKAjUNvpls8/o8WZbGx0ef9yJK2ve88pMgCEBqGFKKXygFaxqKe6z7Vq67+BglnSYQpE8dp/hOItfwofq5fvRkkmI9EyF9FNrRINqVSmWgWq3m2v2d1kmkjEXGJ0LS9fWjldXV7R9zc9/Pn+zELdYU3limOrKF2DTNAzzmNlroQqNx6C4sLA/pwKjuUNPw+tH4FmIhRCBl7hpI6niMwu5u7SNucaqdFOtYpr7/tbCzU9/ETV4yvoWYDtu2lqXMXEdfHyLzqxsbR2/op3SrKRK5iEbIAWMyNstPuzjO5S/4G+/A/x6Ae8hiBTrAOpZpO1avYxnrDfTiB5RmimuQdn0ojYnqRGIGOc7oC5C/0oDj5g8fSvuSdFdigkA+CfUZB8ziFqlIietYY25oYafMz6sbY2Pir/al0RLAWjNQheOuEygNKbooTyz0FjWGkPGNRqOh7lP/j7DX8cDsIj50yJeV0niGCXcFjgn06TkhpIf9cL6mO0QNo9fvAj+C+Dp+sLfECX4w7B/iV55F9j1rzvgEqWNC3rLtIhNrEtPADzGCzG/iZM7nAfrSCGpaA6bCTB3H+q0x/wAbDRcaIdHN7wAAAABJRU5ErkJggg=="},435:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react_materialize__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),mobx_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32),_assets_logo_png__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(302),_assets_logo_png__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_assets_logo_png__WEBPACK_IMPORTED_MODULE_7__),_stores_Store__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),mobx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),Header=function(_React$Component){Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(Header,_React$Component);var _super=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(Header);function Header(props,state){var _this;return Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Header),(_this=_super.call(this,props)).state={displayDropdown:!1},_this}return Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Header,[{key:"displayDropdown",value:function displayDropdown(dropdown){this.setState({displayDropdown:dropdown})}},{key:"openLink",value:function openLink(url){this.props.authStore.triggerDropdownOpen(!1),window.open(url,"_blank")}},{key:"renderDisplayName",value:function renderDisplayName(practice,firebaseUser,aiderUser){return practice&&practice.name&&aiderUser&&aiderUser.user?react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"faded"},aiderUser.user.displayName):practice&&practice.name&&this.props.user?react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"faded"},this.props.user.displayName&&this.props.user.displayName.replace(/(.{25})..+/,"$1...")||this.props.user.email):react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",null," ")}},{key:"render",value:function render(){var _this2=this;return console.log("user",this.props.user,Object(mobx__WEBPACK_IMPORTED_MODULE_9__.toJS)(this.props.authStore.practiceUser),Object(mobx__WEBPACK_IMPORTED_MODULE_9__.toJS)(this.props.businessStore.practiceId)),react__WEBPACK_IMPORTED_MODULE_4__.createElement(react_materialize__WEBPACK_IMPORTED_MODULE_5__.Row,{className:"no-padding header"},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{onClick:function onClick(){_this2.props.authStore.triggerDropdownOpen(!1)},className:"headerComponent",style:{width:"100%",height:75,backgroundColor:"#4264ea",color:"#13dfe0"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{marginLeft:45,paddingTop:20,color:"white",width:125,float:"left"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("img",{src:_assets_logo_png__WEBPACK_IMPORTED_MODULE_7___default.a,alt:"logo",width:107.5,height:30})," ")," ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{style:{position:"absolute",top:17,left:170,fontSize:32,color:"#13dfe0",whiteSpace:"nowrap"}},"Advisory Intelligence",react__WEBPACK_IMPORTED_MODULE_4__.createElement("sup",null,"™")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"left",color:"white",paddingTop:15,minWidth:200}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4__.createElement("b",{style:{fontSize:18,float:"right",height:20}},this.props.user&&this.renderDisplayName(this.props.businessStore.practiceId,this.props.user,this.props.authStore.practiceUser)),react__WEBPACK_IMPORTED_MODULE_4__.createElement("br",null)," ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right"}},this.props.businessStore.practiceId&&this.props.businessStore.practiceId.name&&this.props.user?react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",{className:"faded"},this.props.businessStore.practiceId.name.replace(/(.{25})..+/,"$1...")):react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",null," "))),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,this.props.authStore.dropdownOpen?react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{paddingTop:20,paddingLeft:80,zIndex:1e3,position:"fixed",fontSize:14}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{height:170,width:160,border:"2px solid #4264ea",borderRadius:4}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:95,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.props.authStore.triggerDropdownOpen(!1),_stores_Store__WEBPACK_IMPORTED_MODULE_8__.a.authStore.renderAdvisorsModal(!0)}},"Manage Practice")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:130,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.props.authStore.triggerDropdownOpen(!1),_this2.props.authStore.renderEditUserModal(!0)}}," ","Account Settings")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:130,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.openLink("https://ask.aider.ai/knowledge")}}," ","Knowledge Base")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:165,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.openLink("http://go.aider.ai/aip-beta-feedback")}}," ","Provide Feedback")),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{borderRadius:4,top:95,height:"auto",width:"100%",backgroundColor:"#ececec",border:"0.5px solid #f5f4fa"}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this2.props.authStore.triggerDropdownOpen(!1),_this2.props.handleSignOut()}},"Sign Out ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("i",{style:{float:"right",fontSize:22,color:"#4264ea"},className:"material-icons"},"exit_to_app")))))):null)),this.props.user?react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right",width:50,marginRight:5}}," ",react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.authStore.triggerDropdownOpen(!_this2.props.authStore.dropdownOpen)},style:{float:"right",color:"#13dfe0",cursor:"pointer",paddingTop:35}},react__WEBPACK_IMPORTED_MODULE_4__.createElement("i",{className:"material-icons white-text-hover"},"keyboard_arrow_down"))):react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:{float:"right",width:50,marginRight:5}})))))}}]),Header}(react__WEBPACK_IMPORTED_MODULE_4__.Component);Object(mobx_react__WEBPACK_IMPORTED_MODULE_6__.b)(Header);try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{handleSignOut:{defaultValue:null,description:"",name:"handleSignOut",required:!1,type:{name:"any"}},store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},businessStore:{defaultValue:null,description:"",name:"businessStore",required:!1,type:{name:"any"}},authStore:{defaultValue:null,description:"",name:"authStore",required:!1,type:{name:"any"}},user:{defaultValue:null,description:"",name:"user",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Header.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/Header.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}},44:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return makeGetRequest})),__webpack_require__.d(__webpack_exports__,"c",(function(){return makeHeadRequest})),__webpack_require__.d(__webpack_exports__,"d",(function(){return makePostRequest})),__webpack_require__.d(__webpack_exports__,"a",(function(){return makeDeleteRequest})),__webpack_require__.d(__webpack_exports__,"e",(function(){return makePutRequest}));var C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51),jsonReponse=(__webpack_require__(1387),function jsonReponse(response){return response.text().then((function(text){return text?JSON.parse(text):{}}))}),makeApiRequest=function makeApiRequest(url,method){var headers=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},body=arguments.length>3?arguments[3]:void 0,request={method:method,headers:Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({"X-API-Key":Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_API_KEY},headers)};return body&&(request.body=body),fetch(url,request).then(function(){var _ref=Object(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(response){var jsonData,error;return C_Users_Alex_WebstormProjects_advisory_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,jsonReponse(response);case 2:if(jsonData=_context.sent,!response.ok){_context.next=5;break}return _context.abrupt("return",jsonData);case 5:return error={},error=jsonData._embedded&&jsonData._embedded.error?jsonData._embedded.error:jsonData,_context.abrupt("return",Promise.reject(error));case 8:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}())},makeGetRequest=function makeGetRequest(url,headers){return makeApiRequest(url,"GET",headers)},makeHeadRequest=function makeHeadRequest(url,headers){return makeApiRequest(url,"HEAD",headers)},makePostRequest=function makePostRequest(url,headers,body){return makeApiRequest(url,"POST",headers,body)},makeDeleteRequest=function makeDeleteRequest(url,headers,body){return makeApiRequest(url,"DELETE",headers,body)},makePutRequest=function makePutRequest(url,headers){return makeApiRequest(url,"PUT",headers)}},443:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/Aider-loader.8453b4fd.gif"},680:function(module,exports,__webpack_require__){},681:function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator=__webpack_require__(3),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(7),classCallCheck=__webpack_require__(9),createClass=__webpack_require__(10),assertThisInitialized=__webpack_require__(301),inherits=__webpack_require__(14),createSuper=__webpack_require__(13),react=__webpack_require__(0),react_default=__webpack_require__.n(react),toConsumableArray=__webpack_require__(199),mobxreact_esm=__webpack_require__(32),index_es=__webpack_require__(446),Store=__webpack_require__(1),components=__webpack_require__(11),icons_inbox=__webpack_require__(693),inbox_default=__webpack_require__.n(icons_inbox),people=__webpack_require__(694),people_default=__webpack_require__.n(people),aider_icon_t=__webpack_require__(101),aider_icon_t_default=__webpack_require__.n(aider_icon_t),icons_apps=__webpack_require__(695),apps_default=__webpack_require__.n(icons_apps),moment=__webpack_require__(56),moment_default=__webpack_require__.n(moment),BusinessNavigator_BusinessNavigator=function(_React$Component){Object(inherits.a)(BusinessNavigator,_React$Component);var _super=Object(createSuper.a)(BusinessNavigator);function BusinessNavigator(props){Object(classCallCheck.a)(this,BusinessNavigator);return _super.call(this,props)}return Object(createClass.a)(BusinessNavigator,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){var _this2=this;if(prevProps.clientSyncsForCurrentBusiness&&this.props.clientSyncsForCurrentBusiness){var timestamp=prevProps.clientSyncsForCurrentBusiness.docs.sort((function(a,b){return b.data.updatedAt-a.data.updatedAt}))[0];if(timestamp&&timestamp.data&&Store.a.advisorChatStore.lastTimestampRecievedForAllUsers.seconds!==timestamp.data.updatedAt.seconds){Store.a.advisorChatStore.setLastTimeRecievedForAllUsers(timestamp.data.updatedAt);var userToSelect=Store.a.businessStore.selectedBusinessUsers.find((function(user){return user.id===timestamp.data.userId}));userToSelect&&Store.a.advisorChatStore.notificationsToggled&&(Store.a.advisorChatStore.setSelectedConversationNameToRefresh("".concat(userToSelect.displayName)),Store.a.advisorChatStore.setSelectedUserIdToRefresh(timestamp.data.userId),Store.a.advisorChatStore.setNewMessageRecievedForSelectedBusiness(timestamp.data.userId),Store.a.advisorChatStore.getConversationMessagesWithUserIdLoading(timestamp.data.userId).then((function(res){if(res&&res._embedded){var prevCmp=prevProps.selectedConversationMessages.pop(),currCmp=_this2.props.selectedConversationMessages.pop(),resCmp=Object(toConsumableArray.a)(res._embedded.conversation.messages).pop();if(prevCmp===currCmp&&(prevCmp&&prevCmp.id)===(currCmp&&currCmp.id)||Store.a.advisorChatStore.setHasNewMessages(!0),void 0===prevCmp&&currCmp!==resCmp&&Store.a.advisorChatStore.setHasNewMessages(!0),currCmp){var epoch=moment_default()(currCmp.createdAt).unix();(Date.now()/1e3-epoch>60||"advisor"===resCmp.senderRole)&&(console.log("nobadge@",epoch),Store.a.advisorChatStore.setHasNewMessages(!1))}}})))}}}},{key:"renderVisibleApps",value:function renderVisibleApps(connectedApps){return connectedApps.map((function(app){return Store.a.authStore.apps.map((function(apps){if(app.appKey==apps.appKey)return react.createElement("div",{style:{width:"auto",height:60,display:"flex",alignContent:"center"}},react.createElement("div",{style:{float:"left"}},apps._links.logo&&react.createElement("div",{style:{height:48,width:48,marginRight:5}},react.createElement("img",{style:{float:"right"},className:"brandImage",src:"".concat(apps._links.logo.href),alt:"logo"}))),react.createElement("div",{style:{float:"right",display:"flex",alignItems:"center",fontSize:11,marginBottom:20,color:"#8e8e8e"}}," ",apps.name," "))}))}))}},{key:"renderVisibleUsers",value:function renderVisibleUsers(users,advisors){var userRendering=users.map((function(user){return react.createElement("div",{style:{width:"auto",height:30,display:"flex",alignContent:"center"}},react.createElement("div",{style:{float:"right",display:"flex",alignItems:"center",fontSize:11,marginBottom:10,marginTop:10,color:"#8e8e8e"}}," ",react.createElement("span",{style:{color:"#fff"}},user.displayName)," "))})),advisorRendering=advisors.map((function(user){return react.createElement("div",{style:{width:"auto",height:30,display:"flex",alignContent:"center"}},react.createElement("div",{style:{float:"right",display:"flex",alignItems:"center",fontSize:11,marginBottom:10,marginTop:10,color:"#8e8e8e"}}," ",react.createElement("span",{style:{color:"#fff"}},user.displayName)," "))}));return react.createElement(react.Fragment,null,users.length>=1&&react.createElement("div",{style:{color:"#4264ea",fontWeight:900}},"Clients"),userRendering,advisors.length>=1&&react.createElement("div",{style:{color:"#4264ea",fontWeight:900}},"Advisors"),advisorRendering)}},{key:"businessRenderer",value:function businessRenderer(store){var _this3=this;if(!Store.a.authStore.shallowLoading&&store.businessListData.length<=1&&Store.a.authStore.businessNavigatorPopupOpen)return react.createElement("tr",null,react.createElement("div",{className:"fadedshort",style:{padding:40,color:"#505050"}},react.createElement("div",{style:{padding:20,marginTop:35,marginLeft:40,marginRight:40,borderRadius:16,backgroundColor:"#f5f4fa",height:270}},react.createElement("div",{style:{color:"#4264ea",fontSize:26,fontWeight:500,lineHeight:"32px"}},react.createElement("div",{style:{height:40,width:"100%",marginBottom:10}},react.createElement("div",{style:{float:"left"}},react.createElement("img",{src:aider_icon_t_default.a,height:30,width:30}))," ",react.createElement("div",{onClick:function onClick(){Store.a.authStore.closeBusinessNavigatorPopup()},className:"grey-hover",style:{float:"right",fontSize:20,fontWeight:900,color:"#c7c7c7",cursor:"pointer"}},react.createElement("div",null,"X"))),react.createElement("div",null,react.createElement("div",{style:{width:"100%",height:80}},react.createElement("span",null,"Hi"," ",Store.a.authStore.practiceUser.user.givenName.replace(/(.{18})..+/,"$1"),", start with adding your clients using the")," ",react.createElement("div",{style:{marginLeft:5,marginRight:5,width:40,float:"none",display:"inline-block",cursor:"default"},onClick:function onClick(){},className:"addBusiness textButton"},"+")," ",react.createElement("div",{style:{display:"inline"}},"button above.")))))));Store.a.businessStore.practiceId&&Store.a.businessStore.practiceId.id;return store.businessListData.filter((function(i){return!0})).map((function(e,i){var businessDetail=Store.a.businessStore.businessListDetail.find((function(i){return i.businessId===e.id})),unreadNotifications=businessDetail?null!==businessDetail.unreadNotifications?businessDetail.unreadNotifications:"null":0,fields=businessDetail?{taxRate:businessDetail.profile&&businessDetail.profile.taxRate||e.profile&&e.profile.taxRate||"",lineOfBusiness:businessDetail.data&&businessDetail.data.lineOfBusiness||"",taxNumber:businessDetail.data&&businessDetail.data.taxNumber||"",salesTaxBasis:businessDetail.data&&businessDetail.data.salesTaxBasis||"",salesTaxPeriod:businessDetail.data&&businessDetail.data.salesTaxPeriod||"",financialYearEnd:businessDetail.data&&"".concat(businessDetail.data.financialYearEnd,"/YYYY")||"",address:businessDetail.profile&&businessDetail.profile.address||e.profile&&e.profile.address||businessDetail.data&&businessDetail.data.address||"  ",operationalExpensesSource:businessDetail.profile&&businessDetail.profile.operationalExpensesSource||e.profile&&e.profile.operationalExpensesSource||"",salesSource:businessDetail.profile&&businessDetail.profile.salesSource||e.profile&&e.profile.salesSource||"",purchasesSource:businessDetail.profile&&businessDetail.profile.purchasesSource||e.profile&&e.profile.purchasesSource||"",reconciledDays:businessDetail.profile&&businessDetail.profile.reconciledDays||e.profile&&e.profile.reconciledDays||"",incomeTax:businessDetail.profile&&businessDetail.profile.incomeTax||e.profile&&e.profile.incomeTax||"",taxAgent:businessDetail.profile&&businessDetail.profile.taxAgent||e.profile&&e.profile.taxAgent||"",payrollTax:businessDetail.profile&&businessDetail.profile.payrollTax||e.profile&&e.profile.payrollTax||"",fringeBenefitTax:businessDetail.profile&&businessDetail.profile.fringeBenefitTax||e.profile&&e.profile.fringeBenefitTax||"",dividendWithholdingTax:businessDetail.profile&&businessDetail.profile.dividendWithholdingTax||e.profile&&e.profile.dividendWithholdingTax||"",disconnected:businessDetail.disconnected||!1}:{taxRate:"",lineOfBusiness:"",taxNumber:"",salesTaxBasis:"",salesTaxPeriod:"",financialYearEnd:"",address:"  ",operationalExpensesSource:"",salesSource:"",purchasesSource:"",reconciledDays:"",incomeTax:"",taxAgent:"",payrollTax:"",fringeBenefitTax:"",dividendWithholdingTax:"",disconnected:!1};return businessDetail&&Store.a.businessStore.practiceId&&businessDetail.businessId===Store.a.businessStore.practiceId.id?null:react.createElement("div",{className:"expand",key:"".concat(e.id,"-").concat(i)},react.createElement("tr",{className:"".concat(e.id===store.selectedBusinessId?"z-depth-1":"row-hoverable"),key:"row-".concat(e.id,"-").concat(i),style:{borderBottom:store.selectedBusinessId!==e.id?"#f1f1f1 1px solid":"none",cursor:"pointer",backgroundColor:e.id===store.selectedBusinessId?"#f5f4fa":"inherit",height:80},onClick:function onClick(){_this3.props.setSelectedBusinessName(e.name),_this3.props.fetchBusinessDetailedData(e.id,fields),store.selectBusiness2(e.id,(function(){}))}},react.createElement("td",{style:{width:"1%",backgroundColor:e.id===store.selectedBusinessId?"#13dfe0":"inherit"}}," "),react.createElement("td",{style:{width:"20%",paddingLeft:15,maxWidth:200,minWidth:160}},react.createElement("b",{style:{color:e.id===store.selectedBusinessId?"black":"#505050",fontSize:16}},e.name.replace(/(.{21})..+/,"$1..."))," "," ",react.createElement("br",null),businessDetail&&businessDetail.usersCount>=1?react.createElement("div",{style:{fontSize:14,color:e.id===store.selectedBusinessId?"#1f43ca":"#4264ea",fontWeight:900}},"Invite accepted"):businessDetail&&businessDetail.invitesSent.length>=1?react.createElement("div",{style:{fontSize:14,color:e.id===store.selectedBusinessId?"#e5712a":"#ff902c",fontWeight:900}},"Invite pending"):react.createElement("div",{style:{fontSize:14,color:"#505050",fontWeight:900}},"Invite not sent")),react.createElement("td",{style:{width:"30%",maxWidth:200,minWidth:135}},"null"!=unreadNotifications&&react.createElement("div",{className:"fadedshort",style:{display:"flex",justifyContent:"center",fontSize:14,color:e.id===store.selectedBusinessId?"black":"#505050",fontWeight:900}},businessDetail&&businessDetail.disconnected?react.createElement("div",{style:{display:"inline",position:"relative",color:"#ff902c",fontSize:12}},react.createElement("i",{style:{left:-30,position:"absolute",bottom:.5},className:"material-icons"},"error_outline")," Xero disconnected"):null)),react.createElement("td",{style:{width:"23%",minWidth:145}},react.createElement("div",{style:{float:"left",minHeight:45}},"null"!=unreadNotifications?react.createElement("div",{className:"circleBase standard orange faded"},react.createElement("span",{className:"circleText"},unreadNotifications<=9?unreadNotifications:react.createElement("span",null,"9",react.createElement("sup",null,"+")))):components.u),react.createElement("div",{style:{float:"right",minHeight:45,paddingRight:0,marginRight:5}},businessDetail&&businessDetail.allCount<1?react.createElement("div",{className:"circleBase standard faded"},react.createElement("span",{className:"circleText"},"0")):react.createElement("div",{"data-tip":!0,"data-for":"".concat(e.id,"-users-").concat(e.name)}," ",react.createElement("div",{className:"circleBase standard faded"},react.createElement("span",{className:"circleText"},businessDetail&&businessDetail.allCount),react.createElement(index_es.a,{className:"tooltipAlign",place:"right",id:"".concat(e.id,"-users-").concat(e.name)},(businessDetail&&businessDetail.users||businessDetail&&businessDetail.advisors)&&_this3.renderVisibleUsers(businessDetail.users,businessDetail.advisors))))),react.createElement("div",{style:{display:"inline-block",width:"42%"}},react.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginLeft:10,marginRight:5}},react.createElement("div",{"data-tip":!0,"data-for":"".concat(e.id,"-").concat(e.name)},react.createElement("div",{className:"circleBase standard",style:{backgroundColor:"#4264ea"}},react.createElement("span",{className:"circleText",style:{color:"white"}},businessDetail&&businessDetail.connectedApps&&businessDetail.connectedApps.length,react.createElement(index_es.a,{className:"tooltipAlign",place:"right",id:"".concat(e.id,"-").concat(e.name)},_this3.renderVisibleApps(businessDetail?businessDetail.connectedApps:[]))))))))),businessDetail&&store.selectedBusinessId===e.id&&react.createElement("tr",{style:{borderBottom:"none",borderRadius:4,backgroundColor:e.id===store.selectedBusinessId?"#f5f4fa":"inherit"}},react.createElement("td",{style:{width:"1%"}}," "),businessDetail.disconnected?react.createElement("td",{style:{height:65,color:store.loading?"transparent":"black",width:"20%"}},react.createElement("div",{style:{color:"#8e8e8e",fontWeight:900,paddingLeft:15,width:130,overflowX:"visible"}},react.createElement("p",{style:{whiteSpace:"pre"}},"Business has been disconnected."),react.createElement("p",{style:{whiteSpace:"pre"}},react.createElement("b",{style:{color:"#4264ea",textDecorationColor:"#4264ea",textDecoration:"underline",cursor:"pointer"},onClick:function onClick(){_this3.props.reconnectBusiness()}},"Reconnect Xero.")))):react.createElement("td",{style:{height:65,color:store.loading?"transparent":"black",width:"20%"}},react.createElement("div",{style:{color:"#8e8e8e",fontWeight:900,paddingLeft:15}},react.createElement("div",{className:"dataCell"},"Business:"),react.createElement("div",{className:"dataCell"},"GST Number:"),react.createElement("div",{className:"dataCell"},"Sales tax:"),react.createElement("div",{className:"dataCell"},"Tax period:"),react.createElement("div",{className:"dataCell"},"Tax rate:"),react.createElement("div",{className:"dataCell"},"Phone:"),react.createElement("div",{className:"dataCell"},"Address:")),react.createElement("div",{className:"buttonCell"},react.createElement("button",{onClick:function onClick(){_this3.props.renderClientModal(e.id)},style:{float:"left",marginLeft:5,marginRight:10,backgroundColor:"#f5f4fa",borderRadius:"8px"},className:"actionButton addClient users white-hover"},"Invite Users"))),react.createElement("td",{style:{color:store.loading?"transparent":"black",width:"30%"}},react.createElement("div",{style:{color:"#8e8e8e",fontWeight:500}},react.createElement("div",{style:{maxWidth:170,overflow:"hidden",textOverflow:"ellipsis"},className:"dataCell"},businessDetail.data&&businessDetail.data.lineOfBusiness||""),react.createElement("div",{className:"dataCell"},businessDetail.data&&businessDetail.data.taxNumber||""),react.createElement("div",{className:"dataCell"},businessDetail.data&&businessDetail.data.salesTaxBasis||""),react.createElement("div",{className:"dataCell"},businessDetail.data&&businessDetail.data.salesTaxPeriod||""),react.createElement("div",{className:"dataCell"}," ",businessDetail.data&&businessDetail.data.salesTaxBasis&&fields.taxRate&&"".concat(fields.taxRate,"%")),react.createElement("div",{className:"dataCell",style:{fontSize:11,lineHeight:"25px"}},businessDetail.data&&businessDetail.data.phoneNumber||" "),react.createElement("div",{style:{fontSize:11,fontWeight:500,marginTop:5},className:"dataCell"},businessDetail.disconnected?"":fields.address)),react.createElement("div",{className:"buttonCell"})),react.createElement("td",{style:{color:store.loading?"transparent":"black"}},react.createElement("div",{style:{color:"#8e8e8e",fontWeight:500}},react.createElement("div",{style:{maxWidth:170,overflow:"hidden",textOverflow:"ellipsis"},className:"dataCell"}),react.createElement("div",{className:"dataCell"}),react.createElement("div",{className:"dataCell"}),react.createElement("div",{className:"dataCell"}),react.createElement("div",{className:"dataCell"}),react.createElement("div",{className:"dataCell"}),react.createElement("div",{style:{fontSize:11,fontWeight:500},className:"dataCell"})),react.createElement("div",{className:"editButtonCell"},react.createElement("button",{onClick:function onClick(){_this3.props.renderEditClientModal(e.id,fields)},style:{float:"right",marginLeft:5,marginRight:10,backgroundColor:"#f5f4fa",borderRadius:"8px"},className:"actionButton addClient users white-hover"},"Edit")))))}))}},{key:"render",value:function render(){var store=this.props.store;this.props.clientSyncsForCurrentBusiness;return this.props.clientSyncsForCurrentBusiness&&this.props.clientSyncsForCurrentBusiness.docs.map((function(doc){doc.data})),react.createElement("div",null,react.createElement("table",{className:"highlight navTable z-depth-1-half table-depth"},react.createElement("thead",{className:"navTableHead",style:{backgroundColor:"#fff"}},react.createElement("tr",{style:{color:"#c7c7c7"}},react.createElement("th",{style:{width:"1%"}}),react.createElement("th",{style:{width:"20%"}}),react.createElement("th",{style:{width:"30%"}}),react.createElement("th",{style:{width:"23.5%"}},react.createElement("div",{style:{marginRight:5}},react.createElement("div",{style:{float:"left",marginLeft:5,fontSize:11}},react.createElement("div",{style:{position:"relative"}},react.createElement("div",{style:{position:"absolute",bottom:14}},"INBOX")),react.createElement("img",{src:inbox_default.a,alt:"inbox",height:30})),react.createElement("div",{style:{float:"right"}},react.createElement("div",{style:{position:"relative",fontSize:11}},react.createElement("div",{style:{position:"absolute",top:-30}},"PEOPLE")),react.createElement("img",{style:{marginLeft:5},src:people_default.a,alt:"apps",height:30})),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("div",{style:{position:"relative",fontSize:11}},react.createElement("div",{style:{position:"absolute",bottom:44}},"APPS")),react.createElement("img",{src:apps_default.a,alt:"apps",height:30})))),react.createElement("th",{style:{width:"2.5%"}}))),react.createElement("div",null,react.createElement("tbody",{className:"navTableBody scrollbar always lite"},this.businessRenderer(store)))))}}]),BusinessNavigator}(react.Component),components_BusinessNavigator=Object(mobxreact_esm.b)(BusinessNavigator_BusinessNavigator);try{BusinessNavigator_BusinessNavigator.displayName="BusinessNavigator",BusinessNavigator_BusinessNavigator.__docgenInfo={description:"",displayName:"BusinessNavigator",props:{store:{defaultValue:null,description:"",name:"store",required:!0,type:{name:"any"}},fetchBusinessDetailedData:{defaultValue:null,description:"",name:"fetchBusinessDetailedData",required:!0,type:{name:"any"}},renderClientModal:{defaultValue:null,description:"",name:"renderClientModal",required:!0,type:{name:"any"}},renderEditClientModal:{defaultValue:null,description:"",name:"renderEditClientModal",required:!0,type:{name:"any"}},initiateConnection:{defaultValue:null,description:"",name:"initiateConnection",required:!0,type:{name:"any"}},singleChat:{defaultValue:null,description:"",name:"singleChat",required:!0,type:{name:"any"}},clientSyncsForCurrentBusiness:{defaultValue:null,description:"",name:"clientSyncsForCurrentBusiness",required:!0,type:{name:"any"}},reconnectBusiness:{defaultValue:null,description:"",name:"reconnectBusiness",required:!0,type:{name:"any"}},selectedConversationMessages:{defaultValue:null,description:"",name:"selectedConversationMessages",required:!0,type:{name:"any"}},setSelectedBusinessName:{defaultValue:null,description:"",name:"setSelectedBusinessName",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BusinessNavigator.tsx#BusinessNavigator"]={docgenInfo:BusinessNavigator_BusinessNavigator.__docgenInfo,name:"BusinessNavigator",path:"src/components/BusinessNavigator.tsx#BusinessNavigator"})}catch(__react_docgen_typescript_loader_error){}var lib=__webpack_require__(17),mobx_module=__webpack_require__(2),chartComponent_ChartComponent=function(_React$Component){Object(inherits.a)(ChartComponent,_React$Component);var _super=Object(createSuper.a)(ChartComponent);function ChartComponent(){return Object(classCallCheck.a)(this,ChartComponent),_super.apply(this,arguments)}return Object(createClass.a)(ChartComponent,[{key:"componentDidMount",value:function componentDidMount(){if(document.getElementById(this.props.chartProp))return null}},{key:"render",value:function render(){return react.createElement("div",{style:{width:300,height:228}},react.createElement("canvas",{width:"300",height:"228",id:this.props.chartProp}))}}]),ChartComponent}(react.Component);try{chartComponent_ChartComponent.displayName="ChartComponent",chartComponent_ChartComponent.__docgenInfo={description:"",displayName:"ChartComponent",props:{chartProp:{defaultValue:null,description:"",name:"chartProp",required:!0,type:{name:"any"}},cardProp:{defaultValue:null,description:"",name:"cardProp",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/chartComponent.tsx#ChartComponent"]={docgenInfo:chartComponent_ChartComponent.__docgenInfo,name:"ChartComponent",path:"src/entities/chartComponent.tsx#ChartComponent"})}catch(__react_docgen_typescript_loader_error){}var Notifications_Notifications=function(_React$Component){Object(inherits.a)(Notifications,_React$Component);var _super=Object(createSuper.a)(Notifications);function Notifications(props){var _this;return Object(classCallCheck.a)(this,Notifications),(_this=_super.call(this,props)).state={},_this}return Object(createClass.a)(Notifications,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"renderDropDownBox",value:function renderDropDownBox(id){document.getElementById(id).style.visibility="visible"}},{key:"buttonAction",value:function buttonAction(elementId,message,actionType,item){if(message){var messageId=message.messageId;switch(actionType){case"dismiss":this.props.conversationStore.markNotification(messageId,item._links.markRead.href),document.getElementById(elementId).className="row".concat(" fade-out");break;case"favorite":this.props.conversationStore.markNotification(messageId,item._links.markRead.href),this.props.conversationStore.favoriteNotification(this.props.currentProactiveMessages.conversationId,messageId);break;case"save":this.props.conversationStore.markNotification(messageId,item._links.markUnread.href);break;case"removeFavorite":this.props.conversationStore.removeMessageFromFavorites(item._links.cancel.href);break;case"metadata":Store.a.authStore.Intercom("trackEvent","accessed-message_metadata",{message_id:messageId}),this.props.viewMetadata(message.metadata,message.answers.join("\n"),messageId);break;case"deeplink":if(item&&item.alternatives&&"task"==item.alternatives[0].type){var link=item.alternatives[0]._links.task.href;window.open(link,"_blank")}}}}},{key:"renderCards",value:function renderCards(cards,index,isFavorite,isRead){return cards?cards.map((function(card,ix){return"list-card"===card.cardType&&"comparison-with-breakdown"===card.preferredListStyle?react_default.a.createElement("div",{style:{display:"flex",justifyContent:"center"},onMouseOverCapture:function onMouseOverCapture(e){console.log(e),e.preventDefault(),e.stopPropagation()}},react_default.a.createElement("div",{style:{width:"90%",minHeight:250,backgroundColor:isFavorite?"#fff":"#fafaff",border:"1px solid #d8d8d8",borderRadius:12,paddingTop:10,paddingBottom:20}},react_default.a.createElement("h4",{style:{borderBottom:"1px solid #d8d8d8",paddingLeft:30,paddingRight:30,fontWeight:900,fontSize:18,paddingBottom:10}},card.title||"Comparison With Breakdown"),react_default.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},react_default.a.createElement("span",{style:{color:"#4264ea",fontSize:32,fontWeight:900}},card.list[0][0])),react_default.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},react_default.a.createElement("div",{style:{float:"left",fontWeight:600,color:"orange",width:165,marginRight:10}},react_default.a.createElement("div",{style:{float:"right"}},card.list[0][1],react_default.a.createElement("div",{style:{display:"inline",position:"relative"}},react_default.a.createElement("i",{className:"material-icons",style:{position:"absolute",top:-3}},"keyboard_arrow_down")),react_default.a.createElement("br",null),react_default.a.createElement("span",{style:{color:"#d8d8d8",whiteSpace:"nowrap"}}," ".concat(card.headers[1])))),react_default.a.createElement("div",{style:{float:"right",fontWeight:600,color:"#13dfe0",width:165,marginLeft:10}},card.list[0][2],react_default.a.createElement("div",{style:{display:"inline",position:"relative"}},react_default.a.createElement("i",{className:"material-icons",style:{position:"absolute",top:-3}},"keyboard_arrow_up")),react_default.a.createElement("br",null),react_default.a.createElement("span",{style:{color:"#d8d8d8",whiteSpace:"nowrap"}}," ".concat(card.headers[2])))),card.list[0].map((function(i,ix){return 3===ix?react_default.a.createElement("div",{style:{paddingTop:20,width:"100%",display:"flex"}},react_default.a.createElement("div",{style:{width:"20%"}}),react_default.a.createElement("div",{style:{float:"left",fontWeight:600,color:"#4264ea",fontSize:24,width:"33.3%"}},card.list[0][ix]),react_default.a.createElement("div",{style:{float:"right",fontWeight:600,color:"#a7a7a7",paddingTop:5,fontSize:18,width:"33.3%"}},card.headers[ix])):ix>3?react_default.a.createElement("div",{style:{paddingTop:20,width:"100%",display:"flex"}},react_default.a.createElement("div",{style:{width:"20%",color:"#13dfe0"}},react_default.a.createElement("div",{className:"breakdown-operator"},card.list[0][ix][0])),react_default.a.createElement("div",{className:"breakdown-lhs"},card.list[0][ix].slice(1)),react_default.a.createElement("div",{className:"breakdown-rhs"},card.headers[ix])):void 0})),react_default.a.createElement("div",null))):"list-card"===card.cardType?react_default.a.createElement("div",{style:{display:"flex",justifyContent:"center",paddingTop:30,paddingBottom:30},onMouseOverCapture:function onMouseOverCapture(e){console.log(e),e.preventDefault(),e.stopPropagation()}}," ",react_default.a.createElement("div",{style:{width:"100%",minHeight:250,backgroundColor:isFavorite?"#fff":"#fafaff",border:"1px solid #d8d8d8",borderRadius:12,paddingTop:10,paddingBottom:20}},react_default.a.createElement("h4",{style:{marginBottom:0,borderBottom:"1px solid #d8d8d8",paddingLeft:30,paddingRight:30,fontWeight:900,fontSize:16,paddingBottom:10}},card.title||"Comparison With Breakdown"),react_default.a.createElement("div",{style:{display:"flex",height:60,paddingTop:30,paddingBottom:30,paddingLeft:5,paddingRight:5,margin:10,backgroundColor:"#eeeeee",borderRadius:4,fontWeight:900,color:"#aaaaaa",fontSize:12,whiteSpace:"nowrap"}},card.headers[0]&&react_default.a.createElement("div",{style:{width:"35%"}},card.headers[0]),card.headers[1]&&react_default.a.createElement("div",{style:{width:"20%"}},card.headers[1]),card.headers[2]&&react_default.a.createElement("div",{style:{width:"25%"}},card.headers[2]),card.headers[3]&&react_default.a.createElement("div",{style:{width:"20%"}},card.headers[3])),react_default.a.createElement("div",{style:{padding:20,fontWeight:900}},card.list&&card.list[0].map((function(i,ix,a){return react_default.a.createElement("div",{style:{paddingTop:20,width:"100%",display:"flex",justifyContent:"space-between",borderBottom:"none",wordBreak:"break-word"}},card.list[ix]&&react_default.a.createElement("div",{style:{width:"35%",color:"#224cad"}},card.list[ix][0]),card.list[ix]&&react_default.a.createElement("div",{style:{width:"20%",color:"#4264ea"}},card.list[ix][1]),card.list[ix]&&react_default.a.createElement("div",{style:{width:"25%",color:"orange"}},card.list[ix][2]),card.list[ix]&&react_default.a.createElement("div",{style:{width:"20%",color:"red"}},card.list[ix][3]))}))))):react_default.a.createElement("div",{key:"chart-notification-".concat(ix,"-").concat(index,"-root-").concat(isFavorite?"favorite":"notification","-").concat(isRead?"read":"unread")},react_default.a.createElement("div",{style:{display:"flex",justifyContent:"center"},onMouseOverCapture:function onMouseOverCapture(e){console.log(e),e.preventDefault(),e.stopPropagation()}},react_default.a.createElement(chartComponent_ChartComponent,{cardProp:Object(components.r)(Object(mobx_module.toJS)(card)),chartProp:"chart-notification-".concat(ix,"-").concat(index,"-").concat(isFavorite?"favorite":"notification","-").concat(isRead?"read":"unread")}),Object(components.s)(card)))})):null}},{key:"render",value:function render(){var _this2=this,store=this.props.store,_store$selectedBusine=store.selectedBusinessData,currentConversation=(_store$selectedBusine.apps,_store$selectedBusine.inbox,store.selectedBusinessData.connectedApps,this.props.currentProactiveMessages.messages.filter((function(message){return!message.labels.includes("read")})).slice().sort((function(a,b){var d1=new Date(a.timestamp);return new Date(b.timestamp)-d1}))),currentConversationRead=this.props.currentProactiveMessages.messages.filter((function(message){return message.labels.includes("read")})).slice().sort((function(a,b){var d1=new Date(a.timestamp);return new Date(b.timestamp)-d1})),currentConversationActive=currentConversation.concat(currentConversationRead),currentFavoritedMessages=this.props.currentFavoritedMessages;return react_default.a.createElement("div",{style:{padding:"0px 30px"}},void 0!==currentFavoritedMessages&&currentFavoritedMessages.length>=1?currentFavoritedMessages.slice().sort((function(a,b){var d1=new Date(a.timestamp);return new Date(b.timestamp)-d1})).map((function(i,ix){return react_default.a.createElement("div",{className:"row",key:"favorite".concat(i.messageId).concat(ix),id:"favorite".concat(i.messageId).concat(ix)},react_default.a.createElement("div",{className:"col s12 m6"},react_default.a.createElement("div",{style:{backgroundColor:"#fffcf7",borderRadius:12,border:"1px solid #d8d8d8"}},react_default.a.createElement("div",{style:{padding:10,paddingBottom:0,marginBottom:10}},react_default.a.createElement("span",{style:{fontSize:18,fontWeight:600,color:"#505050"}},react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{display:"inline-block"},className:"circleBase smallCircle orange invisibleItem"},react_default.a.createElement("span",{className:"circleText"},"  ",react_default.a.createElement("div",{style:{position:"relative"}},react_default.a.createElement("i",{style:{position:"absolute",top:-7,left:-15,fontSize:22},className:"material-icons orange-text"},"grade"))))," ",react_default.a.createElement("span",{id:"favoriteTopic",style:{color:"#ff902c"}},i.topic?Object(components.t)(i.topic):"Did You Know..."),react_default.a.createElement("div",{style:{float:"right",fontSize:11,color:"#aaaaaa"}},moment_default()(i.timestamp).format("lll")))),react_default.a.createElement("span",{style:{fontSize:16,fontWeight:600,color:"#505050",lineHeight:"20px"}},i.answers.map((function(answer,ix_){return react_default.a.createElement("p",{key:"".concat(ix,"+").concat(ix_)},answer)}))),_this2.renderCards(i.cards,ix,!0,!1)),react_default.a.createElement("div",{style:{position:"absolute",top:10,right:"4%",cursor:"pointer",fontSize:14,fontWeight:800}}),react_default.a.createElement("div",{style:{width:"100%",padding:8,paddingTop:0,borderBottom:"0.5px solid #d0d0d0",borderRadius:12}},react_default.a.createElement("div",{style:{width:"100%",height:35}},react_default.a.createElement("div",{style:{float:"left"},className:"dropdownOptionNotification",onClick:function onClick(){_this2.buttonAction("options".concat(i.messageId).concat(ix),i,"removeFavorite",i)}},"Remove from Favorites")),(i.metadata||i&&i.alternatives&&"task"==i.alternatives[0].type)&&react_default.a.createElement("div",{style:{width:"100%",height:35}},i.metadata&&react_default.a.createElement("div",{style:{float:"left"},className:"dropdownOptionNotification",onClick:function onClick(){_this2.buttonAction("options".concat(i.messageId).concat(ix),i,"metadata",i)}},"See More"),i&&i.alternatives&&"task"==i.alternatives[0].type&&react_default.a.createElement("div",{style:{float:"right"},className:"dropdownOptionNotification",onClick:function onClick(){_this2.buttonAction("options".concat(i.messageId).concat(ix),i,"deeplink",i)}},"Go to Xero"))))))})):null,void 0!==currentConversationActive&&currentConversationActive.length>=1?currentConversationActive.filter((function(msg){return _this2.props.selectedBusinessId===msg.businessId})).map((function(i,ix){return react_default.a.createElement("div",{className:"row",key:"options".concat(i.messageId).concat(ix),id:"options".concat(i.messageId).concat(ix)},react_default.a.createElement("div",{className:"col s12 m6"},react_default.a.createElement("div",{style:{backgroundColor:"#fff",borderRadius:12,border:"1px solid #d8d8d8"}},react_default.a.createElement("div",{style:{padding:10,paddingBottom:0,marginBottom:10}},react_default.a.createElement("span",{style:{fontSize:18,fontWeight:i.labels.includes("read")?500:600,color:"#505050"}},react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{display:"inline-block",visibility:i.labels.includes("read")?"hidden":"visible"},className:"circleBase smallCircle orange"},react_default.a.createElement("span",{className:"circleText"}," "))," ",i.topic?Object(components.t)(i.topic):"Did You Know...",react_default.a.createElement("div",{style:{float:"right",fontSize:11,color:"#aaaaaa"}},moment_default()(i.timestamp).format("lll")))),react_default.a.createElement("span",{style:{fontSize:16,fontWeight:i.labels.includes("read")?500:600,color:"#505050",lineHeight:"20px"}},i.answers.map((function(answer,ix_){return react_default.a.createElement("p",{key:"".concat(ix,"+").concat(ix_)},answer)}))),_this2.renderCards(i.cards,ix,!1,i.labels.includes("read"))),react_default.a.createElement("div",{style:{position:"absolute",top:10,right:"4%",cursor:"pointer",fontSize:14,fontWeight:800}}),react_default.a.createElement("div",{style:{width:"100%",padding:8,paddingTop:0,borderBottom:"0.5px solid #d0d0d0",borderRadius:12}},react_default.a.createElement("div",{style:{width:"100%",height:35}},i.labels.includes("read")?react_default.a.createElement("div",{style:{float:"left"},className:"dropdownOptionNotification",onClick:function onClick(){_this2.buttonAction("options".concat(i.messageId).concat(ix),i,"save",i)}},"Mark as Unread"):react_default.a.createElement("div",{style:{float:"left"},className:"dropdownOptionNotification",onClick:function onClick(){_this2.buttonAction("options".concat(i.messageId).concat(ix),i,"dismiss",i)}},"Mark as Read"),react_default.a.createElement("div",{style:{float:"right"},className:"dropdownOptionNotification",onClick:function onClick(){_this2.buttonAction("options".concat(i.messageId).concat(ix),i,"favorite",i)}},"Add to Favorites")),(i.metadata||i&&i.alternatives&&"task"==i.alternatives[0].type)&&react_default.a.createElement("div",{style:{width:"100%",height:35}},i.metadata&&react_default.a.createElement("div",{style:{float:"left"},className:"dropdownOptionNotification",onClick:function onClick(){_this2.buttonAction("options".concat(i.messageId).concat(ix),i,"metadata",i)}},"See More"),i&&i.alternatives&&"task"==i.alternatives[0].type&&react_default.a.createElement("div",{style:{float:"right"},className:"dropdownOptionNotification",onClick:function onClick(){_this2.buttonAction("options".concat(i.messageId).concat(ix),i,"deeplink",i)}},"Go to Xero"))))))})):react_default.a.createElement("div",null,!Store.a.authStore.shallowLoading&&Store.a.businessStore.businessListData.length<=1&&this.props.notificationsPopupOpen?react_default.a.createElement("div",{style:{padding:20,marginTop:40,marginLeft:40,marginRight:40,borderRadius:16,backgroundColor:"#fff",height:270}},react_default.a.createElement("div",{style:{color:"#4264ea",fontSize:26,fontWeight:500,lineHeight:"32px"}},react_default.a.createElement("div",{style:{height:40,marginBottom:10,width:"100%"}},react_default.a.createElement("div",{style:{float:"left"}},react_default.a.createElement("img",{src:aider_icon_t_default.a,height:30,width:30}))," ",react_default.a.createElement("div",{onClick:function onClick(){Store.a.authStore.closeNotificationsPopup()},className:"grey-hover",style:{float:"right",fontSize:20,fontWeight:900,color:"#c7c7c7",cursor:"pointer"}},react_default.a.createElement("div",null,"X"))),react_default.a.createElement("p",null,"Once you have a client connected, notifications about their business appear here."))):"Loading..."===Store.a.businessStore.selectedBusinessData.name?null:Store.a.businessStore.businessListData.length<=1?react_default.a.createElement("h4",{className:"fadedshort",style:{color:"#505050"}},"No notifications."):react_default.a.createElement("h4",{className:"fadedshort",style:{color:"#505050",marginLeft:30}},"No notifications.")))}}]),Notifications}(react_default.a.Component),components_Notifications=Notifications_Notifications;try{Notifications_Notifications.displayName="Notifications",Notifications_Notifications.__docgenInfo={description:"",displayName:"Notifications",props:{store:{defaultValue:null,description:"",name:"store",required:!0,type:{name:"any"}},currentProactiveMessages:{defaultValue:null,description:"",name:"currentProactiveMessages",required:!0,type:{name:"any"}},currentFavoritedMessages:{defaultValue:null,description:"",name:"currentFavoritedMessages",required:!0,type:{name:"any"}},notificationsLoading:{defaultValue:null,description:"",name:"notificationsLoading",required:!0,type:{name:"any"}},conversationStore:{defaultValue:null,description:"",name:"conversationStore",required:!0,type:{name:"any"}},viewMetadata:{defaultValue:null,description:"",name:"viewMetadata",required:!0,type:{name:"any"}},selectedBusinessId:{defaultValue:null,description:"",name:"selectedBusinessId",required:!0,type:{name:"any"}},notificationsPopupOpen:{defaultValue:null,description:"",name:"notificationsPopupOpen",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Notifications.tsx#Notifications"]={docgenInfo:Notifications_Notifications.__docgenInfo,name:"Notifications",path:"src/components/Notifications.tsx#Notifications"})}catch(__react_docgen_typescript_loader_error){}var trainIcon=__webpack_require__(696),trainIcon_default=__webpack_require__.n(trainIcon),trainIconBW=__webpack_require__(697),trainIconBW_default=__webpack_require__.n(trainIconBW),NotificationManager_NotificationManager=function(_React$Component){Object(inherits.a)(NotificationManager,_React$Component);var _super=Object(createSuper.a)(NotificationManager);function NotificationManager(props){var _this;return Object(classCallCheck.a)(this,NotificationManager),(_this=_super.call(this,props)).myRef=void 0,_this.chatRef=void 0,_this.intervalId=void 0,_this.myRef=react.createRef(),_this.chatRef=react.createRef(),_this.state={elementToScrollTo:null,selectedId:null,selectedUser:"",notificationsToggled:!0,message:"",selectedUsers:[],selectedIds:[],anchorHeight:null,conversationId:"advisorChat",pausePollingUntilMessageHasBeenSent:!1},_this}return Object(createClass.a)(NotificationManager,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){var _this2=this;if(!prevState.notificationsToggled||this.state.notificationsToggled||null===this.chatRef.current){if(prevProps.selectedChatHasUpdated.data&&this.props.selectedChatHasUpdated.data&&!Store.a.advisorChatStore.isReloadingMessages){if(console.log(Store.a.advisorChatStore.lastTimeRecieved),console.log(this.props.selectedChatHasUpdated.data.updatedAt),prevProps.selectedChatHasUpdated.data.updatedAt!==Store.a.advisorChatStore.lastTimeRecieved)return Store.a.advisorChatStore.setIsReloading(!1),Store.a.advisorChatStore.getConversationMessagesWithUserId(Store.a.advisorChatStore.selectedUserId).then((function(res){Store.a.advisorChatStore.setLastTimeReceived(_this2.props.selectedChatHasUpdated.data.updatedAt),null!=_this2.chatRef.current&&(_this2.chatRef.current.scrollTop=_this2.chatRef.current.scrollHeight-415)}));Store.a.advisorChatStore.notificationsToggled||(Store.a.advisorChatStore.setNewMessageRecievedForSelectedBusiness(!1),null!=this.chatRef.current&&(this.chatRef.current.scrollTop=this.chatRef.current.scrollHeight-415))}if(Store.a.advisorChatStore.isReloadingMessages&&"null"!==this.state.elementToScrollTo){Store.a.advisorChatStore.setLastTimeReceived(this.props.selectedChatHasUpdated.data.updatedAt),console.log(this.state.elementToScrollTo);var scrollElement=document.getElementById(this.state.elementToScrollTo);console.log(scrollElement),null!==scrollElement&&(scrollElement.scrollIntoView(),Store.a.advisorChatStore.scrollUpHappened(!1),Store.a.advisorChatStore.setIsReloading(!1))}else{if(prevProps.selectedConversationMessages.length!==this.props.selectedConversationMessages.length)try{null!=this.chatRef.current&&(this.chatRef.current.scrollTop=this.chatRef.current.scrollHeight-415)}catch(e){console.log("render:",e)}if(prevProps.selectedBusinessId!==this.props.selectedBusinessId&&this.forceUpdate(),prevProps.selectedConversationName!=this.props.selectedConversationName)try{null!=this.chatRef.current&&(this.chatRef.current.scrollTop=this.chatRef.current.scrollHeight-415)}catch(e){console.log("scrolltop",e)}if(prevProps.selectedConversationMessages.length>=1&&this.props.selectedConversationMessages.length>=1)try{prevProps.selectedConversationMessages[prevProps.selectedConversationMessages.length-1].id!==this.props.selectedConversationMessages[this.props.selectedConversationMessages.length-1].id&&null!=this.chatRef.current&&(this.chatRef.current.scrollTop=this.chatRef.current.scrollHeight-415)}catch(e){console.log(e)}}}else this.chatRef.current.scrollTop=this.chatRef.current.scrollHeight-415}},{key:"componentDidMount",value:function componentDidMount(){}},{key:"checkScroll",value:function checkScroll(scrollTop,scrollHeight){if(!Store.a.advisorChatStore.chatLoading&&Store.a.advisorChatStore.previousMessagesLink){if(0===scrollTop&&(this.props.loadPreviousMessagesWithTimestamp(),this.props.selectedConversationMessages&&this.props.selectedConversationMessages[0])){var createdAt=this.props.selectedConversationMessages[0].createdAt;Store.a.advisorChatStore.scrollUpHappened(!0),this.setState({elementToScrollTo:"ca-".concat(createdAt)})}this.chatRef.current.scrollTop===this.chatRef.current.scrollHeight-415&&Store.a.advisorChatStore.setIsReloading(!1)}}},{key:"scrollToView",value:function scrollToView(){var id=Object(mobx_module.toJS)(Store.a.advisorChatStore.selectedConversationsMessages),elementId=id.length>=1&&id[id.length-1].id,elementToUpdate=document.getElementById("msg-".concat(elementId));null!==elementToUpdate&&elementToUpdate.scrollIntoView()}},{key:"toggleNotificationsPanel",value:function toggleNotificationsPanel(){Store.a.advisorChatStore.setNotificationsIsToggled(!0),this.setState({notificationsToggled:!0})}},{key:"toggleFavoritesPanel",value:function toggleFavoritesPanel(){Store.a.advisorChatStore.setNotificationsIsToggled(!1),Store.a.advisorChatStore.setHasNewMessages(!1),Store.a.advisorChatStore.getChats(),this.setState({notificationsToggled:!1})}},{key:"initChat",value:function initChat(message){var _this3=this;this.setState({message:""});var id=Store.a.advisorChatStore.selectedUserId;message&&(id?Store.a.advisorChatStore.createChatWithUserId(message,id).then((function(res){console.log("new message sent",Object(mobx_module.toJS)(res)),_this3.chatRef.current.scrollTop=_this3.chatRef.current.scrollHeight-415})):Store.a.advisorChatStore.createChat(message,"advisorChat"))}},{key:"selectChatAndFetchMessages",value:function selectChatAndFetchMessages(chatId){Store.a.advisorChatStore.getConversationMessages(chatId)}},{key:"handleMessageInput",value:function handleMessageInput(e){this.setState({message:e.target.value}),this.myRef.current.scrollTop=0}},{key:"pausePoll",value:function pausePoll(){Store.a.advisorChatStore.pausePoll(!0)}},{key:"resumePoll",value:function resumePoll(){Store.a.advisorChatStore.pausePoll(!1)}},{key:"handleConversationSelection",value:function handleConversationSelection(e){if(console.log("ResumePoll"),Store.a.advisorChatStore.setNewMessageRecievedForSelectedBusiness(!1),""===e.target.value)this.setState({selectedUsers:[],selectedIds:[],selectedUser:"",selectedId:null}),Store.a.advisorChatStore.setSelectedConversationNameToRefresh(null),Store.a.advisorChatStore.setSelectedUserIdToRefresh(null),Store.a.advisorChatStore.storeConversation(null);else{var value=e.target.value.split(" "),id=value[0];Store.a.advisorChatStore.setSelectedConversationNameToRefresh("".concat(value[1])),this.setState({selectedId:id,selectedUser:"".concat(value[1])}),console.log("ID",value[0]),Store.a.advisorChatStore.setSelectedUserIdToRefresh(id),Store.a.advisorChatStore.getConversationMessagesWithUserIdLoading(id)}}},{key:"render",value:function render(){var _this4=this,store=this.props.store,_store$selectedBusine=store.selectedBusinessData,currentConversation=(_store$selectedBusine.apps,_store$selectedBusine.inbox,store.selectedBusinessData.connectedApps,this.props.currentProactiveMessages.messages.filter((function(message){return!message.labels.includes("read")}))),currentConversationRead=this.props.currentProactiveMessages.messages.filter((function(message){return message.labels.includes("read")})),businessDetail=(currentConversation.concat(currentConversationRead),this.props.currentFavoritedMessages,document.getElementById("chatAnchor"),Store.a.businessStore.businessListDetail.find((function(i){return i.businessId===Store.a.businessStore.selectedBusinessId}))),unreadNotifications=businessDetail?null!==businessDetail.unreadNotifications?businessDetail.unreadNotifications:"null":0,hasClientUsers=null!=this.props.usersList&&this.props.usersList.filter((function(i){return"advisor"!==i.roleKey})).length>=1;return console.log(this.props.selectedChatHasUpdated,Object(mobx_module.toJS)(this.props.selectedChatHasUpdated.data)),react.createElement(lib.CardPanel,{className:"NotificationManagerPanel no-padding noZ pane-split-bottom"},react.createElement("div",{style:{height:75}},react.createElement("div",{className:"notificationManagerCard",style:{cursor:"pointer",backgroundColor:this.state.notificationsToggled?"#f5f4fa":"#eeedf3"},onClick:function onClick(){_this4.toggleNotificationsPanel()}},react.createElement("div",{style:{marginTop:25}},react.createElement("div",{style:{float:"left",marginLeft:"10%",fontSize:14},className:"circleBase standard orange"},react.createElement("span",{className:"circleText"},"undefined"!==currentConversation?currentConversation.length<=9?currentConversation.length:react.createElement("span",null,"9",react.createElement("sup",null,"+")):0)),react.createElement("span",{style:{float:"left",marginLeft:15,fontWeight:600,color:this.state.notificationsToggled?"#4264ea":"#8e8e8e",fontSize:20}},"Notifications"))),react.createElement("div",{className:"notificationManagerHeader",style:{cursor:"pointer",backgroundColor:this.state.notificationsToggled?"#eeedf3":"#f5f4fa"},onClick:function onClick(){_this4.toggleFavoritesPanel()}},react.createElement("div",{style:{marginTop:25}},react.createElement("span",{style:{marginLeft:15,fontWeight:600,color:this.state.notificationsToggled?"#8e8e8e":"#4264ea",fontSize:20}},"Messages ",Store.a.advisorChatStore.newMessageRecievedForSelectedBusiness&&!Store.a.businessStore.loading&&Store.a.advisorChatStore.businessSelected&&Store.a.advisorChatStore.notificationsToggled&&Store.a.advisorChatStore.hasNewMessages&&react.createElement("div",{style:{display:"inline-block",backgroundColor:"#4264ea"},className:"circleBase verySmallCircle fadedlong"})),react.createElement("div",{style:{float:"left",marginLeft:"10%"}},react.createElement("img",{style:{paddingBottom:8},src:this.state.notificationsToggled?trainIconBW_default.a:trainIcon_default.a}))))),react.createElement("div",{style:{padding:"0px",height:"89%",backgroundColor:"#f5f4fa"}},this.state.notificationsToggled?react.createElement("div",{className:"scrollbar",id:"scrollbox-notes",style:{width:"100%",height:"100%",overflowX:"hidden",padding:5}},this.props.notificationsLoading||"null"===unreadNotifications?react.createElement("div",null,components.q):react.createElement(components_Notifications,{notificationsPopupOpen:Store.a.authStore.notificationsPopupOpen,selectedBusinessId:this.props.selectedBusinessId,store:store,conversationStore:this.props.conversationStore,viewMetadata:this.props.viewMetadata,currentProactiveMessages:this.props.currentProactiveMessages,currentFavoritedMessages:this.props.currentFavoritedMessages,notificationsLoading:this.props.notificationsLoading})):react.createElement("div",{ref:this.myRef,id:"scrollbox-notes-chat",onScroll:function onScroll(e){_this4.checkScroll(_this4.chatRef.current.scrollTop,_this4.chatRef.current.scrollHeight)},style:{width:"100%",height:"100%",overflowX:"hidden",padding:0,overflowY:"hidden"}},react.createElement("div",{style:{height:"100%",width:"100%",position:"relative"}},Store.a.businessStore.businessListData.length>1&&react.createElement("div",{style:{position:"absolute",width:"100%",height:40,padding:10,backgroundColor:"#f5f4f9",opacity:.7,fontSize:18,justifyContent:"center",display:"flex",fontWeight:600,zIndex:1,borderBottom:"0.5px solid #d8d8d8"}},Store.a.advisorChatStore.selectedConversationName?react.createElement("span",{style:{color:"#4264ea"}}," ",Store.a.advisorChatStore.selectedConversationName||Store.a.businessStore.selectedBusinessData.name):react.createElement("span",{style:{color:"#505050"},className:"fadedlong"},"To begin a conversation,",hasClientUsers?" select a user below.":" invite a client user")),react.createElement("div",{style:{paddingTop:30}},react.createElement("div",{ref:this.chatRef,className:"scrollbar",style:{maxHeight:415,width:"100%",display:"block",height:415,paddingLeft:80,paddingRight:80}},!Store.a.authStore.shallowLoading&&Store.a.businessStore.businessListData.length<=1&&Store.a.authStore.messagingPopUpOpen?react.createElement("div",{style:{padding:20,marginTop:40,marginLeft:40,marginRight:40,borderRadius:16,backgroundColor:"#fff"}},react.createElement("div",{style:{color:"#4264ea",fontSize:18,fontWeight:500,lineHeight:"24px"}},react.createElement("div",{style:{height:40,marginBottom:10,width:"100%"}},react.createElement("div",{style:{float:"left"}},react.createElement("img",{src:aider_icon_t_default.a,height:30,width:30}))," ",react.createElement("div",{onClick:function onClick(){Store.a.authStore.closeMessagingPopup()},className:"grey-hover",style:{float:"right",fontSize:20,fontWeight:900,color:"#c7c7c7",cursor:"pointer"}},react.createElement("div",null,"X"))),react.createElement("p",null,"Once you have a client connected and they have successfully downloaded the Aider Mobile app, the messages between you and your connected clients' business appear here."))):null,!Store.a.authStore.messagingPopUpOpen&&this.props.notificationsLoading||Store.a.advisorChatStore.chatLoading&&Store.a.businessStore.businessListData.length>1?react.createElement("div",{style:{position:"relative"}},react.createElement("div",{style:{position:"absolute",top:200,left:"50%"}},components.u)):null!==Store.a.advisorChatStore.selectedConversationId&&null!==Store.a.advisorChatStore.selectedUserId&&null!==Store.a.advisorChatStore.selectedConversationName&&this.props.selectedConversationMessages.map((function(message,ix,arr){return react.createElement("div",{id:"ca-".concat(message.createdAt),style:{minWidth:"100%",minHeight:120,display:"block",overflowY:"hidden",paddingBottom:15}},react.createElement("div",{id:"msg-".concat(message.id),key:"msg-".concat(message.id),style:{width:"auto",minWidth:100,fontWeight:900,float:"advisor"===message.senderRole?"right":"left",display:"block",minHeight:60,marginTop:ix>0&&(arr[ix-1].senderRole===message.senderRole||arr[ix-1].senderName===message.senderName)||0===ix?10:20,marginRight:"advisor"===message.senderRole?5:0,marginLeft:"advisor"===message.senderRole?0:5},className:"advisor"===message.senderRole?"messagePanelQuestion speech-bubble-ds":"messagePanelAnswerConversation speech-bubble-ds_left"},message.messageText,"advisor"===message.senderRole?react.createElement("div",{className:"speech-bubble-ds__arrow"}):react.createElement("div",{className:"speech-bubble-ds__arrow_left"}),react.createElement("div",{style:{height:0}},react.createElement("div",{style:{position:"relative",height:0,color:"#c7c7c7"}},react.createElement("div",null,react.createElement("div",{style:{fontSize:11,float:"advisor"===message.senderRole?"right":"left",cursor:"pointer",position:"relative",top:30,left:0}},message.senderName," ",moment_default()(message.createdAt).format("LT")))))))}))),react.createElement("div",{style:{height:180,backgroundColor:"#fff"}},react.createElement("div",{className:"message-input-container",style:{backgroundColor:"#fff",borderTop:"none"}},react.createElement("div",{style:{display:"flex",padding:"20px 20px 0px 20px"}},react.createElement("textarea",{id:"textArea","ng-model-options":"{ updateOn: 'blur' }",spellCheck:"false",style:{border:"none",fontFamily:"arial",height:42,maxHeight:70,minHeight:42,padding:10,borderRadius:16,backgroundColor:"#f5f4fa"},name:"textarea",value:this.state.message,onChange:function onChange(e){_this4.handleMessageInput(e)},onFocus:function onFocus(){Store.a.advisorChatStore.setNewMessageRecievedForSelectedBusiness(!1),_this4.chatRef.current.scrollTop=_this4.chatRef.current.scrollHeight-415},onKeyPress:function onKeyPress(event){if("Enter"===event.key){if(event.shiftKey)return;if(event.preventDefault(),event.stopPropagation(),null===Store.a.advisorChatStore.selectedUserId)return;_this4.initChat(_this4.state.message)}},tabIndex:-1,placeholder:"Send your client a message..."})),react.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},react.createElement("div",{style:{minWidth:240,maxWidth:420,width:"80%"}},hasClientUsers?react.createElement(lib.Select,{id:"Select-User",disabled:Store.a.advisorChatStore.chatLoading,multiple:!1,onChange:function onChange(e){_this4.handleConversationSelection(e)},options:{classes:"big-trigger fillBackground",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:50,onCloseEnd:null,onCloseStart:function onCloseStart(){_this4.resumePoll()},onOpenEnd:null,onOpenStart:function onOpenStart(){_this4.pausePoll()},outDuration:50}},value:""},react.createElement("option",{value:""},"Select a recipient"),this.props.usersList.filter((function(i){return"advisor"!==i.roleKey})).map((function(i){var isSelected=_this4.state.selectedUsers.includes(i.id)||Store.a.advisorChatStore.selectedUserId===i.id;return react.createElement("option",{style:{color:isSelected?"#3ceac5":"1D1D1D"},className:"".concat(isSelected?"selectedOption":null),value:"".concat(i.id," ").concat(i.displayName)},i.displayName," ",!Store.a.advisorChatStore.chatLoading&&i.id===Store.a.advisorChatStore.newMessageRecievedForSelectedBusiness&&isSelected&&Store.a.advisorChatStore.businessSelected?" (1)":null)}))):react.createElement("div",{style:{height:60,backgroundColor:"#fff"}})),react.createElement("div",{style:{width:120,marginTop:40,marginLeft:10,float:"right",marginRight:25},className:"otherAction ".concat(null===Store.a.advisorChatStore.selectedUserId&&"disabledButton"),onClick:function onClick(){null!==Store.a.advisorChatStore.selectedUserId&&_this4.initChat(_this4.state.message)}},"Send")))))))))}}]),NotificationManager}(react.Component),components_NotificationManager=Object(mobxreact_esm.b)(NotificationManager_NotificationManager);try{NotificationManager_NotificationManager.displayName="NotificationManager",NotificationManager_NotificationManager.__docgenInfo={description:"",displayName:"NotificationManager",props:{selectedChatHasUpdated:{defaultValue:null,description:"",name:"selectedChatHasUpdated",required:!0,type:{name:"any"}},store:{defaultValue:null,description:"",name:"store",required:!0,type:{name:"any"}},getProactiveMessages:{defaultValue:null,description:"",name:"getProactiveMessages",required:!0,type:{name:"any"}},currentProactiveMessages:{defaultValue:null,description:"",name:"currentProactiveMessages",required:!0,type:{name:"any"}},currentFavoritedMessages:{defaultValue:null,description:"",name:"currentFavoritedMessages",required:!0,type:{name:"any"}},readProactiveMessages:{defaultValue:null,description:"",name:"readProactiveMessages",required:!0,type:{name:"any"}},selectedBusinessAccessToken:{defaultValue:null,description:"",name:"selectedBusinessAccessToken",required:!0,type:{name:"any"}},selectedBusinessId:{defaultValue:null,description:"",name:"selectedBusinessId",required:!0,type:{name:"any"}},conversationStore:{defaultValue:null,description:"",name:"conversationStore",required:!0,type:{name:"any"}},notificationsLoading:{defaultValue:null,description:"",name:"notificationsLoading",required:!0,type:{name:"any"}},viewMetadata:{defaultValue:null,description:"",name:"viewMetadata",required:!0,type:{name:"any"}},selectedConversationMessages:{defaultValue:null,description:"",name:"selectedConversationMessages",required:!0,type:{name:"any"}},selectedConversationName:{defaultValue:null,description:"",name:"selectedConversationName",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}},loadPreviousMessagesWithTimestamp:{defaultValue:null,description:"",name:"loadPreviousMessagesWithTimestamp",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NotificationManager.tsx#NotificationManager"]={docgenInfo:NotificationManager_NotificationManager.__docgenInfo,name:"NotificationManager",path:"src/components/NotificationManager.tsx#NotificationManager"})}catch(__react_docgen_typescript_loader_error){}var ActionCentre=__webpack_require__(240),action_icon=__webpack_require__(699),action_icon_default=__webpack_require__.n(action_icon),action_icon_inactive=__webpack_require__(303),action_icon_inactive_default=__webpack_require__.n(action_icon_inactive),MessagingPanel_MessagingPanel=function(_React$Component){Object(inherits.a)(MessagingPanel,_React$Component);var _super=Object(createSuper.a)(MessagingPanel);function MessagingPanel(props,state){var _this;return Object(classCallCheck.a)(this,MessagingPanel),(_this=_super.call(this,props)).state={message:"",messagePanelToggled:!1,dropdownIdOpen:null,scrollUpHappened:!1,elementToScrollTo:null,conversationStarters:!1,displayRecommendedAlternatives:!1,recommendedAlternatives:[]},_this}return Object(createClass.a)(MessagingPanel,[{key:"sendMessage",value:function sendMessage(text){text?this.props.startConversation(text):(this.setState({message:""}),this.props.startConversation(this.state.message))}},{key:"toggleConversationStarters",value:function toggleConversationStarters(){this.setState({conversationStarters:!this.state.conversationStarters,displayRecommendedAlternatives:!1})}},{key:"selectInput",value:function selectInput(){this.updateScroll("scrollbox",null),this.props.selectMessageInput()}},{key:"newConversation",value:function newConversation(){this.props.getActiveConversation()}},{key:"handleMessageInput",value:function handleMessageInput(e){this.setState({message:e.target.value}),this.updateScroll("scrollbox",null)}},{key:"provideFeedback",value:function provideFeedback(id,vote,elementId,answer){this.props.provideFeedback(id,vote,elementId,answer)}},{key:"viewMetadata",value:function viewMetadata(metaData,answer,id){this.props.viewMetadata(metaData,answer,id)}},{key:"updateScroll",value:function updateScroll(elementId,scrollHeight){var element=document.getElementById(elementId);if(null===scrollHeight)try{element.scrollTop=element.scrollHeight}catch(e){}else element.scrollTop=scrollHeight}},{key:"checkScroll",value:function checkScroll(event,elementId){if(!this.props.messagesLoading&&0===document.getElementById(elementId).scrollTop){var timestamp=this.props.currentConversation.messages[0].timestamp;this.props.loadPreviousMessagesWithTimestamp(timestamp),this.setState({scrollUpHappened:!0,elementToScrollTo:"q-".concat(timestamp)})}}},{key:"renderDropDownBox",value:function renderDropDownBox(id){try{this.state.dropdownIdOpen&&(document.getElementById(this.state.dropdownIdOpen).style.visibility="hidden"),this.setState({dropdownIdOpen:null}),document.getElementById(id).style.visibility="visible",this.setState({dropdownIdOpen:id})}catch(e){console.log("dropdown error boundary",e)}}},{key:"closeDropDownBox",value:function closeDropDownBox(){var dropdownIdOpen=this.state.dropdownIdOpen;if(dropdownIdOpen){var element=document.getElementById(dropdownIdOpen);element&&(this.setState({dropdownIdOpen:null}),element.style.visibility="hidden")}}},{key:"buttonAction",value:function buttonAction(id,messageId,actionType,answer,feedbackType,metadata,conversationId,timestamp){document.getElementById(id).style.visibility="hidden","feedback"===actionType&&this.props.renderFeedbackModal(id,messageId,answer,feedbackType),"metadata"===actionType&&(Store.a.authStore.Intercom("trackEvent","accessed-message_metadata",{message_id:messageId}),this.viewMetadata(metadata,answer,id)),"resume"===actionType&&this.props.resumeActiveConversationFromMessage(conversationId,messageId),"favorites"===actionType&&this.props.store.favoriteNotification(conversationId,messageId),"schedule"===actionType&&this.props.scheduleMessage(conversationId,messageId,timestamp)}},{key:"deepLink",value:function deepLink(url){window.open(url,"_blank")}},{key:"componentDidMount",value:function componentDidMount(){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){var scrollElement=document.getElementById(this.state.elementToScrollTo);if(!this.props.messagesLoading&&prevProps.messagesLoading&&null!==scrollElement)return scrollElement.scrollIntoView();if(this.state.dropdownIdOpen||prevState.dropdownIdOpen||this.state.scrollUpHappened||this.props.messagesLoading||prevProps.messagesLoading||scrollElement){if(this.state.scrollUpHappened&&"null"!==this.state.elementToScrollTo){var _scrollElement=document.getElementById(this.state.elementToScrollTo);null!==_scrollElement&&_scrollElement.scrollIntoView(),this.setState({scrollUpHappened:!1})}}else try{this.updateScroll("scrollbox",null)}catch(e){}}},{key:"toggleMessagePanel",value:function toggleMessagePanel(){this.setState({messagePanelToggled:!0})}},{key:"toggleActionStation",value:function toggleActionStation(){Store.a.conversationStore.setTrainAiderVisible(!1),this.setState({messagePanelToggled:!1,scrollUpHappened:!0,elementToScrollTo:null})}},{key:"checkAlternativeFunctional",value:function checkAlternativeFunctional(alternativeText){switch(alternativeText){case"Open notifications":case"Take me there":case"Go to troubleshooting page":case"Create business":case"List apps":case"Let's connect QuickBooks Online":case"Let's connect Xero":case"Let's see the apps":case"Conversation starters":case"Take me to the Apps window":case"Take me to the help chat":case"My business":case"Notifications setup":case"Let's call them now":case"Let's connect iPayroll":case"Let's connect Facebook":case"Let's connect Twitter":case"Let's connect Google Calendar":case"Let's connect Xero!":return!1;default:return!0}}},{key:"renderRecommendedAlternatives",value:function renderRecommendedAlternatives(alternatives){var _this2=this;return console.log(Object(mobx_module.toJS)(alternatives),Object(mobx_module.toJS)(Store.a.conversationStore.recommendedQuestions)),alternatives.map((function(alt){return react.createElement("div",{style:{color:"red",display:"inline-block",whiteSpace:"nowrap"}},react.createElement("div",{style:{marginLeft:5,marginBottom:10,paddingLeft:10,paddingRight:10,cursor:"pointer",height:30,width:"auto",minWidth:150,lineHeight:"25px"},className:"actionButton ".concat(""),onClick:function onClick(){Store.a.authStore.Intercom("trackEvent","selected-message_alternative",{}),"task"===alt.type?_this2.deepLink(alt._links.task.href):(_this2.setState({displayRecommendedAlternatives:!1}),_this2.sendMessage(alt.question.text))}},alt.question.text))}))}},{key:"renderAlternatives",value:function renderAlternatives(currentConversationActive){var _this3=this;return void 0!==currentConversationActive?currentConversationActive.map((function(i,ix,conversationArr){if(i.questions&&i.questions.length>=1&&i.answers.length>=1&&ix===conversationArr.length-1&&i.alternatives)return i.alternatives.map((function(alt){var shouldRenderAlternative=_this3.checkAlternativeFunctional(alt.text);if("textbox-horizontal"===alt.layout)return react.createElement("div",{style:{color:"red",display:"inline-block",whiteSpace:"nowrap"}},react.createElement("div",{style:{marginLeft:5,marginBottom:10,paddingLeft:10,paddingRight:10,cursor:"pointer",height:30,width:"auto",minWidth:150,lineHeight:"25px"},className:"actionButton ".concat(shouldRenderAlternative?"":"disabledButton"),onClick:function onClick(){shouldRenderAlternative&&(Store.a.authStore.Intercom("trackEvent","selected-message_alternative",{}),"task"===alt.type?_this3.deepLink(alt._links.task.href):_this3.sendMessage(alt.text))}},alt.text))}))})):null}},{key:"selectAlternative",value:function selectAlternative(osp,app){var _this4=this;Store.a.conversationStore.fetchRecommendedQuestionsBasedOnAppSelection(osp,app,"top3").then((function(res){_this4.setState({conversationStarters:!1,displayRecommendedAlternatives:!0,recommendedAlternatives:Store.a.conversationStore.recommendedQuestions})}))}},{key:"renderAlternatives2",value:function renderAlternatives2(){var _this5=this;return Store.a.authStore.apps.map((function(app){var connectedApps=Store.a.businessStore.selectedBusinessData.connectedApps.map((function(connectedApp){return connectedApp.appKey===app.appKey||connectedApp.ospKey===app.ospKey}));if(console.log(connectedApps,"?"),void 0===app._links.connect||connectedApps.includes(!0))return react.createElement("div",{style:{color:"red",display:"inline-block",whiteSpace:"nowrap",backgroundColor:"#f5f4fa",paddingTop:0},className:"fadedshort"},react.createElement("div",{id:"".concat(app.appKey),style:{marginLeft:5,marginBottom:10,paddingTop:10,paddingBottom:10,paddingLeft:10,paddingRight:10,cursor:"pointer",height:80,width:"auto",minWidth:70,lineHeight:"25px",display:"inline-block"},className:"conversationStarter ".concat(""),onClick:function onClick(){_this5.selectAlternative(app.ospKey,app.appKey)}},app._links.logo&&react.createElement("div",{style:{height:36,width:36,display:"flex",justifyContent:"center",marginLeft:7,paddingTop:5}},react.createElement("div",null,react.createElement("img",{style:{float:"right"},className:"brandImage",src:"".concat(app._links.logo.href),alt:""})),react.createElement("div",{style:{position:"relative"}},react.createElement("div",{style:{position:"absolute",color:"#4264ea",fontSize:10,top:40,right:-10,width:60,overflowX:"hidden",wordBreak:"break-word",whiteSpace:"normal",overflowY:"hidden",lineHeight:"12px"}},app.name)))))}))}},{key:"renderConversationStarters",value:function renderConversationStarters(){return console.log(Object(mobx_module.toJS)(Store.a.authStore.apps),Object(mobx_module.toJS)(Store.a.businessStore.selectedBusinessData.connectedApps),"???"),react.createElement("div",{style:{color:"red",display:"inline-block",whiteSpace:"nowrap",overflowX:"scroll"}},Store.a.authStore.apps.map((function(app){return react.createElement("div",{style:{marginLeft:5,marginBottom:10,paddingLeft:10,paddingRight:10,cursor:"pointer",height:30,width:"auto",minWidth:150,lineHeight:"25px"},className:"actionButton",onClick:function onClick(){}},react.createElement("div",{style:{float:"left"}},app._links.logo&&react.createElement("div",{style:{height:48,width:48,marginRight:5}},react.createElement("img",{style:{float:"right"},className:"brandImage",src:"".concat(app._links.logo.href),alt:"logo"}))))})))}},{key:"renderCards",value:function renderCards(cards,index,isFavorite,isRead,timestamp){return cards?cards.map((function(card,ix){return"list-card"===card.cardType&&"comparison-with-breakdown"===card.preferredListStyle?react.createElement("div",{style:{display:"flex",justifyContent:"center"},onMouseOverCapture:function onMouseOverCapture(e){console.log(e),e.preventDefault(),e.stopPropagation()}},react.createElement("div",{style:{width:"90%",minHeight:250,backgroundColor:isFavorite?"#fff":"#fafaff",border:"1px solid #d8d8d8",borderRadius:12,paddingTop:10,paddingBottom:20}},react.createElement("h4",{style:{borderBottom:"1px solid #d8d8d8",paddingLeft:30,paddingRight:30,fontWeight:900,fontSize:18,paddingBottom:10}},card.title||"Comparison With Breakdown"),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("span",{style:{color:"#4264ea",fontSize:32,fontWeight:900}},card.list[0][0])),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("div",{style:{float:"left",fontWeight:600,color:"orange",width:165,marginRight:10}},react.createElement("div",{style:{float:"right"}},card.list[0][1],react.createElement("div",{style:{display:"inline",position:"relative"}},react.createElement("i",{className:"material-icons",style:{position:"absolute",top:-3}},"keyboard_arrow_down")),react.createElement("br",null),react.createElement("span",{style:{color:"#d8d8d8",whiteSpace:"nowrap"}}," ".concat(card.headers[1])))),react.createElement("div",{style:{float:"right",fontWeight:600,color:"#13dfe0",width:165,marginLeft:10}},card.list[0][2],react.createElement("div",{style:{display:"inline",position:"relative"}},react.createElement("i",{className:"material-icons",style:{position:"absolute",top:-3}},"keyboard_arrow_up")),react.createElement("br",null),react.createElement("span",{style:{color:"#d8d8d8",whiteSpace:"nowrap"}}," ".concat(card.headers[2])))),card.list[0].map((function(i,ix){return 3===ix?react.createElement("div",{style:{paddingTop:20,width:"100%",display:"flex"}},react.createElement("div",{style:{width:"20%"}}),react.createElement("div",{style:{float:"left",fontWeight:600,color:"#4264ea",fontSize:24,width:"33.3%"}},card.list[0][ix]),react.createElement("div",{style:{float:"right",fontWeight:600,color:"#a7a7a7",paddingTop:5,fontSize:18,width:"33.3%"}},card.headers[ix])):ix>3?react.createElement("div",{style:{paddingTop:20,width:"100%",display:"flex"}},react.createElement("div",{style:{width:"20%",color:"#13dfe0"}},react.createElement("div",{className:"breakdown-operator"},card.list[0][ix][0])),react.createElement("div",{className:"breakdown-lhs"},card.list[0][ix].slice(1)),react.createElement("div",{className:"breakdown-rhs"},card.headers[ix])):void 0})),react.createElement("div",null))):"list-card"===card.cardType?react.createElement("div",{style:{display:"flex",justifyContent:"center",paddingTop:30,paddingBottom:30},onMouseOverCapture:function onMouseOverCapture(e){console.log(e),e.preventDefault(),e.stopPropagation()}}," ",react.createElement("div",{style:{width:"100%",minHeight:250,backgroundColor:isFavorite?"#fff":"#fafaff",border:"1px solid #d8d8d8",borderRadius:12,paddingTop:10,paddingBottom:20}},react.createElement("h4",{style:{marginBottom:0,borderBottom:"1px solid #d8d8d8",paddingLeft:30,paddingRight:30,fontWeight:900,fontSize:16,paddingBottom:10}},card.title||"Comparison With Breakdown"),react.createElement("div",{style:{display:"flex",height:60,paddingTop:30,paddingBottom:30,paddingLeft:5,paddingRight:5,margin:10,backgroundColor:"#eeeeee",borderRadius:4,fontWeight:900,color:"#aaaaaa",fontSize:12,whiteSpace:"nowrap"}},card.headers[0]&&react.createElement("div",{style:{width:"35%"}},card.headers[0]),card.headers[1]&&react.createElement("div",{style:{width:"20%"}},card.headers[1]),card.headers[2]&&react.createElement("div",{style:{width:"25%"}},card.headers[2]),card.headers[3]&&react.createElement("div",{style:{width:"20%"}},card.headers[3])),react.createElement("div",{style:{padding:20,fontWeight:900}},card.list&&card.list[0].map((function(i,ix,a){return react.createElement("div",{style:{paddingTop:20,width:"100%",display:"flex",justifyContent:"space-between",borderBottom:"none",wordBreak:"break-word"}},card.list[ix]&&react.createElement("div",{style:{width:"35%",color:"#224cad"}},card.list[ix][0]),card.list[ix]&&react.createElement("div",{style:{width:"20%",color:"#4264ea"}},card.list[ix][1]),card.list[ix]&&react.createElement("div",{style:{width:"25%",color:"orange"}},card.list[ix][2]),card.list[ix]&&react.createElement("div",{style:{width:"20%",color:"red"}},card.list[ix][3]))}))))):react.createElement("div",{key:"chart-messages-".concat(ix,"-").concat(index,"-root-@").concat(timestamp)},react.createElement("div",{style:{display:"flex",justifyContent:"center"},onMouseOverCapture:function onMouseOverCapture(e){console.log(e),e.preventDefault(),e.stopPropagation()}},react.createElement(chartComponent_ChartComponent,{cardProp:Object(components.r)(Object(mobx_module.toJS)(card)),chartProp:"chart-messages-".concat(ix,"-").concat(index,"-@").concat(timestamp)}),Object(components.s)(card)))})):null}},{key:"render",value:function render(){var _this6=this,currentConversationActive=this.props.currentConversation.messages;return react.createElement(lib.CardPanel,{className:"MessagingPanel no-padding noZ pane-split-left pane-split-bottom"},react.createElement("div",{className:"messagePanelContainer"},react.createElement("div",{className:"messagePanelContentHolder"},react.createElement("div",{style:{height:75,width:"50%",float:"left",backgroundColor:this.state.messagePanelToggled||Store.a.conversationStore.trainAiderVisible?"#eeedf3":"#f5f4fa",cursor:"pointer"},onClick:function onClick(){_this6.toggleActionStation()}},react.createElement("div",{style:{marginTop:25,color:this.state.messagePanelToggled||Store.a.conversationStore.trainAiderVisible?"#8e8e8e":"#4264ea"}},react.createElement("div",{style:{float:"left",marginLeft:30,paddingTop:2},onClick:function onClick(){}},react.createElement("div",null,react.createElement("img",{style:{paddingBottom:8},src:this.state.messagePanelToggled||Store.a.conversationStore.trainAiderVisible?action_icon_inactive_default.a:action_icon_default.a}))),react.createElement("span",{style:{marginLeft:15,fontWeight:600}},"Action Centre"))),react.createElement("div",{style:{height:75,width:"50%",float:"right",backgroundColor:this.state.messagePanelToggled||Store.a.conversationStore.trainAiderVisible?"#f5f4fa":"#eeedf3",cursor:"pointer"},onClick:function onClick(){_this6.toggleMessagePanel()}},react.createElement("div",{style:{marginTop:25,color:this.state.messagePanelToggled||Store.a.conversationStore.trainAiderVisible?"#4264ea":"#8e8e8e",cursor:"pointer"}},react.createElement("div",{style:{float:"left",marginLeft:30,paddingTop:2},onClick:function onClick(){}},react.createElement("i",{className:"material-icons"},"insert_comment")),react.createElement("span",{style:{marginLeft:15,fontWeight:600}},"Ask & Train"))))),this.state.messagePanelToggled||Store.a.conversationStore.trainAiderVisible?react.createElement("div",{className:"messagePanelCard",key:this.props.selectedBusinessId+this.props.selectedBusinessAccessToken},react.createElement("div",{className:"scrollbar",id:"scrollbox",style:{width:"100%",height:"100%"},onClick:function onClick(){_this6.closeDropDownBox()},ref:"table",onScroll:function onScroll(e){_this6.checkScroll(e,"scrollbox")}},!Store.a.authStore.shallowLoading&&Store.a.businessStore.businessListData.length<=1&&Store.a.authStore.trainAiderPopUpOpen?react.createElement("div",{style:{padding:20,marginTop:55,marginLeft:40,marginRight:40,borderRadius:16,backgroundColor:"#fff",minHeight:320}},react.createElement("div",{style:{color:"#4264ea",fontSize:20,fontWeight:500,lineHeight:"32px"}},react.createElement("div",{style:{height:40,marginBottom:10,width:"100%"}},react.createElement("div",{style:{float:"left"}},react.createElement("img",{src:aider_icon_t_default.a,height:30,width:30}))," ",react.createElement("div",{onClick:function onClick(){Store.a.authStore.closeTrainAiderPopup()},className:"grey-hover",style:{float:"right",fontSize:20,fontWeight:900,color:"#c7c7c7",cursor:"pointer"}},react.createElement("div",null,"X"))),react.createElement("p",null,"Once you have a client connected, you can ask Aider questions about your clients' connected data performance."),react.createElement("p",null,"Aider is still learning so the more you ask and provide feedback the smarter Aider will get."))):null,(this.state.scrollUpHappened||!0===this.props.messagesLoading)&&react.createElement("div",{style:{position:"relative"}},react.createElement("div",{style:{width:100,height:50,top:10,left:"49%",zIndex:999,position:"absolute"}},components.u),react.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"transparent",width:"100%"}},react.createElement("div",{style:{height:50}}))),void 0!==currentConversationActive?currentConversationActive.map((function(i,ix,conversationArr){return i.questions&&i.questions.length>=1&&i.answers.length>=1&&"<"!==i.questions[0]?react.createElement("div",{style:{marginBottom:20,marginTop:20},key:"question-".concat(_this6.props.selectedBusinessId,"-").concat(ix)},react.createElement("div",null,react.createElement("div",{className:"messagePanelQuestion speech-bubble-ds",id:"q-".concat(i.timestamp)},i.questions,react.createElement("div",{className:"speech-bubble-ds__arrow"})),react.createElement("br",null)),react.createElement("div",{key:"answer".concat(i)},i.answers.map((function(answer,index,arr){return react.createElement("div",{key:"answer-".concat(_this6.props.selectedBusinessId,"-").concat(index)},react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},answer,index===arr.length-1&&_this6.renderCards(i.cards,index,!1,!1,i.timestamp),react.createElement("br",null),ix===conversationArr.length-1&&index===arr.length-1&&i.alternatives&&i.alternatives.map((function(alt){if("inline-vertical"===alt.layout)return react.createElement("div",{key:"alternative-".concat(_this6.props.selectedBusinessId,"-").concat(ix)},react.createElement("div",{onClick:function onClick(){Store.a.authStore.Intercom("trackEvent","selected-message_alternative",{}),"question"===alt.type&&_this6.sendMessage(alt.text)},className:"actionButton",style:{margin:15,height:35,width:"auto"}},alt.text))})),react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{display:"flex",justifyContent:"center",color:"#c3c3c3",position:"relative",maxWidth:390,marginLeft:25}},react.createElement("div",{style:{position:"absolute",left:"1%",top:10}},moment_default()(i.timestamp).format("LT")),index===arr.length-1&&(i.labels.includes("can_resume")||i.labels.includes("can_schedule")||i.metadata)&&react.createElement(react.Fragment,null,react.createElement("span",{onClick:function onClick(e){_this6.renderDropDownBox("options".concat(ix).concat(index))},style:{position:"absolute",top:-20,left:"90%",cursor:"pointer",fontSize:36,fontWeight:800}},"..."),react.createElement("div",{style:{position:"absolute",top:-20,left:"90%"}},react.createElement("div",{style:{position:"relative"}},react.createElement("div",{style:{zIndex:100,borderRadius:4,position:"absolute",top:60,left:-160,width:180,height:"auto",visibility:"hidden",backgroundColor:"#ececec",border:"0.5px solid"},id:"options".concat(ix).concat(index)},react.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this6.buttonAction("options".concat(ix).concat(index),i.messageId,"favorites",answer,i.voted,i.metadata,i.conversationId)}},"Add to Favorites"),i.labels.includes("can_resume")&&react.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this6.buttonAction("options".concat(ix).concat(index),i.messageId,"resume",answer,i.voted,i.metadata,i.conversationId)}},"Resume Conversation"),"down"===i.voted&&react.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this6.buttonAction("options".concat(ix).concat(index),i.messageId,"feedback",answer,i.voted,i.metadata)}},"Provide Feedback"),i.metadata&&react.createElement("div",{className:"dropdownOption",onClick:function onClick(){_this6.buttonAction("options".concat(ix).concat(index),i.messageId,"metadata",answer,i.voted,i.metadata)}},"See More"))))),index===arr.length-1&&i.labels.includes("can_vote")&&react.createElement("div",{style:{position:"absolute",left:"45%",top:10}},react.createElement("i",{onClick:function onClick(){_this6.provideFeedback(i.messageId,"up","options".concat(ix).concat(index),answer)},style:{color:i.voted&&"up"===i.voted&&"#4264ea",cursor:"pointer"},className:"material-icons"},"thumb_up"),react.createElement("i",{onClick:function onClick(){_this6.provideFeedback(i.messageId,"down","options".concat(ix).concat(index),answer)},style:{color:i.voted&&"down"===i.voted&&"#4264ea",marginLeft:10,cursor:"pointer"},className:"material-icons"},"thumb_down"))))}))),react.createElement("br",null)):null})):null,this.props.responseLoading?react.createElement("div",null,react.createElement("div",{style:{marginLeft:25,marginTop:10}},react.createElement("div",{style:{margin:0,height:"40px !important",width:"150px !important"},className:"messagePanelAnswerConversation speech-bubble-ds_left_loader"},react.createElement("div",{style:{margin:0,marginLeft:28},className:"spinner1"},react.createElement("div",{className:"bounce1"}),react.createElement("div",{className:"bounce2"}),react.createElement("div",{className:"bounce3"})),react.createElement("div",{className:"speech-bubble-ds__arrow_left_loader"})))):null,react.createElement("div",{style:{height:60}})),react.createElement("div",{style:{height:60,width:"100%"}},react.createElement("div",{style:{color:"#4264ea",position:"relative",width:"100%"}},react.createElement("div",{style:{overflowY:"hidden",position:"absolute",bottom:"10px",maxHeight:100,height:(this.state.conversationStarters,"auto"),maxWidth:"100%",overflowX:"auto",display:"inline-block",whiteSpace:"nowrap",borderTop:this.state.conversationStarters?"#d8d8d8 1px solid":"none",backgroundColor:this.state.conversationStarters?"#f5f4fa":"transparent",width:this.state.conversationStarters?"100%":"auto",paddingTop:3},className:"scrollbar"},this.state.conversationStarters?this.renderAlternatives2():this.state.displayRecommendedAlternatives?this.renderRecommendedAlternatives(this.state.recommendedAlternatives):this.renderAlternatives(currentConversationActive))))):react.createElement(ActionCentre.a,{renderActionCentreModal:this.props.renderActionCentreModal,actionCentrePopupOpen:Store.a.authStore.actionCentrePopupOpen}),react.createElement("div",{className:"message-input-container"},react.createElement("div",{className:"conversation-starters-button ".concat(this.state.conversationStarters?"csb-selected":""),onClick:function onClick(){_this6.toggleConversationStarters()}},react.createElement("i",{style:{color:"white",padding:8.5},className:"material-icons"},"apps")),react.createElement("input",{tabIndex:-1,className:"message-input",type:"text",name:"message",value:this.state.message,placeholder:"Send Aider a message...",onFocus:function onFocus(){return _this6.selectInput()},onKeyPress:function onKeyPress(event){"Enter"===event.key&&(event.preventDefault(),event.stopPropagation(),_this6.sendMessage())},onChange:function onChange(e){_this6.handleMessageInput(e)}}),react.createElement("div",{className:"message-send-button",onClick:function onClick(){_this6.sendMessage()}},react.createElement("i",{style:{color:"white",fontWeight:800,padding:8.5},className:"material-icons"},"arrow_upward"))))}}]),MessagingPanel}(react.Component),components_MessagingPanel=Object(mobxreact_esm.b)(MessagingPanel_MessagingPanel);try{MessagingPanel_MessagingPanel.displayName="MessagingPanel",MessagingPanel_MessagingPanel.__docgenInfo={description:"",displayName:"MessagingPanel",props:{store:{defaultValue:null,description:"",name:"store",required:!0,type:{name:"any"}},currentConversation:{defaultValue:null,description:"",name:"currentConversation",required:!0,type:{name:"any"}},startConversation:{defaultValue:null,description:"",name:"startConversation",required:!0,type:{name:"any"}},selectMessageInput:{defaultValue:null,description:"",name:"selectMessageInput",required:!0,type:{name:"any"}},getActiveConversation:{defaultValue:null,description:"",name:"getActiveConversation",required:!0,type:{name:"any"}},scheduleMessage:{defaultValue:null,description:"",name:"scheduleMessage",required:!0,type:{name:"any"}},selectedBusinessId:{defaultValue:null,description:"",name:"selectedBusinessId",required:!0,type:{name:"any"}},selectedBusinessAccessToken:{defaultValue:null,description:"",name:"selectedBusinessAccessToken",required:!0,type:{name:"any"}},provideFeedback:{defaultValue:null,description:"",name:"provideFeedback",required:!0,type:{name:"any"}},renderFeedbackModal:{defaultValue:null,description:"",name:"renderFeedbackModal",required:!0,type:{name:"any"}},viewMetadata:{defaultValue:null,description:"",name:"viewMetadata",required:!0,type:{name:"any"}},resumeActiveConversationFromMessage:{defaultValue:null,description:"",name:"resumeActiveConversationFromMessage",required:!0,type:{name:"any"}},renderActionCentreModal:{defaultValue:null,description:"",name:"renderActionCentreModal",required:!0,type:{name:"any"}},loadPreviousMessagesWithTimestamp:{defaultValue:null,description:"",name:"loadPreviousMessagesWithTimestamp",required:!0,type:{name:"any"}},messagesLoading:{defaultValue:null,description:"",name:"messagesLoading",required:!0,type:{name:"any"}},responseLoading:{defaultValue:null,description:"",name:"responseLoading",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MessagingPanel.tsx#MessagingPanel"]={docgenInfo:MessagingPanel_MessagingPanel.__docgenInfo,name:"MessagingPanel",path:"src/components/MessagingPanel.tsx#MessagingPanel"})}catch(__react_docgen_typescript_loader_error){}var BusinessHeader_BusinessHeader=function(_React$Component){Object(inherits.a)(BusinessHeader,_React$Component);var _super=Object(createSuper.a)(BusinessHeader);function BusinessHeader(props){Object(classCallCheck.a)(this,BusinessHeader);return _super.call(this,props)}return Object(createClass.a)(BusinessHeader,[{key:"render",value:function render(){var store=this.props.store;return react.createElement(lib.CardPanel,{className:"BusinessHeaderPanel no-padding"},react.createElement("span",{style:{marginTop:20,marginLeft:20,float:"left",width:"46%"}},react.createElement("div",{style:{display:"flex"}},react.createElement("span",{style:{fontSize:30,paddingLeft:20,fontWeight:900,color:"#4264ea"}},this.props.selectedBusinessName||(Store.a.businessStore.setUpBusinessModalOpen?"":store.selectedBusinessData.name.replace(/(.{26})..+/,"$1..."))))))}}]),BusinessHeader}(react.Component),components_BusinessHeader=Object(mobxreact_esm.b)(BusinessHeader_BusinessHeader);try{BusinessHeader_BusinessHeader.displayName="BusinessHeader",BusinessHeader_BusinessHeader.__docgenInfo={description:"",displayName:"BusinessHeader",props:{store:{defaultValue:null,description:"",name:"store",required:!0,type:{name:"any"}},selectedBusinessName:{defaultValue:null,description:"",name:"selectedBusinessName",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BusinessHeader.tsx#BusinessHeader"]={docgenInfo:BusinessHeader_BusinessHeader.__docgenInfo,name:"BusinessHeader",path:"src/components/BusinessHeader.tsx#BusinessHeader"})}catch(__react_docgen_typescript_loader_error){}var index_cjs=__webpack_require__(80),index_cjs_default=__webpack_require__.n(index_cjs),separator_Separator=function Separator(props){return react_default.a.createElement("div",{className:"separator"},props.children&&react_default.a.createElement("span",{className:"separator-text"},props.children))};separator_Separator.__docgenInfo={description:"",methods:[],displayName:"Separator"};var separator=separator_Separator;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\external\\separator.js"]={name:"Separator",docgenInfo:separator_Separator.__docgenInfo,path:"src\\external\\separator.js"});var signUpType=Object.freeze({EMAIL:"email",WITH_PHONE:"with_phone",GOOGLE:"google",FACEBOOK:"facebook"}),external_link=__webpack_require__(110),react_router=(__webpack_require__(1523),__webpack_require__(1549)),aider_dot=__webpack_require__(700),aider_dot_default=__webpack_require__.n(aider_dot),SignUpForm_GoogleButton=function GoogleButton(props){Object(react_router.b)();return react_default.a.createElement("button",{className:"sign-up-button google-sign-up",onClick:function handleClick(){props.signUpHandler("google")}},react_default.a.createElement("img",{className:"social-sign-up-icon",src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Sign up with Google"}),react_default.a.createElement("span",{className:"social-sign-up-text"},"Google"))},SignUpForm_XeroButton=function XeroButton(props){Object(react_router.b)();return react_default.a.createElement("button",{className:"sign-up-button xero-sign-up",onClick:function handleClick(){props.signUpHandler("xero")}},react_default.a.createElement("img",{className:"social-sign-up-icon xero-sign-up-icon",src:"data:image/svg+xml,%3Csvg viewBox='0 0 45 46' xmlns='http://www.w3.org/2000/svg'%3E %3Ctitle%3EXero%3C/title%3E %3Cpath fill='%2313B5EA' d='M22.457 45.49c12.402 0 22.456-10.072 22.456-22.495C44.913 10.57 34.86.5 22.457.5 10.054.5 0 10.57 0 22.995 0 35.418 10.054 45.49 22.457 45.49' /%3E %3Cpath fill='%23FFFFFF' d='M10.75 22.935l3.832-3.85a.688.688 0 0 0-.977-.965l-3.83 3.833-3.845-3.84a.687.687 0 0 0-.966.979l3.832 3.837-3.83 3.84a.688.688 0 1 0 .964.981l3.84-3.842 3.825 3.827a.685.685 0 0 0 1.184-.473.68.68 0 0 0-.2-.485l-3.83-3.846m22.782.003c0 .69.56 1.25 1.25 1.25a1.25 1.25 0 0 0-.001-2.5c-.687 0-1.246.56-1.246 1.25m-2.368 0c0-1.995 1.62-3.62 3.614-3.62 1.99 0 3.613 1.625 3.613 3.62s-1.622 3.62-3.613 3.62a3.62 3.62 0 0 1-3.614-3.62m-1.422 0c0 2.78 2.26 5.044 5.036 5.044s5.036-2.262 5.036-5.043c0-2.78-2.26-5.044-5.036-5.044a5.046 5.046 0 0 0-5.036 5.044m-.357-4.958h-.21c-.635 0-1.247.2-1.758.595a.696.696 0 0 0-.674-.54.68.68 0 0 0-.68.684l.002 8.495a.687.687 0 0 0 1.372-.002v-5.224c0-1.74.16-2.444 1.648-2.63.14-.017.288-.014.29-.014.406-.015.696-.296.696-.675a.69.69 0 0 0-.69-.688m-13.182 4.127c0-.02.002-.04.003-.058a3.637 3.637 0 0 1 7.065.055H16.2zm8.473-.13c-.296-1.403-1.063-2.556-2.23-3.296a5.064 5.064 0 0 0-5.61.15 5.098 5.098 0 0 0-1.973 5.357 5.08 5.08 0 0 0 4.274 3.767c.608.074 1.2.04 1.81-.12a4.965 4.965 0 0 0 1.506-.644c.487-.313.894-.727 1.29-1.222.006-.01.014-.017.022-.027.274-.34.223-.826-.077-1.056-.254-.195-.68-.274-1.014.156-.072.104-.153.21-.24.315-.267.295-.598.58-.994.802-.506.27-1.08.423-1.69.427-1.998-.023-3.066-1.42-3.447-2.416a3.716 3.716 0 0 1-.153-.58l-.01-.105h7.17c.982-.022 1.51-.717 1.364-1.51z' /%3E %3C/svg%3E",alt:"Sign up with Xero"}),react_default.a.createElement("span",{className:"social-sign-up-text"},"Xero"))},SignUpForm_SignUpFormComponent=function(_React$Component){Object(inherits.a)(SignUpFormComponent,_React$Component);var _super=Object(createSuper.a)(SignUpFormComponent);function SignUpFormComponent(props){var _this;return Object(classCallCheck.a)(this,SignUpFormComponent),(_this=_super.call(this,props)).signUpUsingEmail=function(){return _this.state.checked?_this.props.signUpUsingEmail(_this.props.emailFormFields):_this.setState({redText:!0})},_this.signUpUsingSocial=function(type){return _this.state.checked?_this.props.signUpUsingSocial(type):_this.setState({redText:!0})},_this.hasSocial=function(){return _this.props.signUpTypes.includes(signUpType.GOOGLE)||_this.props.signUpTypes.includes(signUpType.FACEBOOK)},_this.hasEmail=function(){return _this.props.signUpTypes.includes(signUpType.EMAIL)},_this.hasPhone=function(){return _this.props.signUpTypes.includes(signUpType.WITH_PHONE)},_this.state={checked:!1,redText:!1,emailFormFields:null,signUpFormFields:null},_this}return Object(createClass.a)(SignUpFormComponent,[{key:"render",value:function render(){var _this2=this,textProps=this.props.readOnly?{readOnly:!0,disabled:!0}:{};return react_default.a.createElement("div",null," ",react_default.a.createElement(lib.CardPanel,{className:"SignUpFormPanel"},react_default.a.createElement("div",{style:{padding:30,minWidth:900,width:900,height:600}},react_default.a.createElement("div",{style:{height:140}},react_default.a.createElement("div",{style:{width:"100%"}},react_default.a.createElement("span",{style:{color:"#4264ea",fontWeight:600,fontSize:32}},"Get started with your free",react_default.a.createElement("sup",{style:{fontSize:18}},"*")," Aider Advisor account"),"  ",react_default.a.createElement("div",{style:{width:"10%",float:"right"}},react_default.a.createElement("img",{style:{float:"right"},src:aider_dot_default.a,width:54.5,height:50})),react_default.a.createElement("span",{style:{display:"block",color:"#4264ea",fontSize:14}},"*free unlimited trial for up to 5 connected clients.")),react_default.a.createElement("br",null),react_default.a.createElement("div",{style:{width:"70%",float:"left"}},react_default.a.createElement("h3",{style:{color:"#4264ea",fontSize:20,fontWeight:600}},"No credit card required."))),react_default.a.createElement("div",{className:"sign-up-form",style:{float:"left"}},react_default.a.createElement("span",{style:{color:"#4264ea",fontSize:20,fontWeight:600}},"Sign up with an email address."),react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"signup"},react_default.a.createElement("input",Object.assign({type:"text",maxLength:25,name:"firstName",value:this.props.emailFormFields.firstName,placeholder:"First name",className:"signup-form",onChange:this.props.handleEmailFormChange},textProps)),react_default.a.createElement("input",Object.assign({type:"text",maxLength:25,name:"lastName",value:this.props.emailFormFields.lastName,placeholder:"Last name",className:"signup-form",onChange:this.props.handleEmailFormChange},textProps)),react_default.a.createElement("br",null),react_default.a.createElement("input",Object.assign({type:"email",name:"email",maxLength:40,value:this.props.emailFormFields.email,placeholder:"Email",className:"signup-form",onChange:this.props.handleEmailFormChange},textProps)),react_default.a.createElement("input",{type:"password",name:"password",value:this.props.emailFormFields.password,placeholder:"Password",className:"signup-form",onChange:this.props.handleEmailFormChange}),react_default.a.createElement("input",{type:"text",name:"phone",value:this.props.emailFormFields.phone,placeholder:"Phone Number",className:"signup-form",onChange:this.props.handleEmailFormChange,onKeyPress:function onKeyPress(event){if("Enter"===event.key)return event.preventDefault(),event.stopPropagation(),_this2.signUpUsingEmail}}),react_default.a.createElement("form",{style:{width:0,fontSize:14,display:"inline-block",marginLeft:15,marginTop:30},onClick:function onClick(e){e.stopPropagation(),console.log("?",e)}},react_default.a.createElement("label",{style:{whiteSpace:"nowrap",fontSize:14,color:this.state.redText?"red":"#9e9e9e",fontWeight:this.state.redText?600:100},className:"Ccontainer"},"I have read and I agree to the ",react_default.a.createElement(external_link.a,{href:"https://www.aider.ai/terms",newWindow:!0},"Terms")," ",react_default.a.createElement("br",null)," and the ",react_default.a.createElement(external_link.a,{href:"https://www.aider.ai/privacy-policy/",newWindow:!0},"Privacy Policy"),react_default.a.createElement("input",{type:"checkbox",name:"Check",checked:this.state.checked,onClick:function onClick(e){_this2.setState({checked:!_this2.state.checked,redText:!1})}}),react_default.a.createElement("span",{className:"checkmark"}))),react_default.a.createElement("div",{style:{position:"relative"}},react_default.a.createElement("div",{style:{position:"absolute",color:"red",fontSize:12,left:180,marginTop:20}},Store.a.authStore.signInError&&"string"==typeof Store.a.authStore.signInError&&Store.a.authStore.signInError))),react_default.a.createElement("div",{style:{marginTop:80,marginLeft:15}},react_default.a.createElement("button",{style:{float:"right",marginRight:100},className:"actionButton ".concat(this.state.checked?"":"disabledButton"," bigButton "),onClick:this.signUpUsingEmail},"Sign Up")))),react_default.a.createElement("div",{style:{position:"relative",float:"right"}},react_default.a.createElement("div",{style:{position:"absolute",width:180,right:0,top:-10}},react_default.a.createElement(separator,null,react_default.a.createElement("b",{style:{color:"#4264ea"}},"Or sign up with")),react_default.a.createElement(SignUpForm_GoogleButton,{signUpHandler:this.signUpUsingSocial.bind(this)}),react_default.a.createElement(SignUpForm_XeroButton,{signUpHandler:this.signUpUsingSocial.bind(this)}))))),react_default.a.createElement("div",{style:{height:100,width:900}},react_default.a.createElement("span",{style:{fontSize:26,fontWeight:600,color:"#4264ea",marginLeft:120}},"Already have an account?")," ",react_default.a.createElement(external_link.a,{href:"/"},react_default.a.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton"},"Sign In"))))}}]),SignUpFormComponent}(react_default.a.Component);Object(mobxreact_esm.b)(SignUpForm_SignUpFormComponent);try{SignUpForm_GoogleButton.displayName="GoogleButton",SignUpForm_GoogleButton.__docgenInfo={description:"",displayName:"GoogleButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SignUpForm.tsx#GoogleButton"]={docgenInfo:SignUpForm_GoogleButton.__docgenInfo,name:"GoogleButton",path:"src/components/SignUpForm.tsx#GoogleButton"})}catch(__react_docgen_typescript_loader_error){}try{SignUpForm_XeroButton.displayName="XeroButton",SignUpForm_XeroButton.__docgenInfo={description:"",displayName:"XeroButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SignUpForm.tsx#XeroButton"]={docgenInfo:SignUpForm_XeroButton.__docgenInfo,name:"XeroButton",path:"src/components/SignUpForm.tsx#XeroButton"})}catch(__react_docgen_typescript_loader_error){}try{SignUpForm_SignUpFormComponent.displayName="SignUpFormComponent",SignUpForm_SignUpFormComponent.__docgenInfo={description:"",displayName:"SignUpFormComponent",props:{emailFormFields:{defaultValue:null,description:"",name:"emailFormFields",required:!0,type:{name:"any"}},signUpUsingEmail:{defaultValue:null,description:"",name:"signUpUsingEmail",required:!0,type:{name:"any"}},signUpUsingSocial:{defaultValue:null,description:"",name:"signUpUsingSocial",required:!0,type:{name:"any"}},signUpTypes:{defaultValue:null,description:"",name:"signUpTypes",required:!0,type:{name:"any"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"any"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!0,type:{name:"any"}},handleEmailFormChange:{defaultValue:null,description:"",name:"handleEmailFormChange",required:!0,type:{name:"any"}},signUpUsingGoogle:{defaultValue:null,description:"",name:"signUpUsingGoogle",required:!0,type:{name:"any"}},signUpUsingFacebook:{defaultValue:null,description:"",name:"signUpUsingFacebook",required:!0,type:{name:"any"}},signUpUsingXero:{defaultValue:null,description:"",name:"signUpUsingXero",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SignUpForm.tsx#SignUpFormComponent"]={docgenInfo:SignUpForm_SignUpFormComponent.__docgenInfo,name:"SignUpFormComponent",path:"src/components/SignUpForm.tsx#SignUpFormComponent"})}catch(__react_docgen_typescript_loader_error){}var SignInForm_SignInForm=function(_React$Component){Object(inherits.a)(SignInForm,_React$Component);var _super=Object(createSuper.a)(SignInForm);function SignInForm(props){var _this;Object(classCallCheck.a)(this,SignInForm),(_this=_super.call(this,props)).handleEmailFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState((function(prevState){var signUpFormFields=prevState.signUpFormFields;return signUpFormFields[name]=value,{signUpFormFields:signUpFormFields}}))},_this.handleSignInFormChange=function(event){var _event$target2=event.target,name=_event$target2.name,value=_event$target2.value;_this.setState((function(prevState){var emailFormFields=prevState.emailFormFields;return emailFormFields[name]=value,{emailFormFields:emailFormFields}}))},_this.signUpUsingSocial=function(type){return _this.props.signUpUsingSocial(type)};return _this.state={showResetPasswordForm:!1,success:null,emailFormFields:{emailSignIn:"",passwordSignIn:""},signUpFormFields:{firstName:"",lastName:"",email:"",password:"",phone:""}},_this}return Object(createClass.a)(SignInForm,[{key:"handlePasswordReset",value:function handlePasswordReset(){var _this2=this;index_cjs_default.a.auth().sendPasswordResetEmail(this.state.emailFormFields.emailSignIn,{url:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL}).then((function(res){console.log("res",res),_this2.setState({success:!0})}),(function(rej){console.log("rej",rej),_this2.setState({success:!1})}))}},{key:"renderPasswordReset",value:function renderPasswordReset(showForm){this.setState({showResetPasswordForm:showForm})}},{key:"render",value:function render(){var _this3=this;this.props.store;return react.createElement("div",null,react.createElement(lib.CardPanel,{className:"SignInFormPanel"},react.createElement("div",{style:{padding:30,maxWidth:450,minWidth:900,width:900,paddingLeft:65,height:300}},this.state.showResetPasswordForm?react.createElement("div",{className:"fadedshort"},react.createElement("h1",{style:{color:"#4264ea",fontWeight:600}},"Reset Password"),react.createElement("div",{className:"login-form"},react.createElement("input",{style:{marginRight:20,width:250},type:"text",name:"emailSignIn",maxLength:40,value:this.state.emailFormFields.emailSignIn,placeholder:"Your email address",className:"signup-form",onChange:this.handleSignInFormChange,onKeyPress:function onKeyPress(event){"Enter"===event.key&&(event.preventDefault(),event.stopPropagation(),_this3.handlePasswordReset())}}),react.createElement("button",{className:"actionButton bigButton",style:{marginLeft:80},onClick:function onClick(){_this3.handlePasswordReset()}},"Reset")),react.createElement("div",{style:{position:"relative"}},react.createElement("div",{style:{position:"absolute",color:"red",fontSize:12,top:"-30px",marginLeft:15}},react.createElement("span",{onClick:function onClick(e){_this3.renderPasswordReset(!1)},style:{position:"absolute",textDecoration:"underline",color:"#28baea",width:200,cursor:"pointer",top:40}},"Return to Sign in"),react.createElement("span",{style:{top:70,position:"absolute",width:300,color:"#4264ea"}},this.state.success&&"An email has been sent to your inbox at ".concat(this.state.emailFormFields.emailSignIn,", please follow the link to reset your password"),!1===this.state.success&&"Please verify you have entered the correct email address associated with your account and try again.")))):react.createElement("div",null,react.createElement("h1",{style:{color:"#4264ea",fontWeight:600}},"Log in"),react.createElement("div",{className:"login-form"},react.createElement("input",{style:{marginRight:20,width:250},type:"text",name:"emailSignIn",value:this.state.emailFormFields.emailSignIn,placeholder:"Your email address",className:"signup-form",onChange:this.handleSignInFormChange,onKeyPress:function onKeyPress(event){"Enter"===event.key&&(event.preventDefault(),event.stopPropagation(),_this3.props.signInHandler(_this3.state.emailFormFields.emailSignIn,_this3.state.emailFormFields.passwordSignIn))}}),react.createElement("input",{style:{width:250},type:"password",name:"passwordSignIn",value:this.state.emailFormFields.passwordSignIn,placeholder:"Your password",className:"signup-form",onChange:this.handleSignInFormChange,onKeyPress:function onKeyPress(event){"Enter"===event.key&&(event.preventDefault(),event.stopPropagation(),_this3.props.signInHandler(_this3.state.emailFormFields.emailSignIn,_this3.state.emailFormFields.passwordSignIn))}}),react.createElement("div",{style:{height:100}},react.createElement("button",{className:"actionButton bigButton",style:{marginLeft:80},onClick:function onClick(){_this3.props.signInHandler(_this3.state.emailFormFields.emailSignIn,_this3.state.emailFormFields.passwordSignIn)}},"Sign In"),react.createElement("div",{style:{width:200,marginLeft:82}},react.createElement(separator,null,react.createElement("b",{style:{color:"#4264ea"}},"or sign in with")),react.createElement(SignUpForm_GoogleButton,{signUpHandler:this.signUpUsingSocial.bind(this)}),react.createElement(SignUpForm_XeroButton,{signUpHandler:this.signUpUsingSocial.bind(this)})))),react.createElement("div",{style:{position:"relative"}},react.createElement("div",{style:{position:"absolute",color:"red",fontSize:12,top:"-30px",marginLeft:15}},react.createElement("span",{onClick:function onClick(e){_this3.renderPasswordReset(!0)},style:{position:"absolute",textDecoration:"underline",color:"#28baea",width:200,cursor:"pointer"}},"Forgot your password?"),react.createElement("br",null),react.createElement("div",{style:{maxWidth:480}},this.props.signInError&&"string"==typeof this.props.signInError&&this.props.signInError),react.createElement("br",null),react.createElement("span",null,"Login Unsuccessful."===this.props.signInError&&"If you already have an account, ensure you are signing in with the login method associated with that account.")))))),react.createElement("div",{style:{height:100,width:900}},react.createElement("span",{style:{fontSize:26,fontWeight:600,color:"#4264ea",marginLeft:120}},"New Advisor?")," ",react.createElement(external_link.a,{href:"/signup"},react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton"},"Create free account"))))}}]),SignInForm}(react.Component),components_SignInForm=Object(mobxreact_esm.b)(SignInForm_SignInForm);try{SignInForm_SignInForm.displayName="SignInForm",SignInForm_SignInForm.__docgenInfo={description:"",displayName:"SignInForm",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},signInHandler:{defaultValue:null,description:"",name:"signInHandler",required:!0,type:{name:"any"}},signUpUsingEmail:{defaultValue:null,description:"",name:"signUpUsingEmail",required:!0,type:{name:"any"}},signUpUsingSocial:{defaultValue:null,description:"",name:"signUpUsingSocial",required:!0,type:{name:"any"}},signInError:{defaultValue:null,description:"",name:"signInError",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SignInForm.tsx#SignInForm"]={docgenInfo:SignInForm_SignInForm.__docgenInfo,name:"SignInForm",path:"src/components/SignInForm.tsx#SignInForm"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(680),__webpack_require__(1524);var js_cookie=__webpack_require__(18),js_cookie_default=__webpack_require__.n(js_cookie),feedbackModal_FeedbackModal=(__webpack_require__(1525),function(_React$Component){Object(inherits.a)(FeedbackModal,_React$Component);var _super=Object(createSuper.a)(FeedbackModal);function FeedbackModal(props){var _this;Object(classCallCheck.a)(this,FeedbackModal),(_this=_super.call(this,props)).handleFeedbackFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState((function(prevState){var feedbackFormFields=prevState.feedbackFormFields;return feedbackFormFields[name]=value,{feedbackFormFields:feedbackFormFields}}))};return _this.state={category:"",feedbackFormFields:{feedback:""}},_this}return Object(createClass.a)(FeedbackModal,[{key:"render",value:function render(){var _this2=this;this.props.store;return react.createElement("div",{id:"feedbackModal",className:"feedback-modal-container"},react.createElement(lib.CardPanel,{className:"feedback-card"},react.createElement("div",{className:"feedback-holder",style:{padding:30,marginTop:40}},react.createElement("h4",{className:"feedback-question-aider",style:{color:"#4264ea"}},"Tell us","down"===this.props.type?" how we can improve":" why you liked",":"),react.createElement("p",{className:"feedback-answer"},' " ',this.props.messageToGiveFeedback,' " ')),react.createElement("div",{className:"feedback-text-holder",style:{paddingLeft:35,paddingRight:35}},react.createElement("input",{type:"textarea",name:"feedback",value:this.state.feedbackFormFields.feedback,placeholder:"Please share with us your suggestions to improve...",className:"feedback-form-detail",onChange:this.handleFeedbackFormChange})),react.createElement("div",{style:{paddingLeft:20,paddingRight:20}},react.createElement("div",null,react.createElement(lib.Select,{id:"Select-9",multiple:!1,onChange:function onChange(e){_this2.setState({category:e.target.value})},options:{classes:"big-trigger fillBackground",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:""},react.createElement("option",{disabled:!0,value:""},"Select an option from the list"),react.createElement("option",{value:"incorrect_data"},"I know this answer has incorrect data."),react.createElement("option",{value:"answer_expected"},"I expect Aider to be able to answer this."),react.createElement("option",{value:"improve_wording"},"The way the answer is worded could be improved."),react.createElement("option",{value:"other"},"Other")))),react.createElement("div",{className:"feedback-button-holder",style:{width:"100%",marginTop:35}},react.createElement("button",{className:"feedback-form-button",style:{marginLeft:"38%"},onClick:function onClick(){_this2.props.submitFeedback(_this2.state.feedbackFormFields.feedback,_this2.state.category,_this2.props.type),_this2.setState({category:""})}},"Submit Feedback"))))}}]),FeedbackModal}(react.Component));try{feedbackModal.displayName="feedbackModal",feedbackModal.__docgenInfo={description:"",displayName:"feedbackModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},submitFeedback:{defaultValue:null,description:"",name:"submitFeedback",required:!0,type:{name:"any"}},feedbackId:{defaultValue:null,description:"",name:"feedbackId",required:!0,type:{name:"any"}},messageId:{defaultValue:null,description:"",name:"messageId",required:!0,type:{name:"any"}},messageToGiveFeedback:{defaultValue:null,description:"",name:"messageToGiveFeedback",required:!0,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/modals/feedbackModal.tsx#feedbackModal"]={docgenInfo:feedbackModal.__docgenInfo,name:"feedbackModal",path:"src/entities/modals/feedbackModal.tsx#feedbackModal"})}catch(__react_docgen_typescript_loader_error){}var blue_account=__webpack_require__(701),blue_account_default=__webpack_require__.n(blue_account),options=__webpack_require__(241),options_default=__webpack_require__.n(options),clientModal_ClientModal=function(_React$Component){Object(inherits.a)(ClientModal,_React$Component);var _super=Object(createSuper.a)(ClientModal);function ClientModal(props){var _this;Object(classCallCheck.a)(this,ClientModal),(_this=_super.call(this,props)).handleClientFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value,nameIndex=name.split("-"),nameV=nameIndex[0],indexV=nameIndex[1];_this.setState((function(prevState){var clientFormFields=prevState.clientFormFields;return clientFormFields[indexV][nameV]=value,{clientFormFields:clientFormFields}}))};return _this.state={selectedClientEmails:[],clientFormFields:[{givenName:"",familyName:"",emailAddress:""}],dropdownIdOpen:null},_this}return Object(createClass.a)(ClientModal,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"selectUserForInvitation",value:function selectUserForInvitation(fields){Store.a.businessStore.inviteUserFromSuggested(Store.a.authStore.links,Store.a.businessStore.selectedBusinessAccessToken,Store.a.businessStore.selectedBusinessId,fields.givenName,fields.familyName,fields.email)}},{key:"resendInvite",value:function resendInvite(id,businessId){this.props.resendInvite(id,businessId)}},{key:"addNewFormField",value:function addNewFormField(){var newState=this.state.clientFormFields;newState.push({givenName:"",familyName:"",emailAddress:""}),this.setState({clientFormFields:newState})}},{key:"deleteSelectedField",value:function deleteSelectedField(index){var newState=this.state.clientFormFields,newEmails=this.state.selectedClientEmails,selected=newState.splice(index,1)[0];if(""!==selected.emailAddress){var ix=this.state.selectedClientEmails.indexOf(selected.emailAddress);newEmails.splice(ix,1)}this.setState({clientFormFields:newState,selectedClientEmails:newEmails})}},{key:"inviteClientRenderer",value:function inviteClientRenderer(invitationList,existingInvitations){var _this2=this,mergedInviteArray=[].concat.apply([],existingInvitations);return invitationList.filter((function(user){return"advisor"!==user.roleKey})).map((function(e,i){if(void 0!==e){var containsInvitee=mergedInviteArray.filter((function(invitee){return invitee.email===e.emailAddress})),status="Invite",selected=!1;return _this2.state.selectedClientEmails.includes(e.emailAddress)?selected=!0:containsInvitee&&containsInvitee.length>=1&&(selected=!0,status=containsInvitee[0].status),react.createElement("tr",{key:i,style:{borderBottom:"1px solid #f1f1f1",width:"100%"},className:"inviteTableRow"},react.createElement("td",{className:"userNameCell",style:{width:"43%"}},react.createElement("b",{style:{color:"black",marginLeft:15,fontSize:16}},e.givenName," ",e.familyName)," ",react.createElement("span",{style:{marginLeft:15,fontSize:14,color:"#2d2d2d"}})),react.createElement("td",{className:"emailCell",style:{width:"100%",fontSize:16,color:"#4264ea",fontWeight:600}},e.emailAddress),react.createElement("td",{className:"statusCell",style:{width:"33.3%"}},react.createElement("button",{style:{width:80,float:"right"},onClick:function onClick(){if(selected)return null;_this2.selectUserForInvitation({externalId:e.externalId,id:e.entityId,givenName:e.givenName,familyName:e.familyName,email:e.emailAddress})},className:"actionButton reinvite ".concat(selected?"disabledButton":"white-hover")},status)))}return null}))}},{key:"closeDropDownBox",value:function closeDropDownBox(){if(this.state.dropdownIdOpen)return this.setState({dropdownIdOpen:null})}},{key:"renderDropDownBox",value:function renderDropDownBox(id){if(id===this.state.dropdownIdOpen)return this.setState({dropdownIdOpen:null});this.setState({dropdownIdOpen:id})}},{key:"existingClientRenderer",value:function existingClientRenderer(existingInvitations){var _this3=this;return[].concat.apply([],Object(mobx_module.toJS)(existingInvitations.pendingInvitations)).concat(Object(mobx_module.toJS)(Store.a.businessStore.selectedBusinessUsers)).map((function(e,i){if(void 0!==e){var uppercaseStatus=e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"";return react.createElement("tr",{key:i,style:{borderBottom:"1px solid #f1f1f1",width:"100%"},className:"inviteTableRow"},react.createElement("td",{className:"userNameCell",style:{width:"42%"}},react.createElement("b",{style:{color:"black",marginLeft:15,fontSize:16}},e.givenName," ",e.familyName)," ",react.createElement("span",{style:{marginLeft:15,fontSize:14,color:"#2d2d2d"}})),react.createElement("td",{className:"emailCell",style:{width:"100%",fontSize:16,color:"#4264ea",fontWeight:600}},e.email),react.createElement("td",{className:"statusCell",style:{width:"33.3%",minWidth:100,height:60}},"advisor"===e.roleKey?react.createElement("div",{style:{fontSize:14,color:"#4264ea",float:"left"}},"Advisor"):react.createElement("div",{style:{fontSize:14,color:"#4264ea",float:"left"}},_this3.state.dropdownIdOpen===e.email?react.createElement("div",{className:"fadedshort",style:{backgroundColor:"#4264ea",color:"white",padding:4,borderRadius:4,cursor:"pointer"},onClick:function onClick(){_this3.resendInvite(e.id,e.businessId)}},"Reinvite"):"".concat(uppercaseStatus)),"pending"===e.status?react.createElement("div",{style:{cursor:"pointer"},onClick:function onClick(ev){_this3.renderDropDownBox("".concat(e.email))}},react.createElement("img",{style:{float:"right"},src:options_default.a})):null))}return null}))}},{key:"render",value:function render(){var _this4=this,store=this.props.store;return react.createElement("div",{id:"clientModal",className:"client-invite-modal-container ".concat(Store.a.businessStore.isFirstTimeSetup?"fadedshort":"")},react.createElement(lib.CardPanel,{className:"client-card"},react.createElement("div",{style:{width:"100%",height:10}},react.createElement("div",{onClick:function onClick(){Store.a.businessStore.setBusinessFirstTimeSetup(!1),Store.a.businessStore.shouldInviteUser(!1)},className:"grey-hover",style:{float:"right",fontSize:20,fontWeight:900,color:"#c7c7c7",cursor:"pointer"}},"X")),react.createElement("div",{style:{padding:30},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",null,react.createElement("img",{height:44,src:blue_account_default.a}),react.createElement("span",{className:"metadata",style:{fontSize:26,fontWeight:900,color:"#4264ea",marginLeft:20}},"Invite client users of ".concat(store.selectedBusinessData.name.replace(/(.{25})..+/,"$1..."))),react.createElement("p",{style:{padding:5,fontSize:14,color:"#4264ea",marginTop:10}},"Invite ",react.createElement("b",null,"client users of ",store.selectedBusinessData.name.replace(/(.{25})..+/,"$1..."))," to download the Aider mobile app. ",react.createElement("br",null),"You can select client users from Xero or input their name and email address manually.",react.createElement("br",null),react.createElement("span",null,react.createElement("b",{onClick:function onClick(){_this4.props.renderAdvisorModalRedirect("share")},style:{textDecoration:"underline",textDecorationColor:"#4264ea",cursor:"pointer"}}," ","Click here")," to share a client with another Advisor instead."))),Store.a.businessStore.loading?components.q:react.createElement("div",{style:{marginTop:0}},react.createElement("div",{onClick:function onClick(e){_this4.closeDropDownBox(),e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"scrollbar lite",style:{maxHeight:155}},this.state.clientFormFields.map((function(field,index){return react.createElement("div",{className:"email-form setInline",style:{marginLeft:5}},react.createElement("input",{style:{marginRight:20,width:"240px !important"},type:"text",name:"givenName-".concat(index),maxLength:35,value:_this4.state.clientFormFields[index].givenName,placeholder:"First Name and Last Name",className:"invite-form-name",onChange:_this4.handleClientFormChange}),react.createElement("input",{style:{width:240},type:"email",maxLength:40,name:"emailAddress-".concat(index),value:_this4.state.clientFormFields[index].emailAddress,placeholder:"Email Address",className:"invite-form-email",onChange:_this4.handleClientFormChange}),react.createElement("button",{onClick:function onClick(){if(!(_this4.state.clientFormFields.length>=1&&_this4.state.clientFormFields[0].emailAddress.length&&_this4.state.clientFormFields[0].givenName.length&&_this4.state.clientFormFields[0].emailAddress.includes("@")))return null;_this4.props.inviteUser(_this4.state.clientFormFields),_this4.setState({clientFormFields:[{givenName:"",familyName:"",emailAddress:""}]})},style:{width:110,height:50,fontWeight:600,float:"right",marginLeft:40},className:"actionButton bigButtonWidth ".concat(_this4.state.clientFormFields.length>=1&&!_this4.state.clientFormFields[0].emailAddress.length||!_this4.state.clientFormFields[0].emailAddress.includes("@")||!_this4.state.clientFormFields[0].givenName.length?"disabledButton":"")},"Invite"))})),react.createElement("div",null))),react.createElement("div",{key:"table",className:"scrollbar lite",style:{maxHeight:600,width:"100%"},onClick:function onClick(){_this4.closeDropDownBox()}},react.createElement("div",null,react.createElement("h5",{className:"metadata",style:{color:"#4264ea",marginTop:20}},Store.a.businessStore.businessInviteInitial?"Suggested Users":"Current Users"),react.createElement("table",{className:"highlight inviteTable",onClick:function onClick(e){_this4.closeDropDownBox(),e.preventDefault(),e.stopPropagation()}},react.createElement("thead",{className:"inviteTableHead",style:{backgroundColor:"#f5f4fa"}},react.createElement("tr",{style:{color:"#c7c7c7",fontSize:10}},react.createElement("th",null,"NAME"),react.createElement("th",{style:{width:"50%"}},"EMAIL"),react.createElement("th",{style:{width:"15%"}},"STATUS"))),react.createElement("tbody",{className:"inviteTableBody scrollbar lite"},!Store.a.businessStore.businessInviteInitial&&this.existingClientRenderer(Store.a.businessStore.invitations),!Store.a.businessStore.businessInviteInitial&&this.props.invitationList&&this.props.invitationList.length>=1?react.createElement("tr",{style:{borderTop:"1px solid #d0d0d0",borderBottom:"1px solid #d0d0d0",width:"100%"},className:"existingTableRow"},react.createElement("td",null,Store.a.businessStore.businessInviteInitial?null:react.createElement("h5",{className:"metadata",style:{color:"#4264ea",marginBottom:0}},"Suggested Users")),react.createElement("td",null),react.createElement("td",null)):null,this.props.invitationList&&this.props.invitationList.length>=1?this.inviteClientRenderer(this.props.invitationList,Store.a.businessStore.invitations):null))))))))}}]),ClientModal}(react.Component),clientModal=Object(mobxreact_esm.b)(clientModal_ClientModal);try{clientModal_ClientModal.displayName="ClientModal",clientModal_ClientModal.__docgenInfo={description:"",displayName:"ClientModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},inviteUser:{defaultValue:null,description:"",name:"inviteUser",required:!0,type:{name:"any"}},resendInvite:{defaultValue:null,description:"",name:"resendInvite",required:!0,type:{name:"any"}},invitationList:{defaultValue:null,description:"",name:"invitationList",required:!0,type:{name:"any"}},renderAdvisorModalRedirect:{defaultValue:null,description:"",name:"renderAdvisorModalRedirect",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/modals/clientModal.tsx#ClientModal"]={docgenInfo:clientModal_ClientModal.__docgenInfo,name:"ClientModal",path:"src/entities/modals/clientModal.tsx#ClientModal"})}catch(__react_docgen_typescript_loader_error){}var metadataModal_MetadataModal=function(_React$Component){Object(inherits.a)(MetadataModal,_React$Component);var _super=Object(createSuper.a)(MetadataModal);function MetadataModal(props){var _this;Object(classCallCheck.a)(this,MetadataModal),(_this=_super.call(this,props)).handleMetadataFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState((function(prevState){var metadataFormFields=prevState.metadataFormFields;return metadataFormFields[name]=value,{metadataFormFields:metadataFormFields}}))};return _this.state={category:"",metadataFormFields:{metadata:""}},_this}return Object(createClass.a)(MetadataModal,[{key:"glossaryRenderer",value:function glossaryRenderer(glossary){return Object.keys(glossary).map((function(key,index){return react.createElement("div",{className:"metadata"},react.createElement("p",{className:"metadata",style:{marginBottom:0}},react.createElement("b",{style:{color:"#4264ea"}},key,":"))," ",react.createElement("p",{className:"metadata-glossary-item"},glossary[key].description))}))}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,metadata=(_this$props.store,_this$props.metadata),answer=_this$props.answer,metadataApps=_this$props.metadataApps;return react.createElement("div",{id:"metadataModal",className:"metadata-modal-container",onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement(lib.CardPanel,{className:"metadata-card"},react.createElement("h4",{className:"metadata",style:{color:"#4264ea"}},"Metadata for response"),react.createElement("p",{style:{margin:"30px 0px"},className:"messagePanelAnswerConversation speech-bubble-ds_left metaSpeech"},answer,react.createElement("div",{className:"speech-bubble-ds__arrow_left_metaSpeech"})),react.createElement("p",{className:"metadata"},metadata.notes),react.createElement("div",{className:"metadata",key:"table",style:{width:"100%"}},metadataApps.length>=1&&react.createElement("div",{className:"metadata",style:{fontSize:12}},react.createElement("div",{style:{width:"80%"}},react.createElement("b",{style:{color:"#4264ea"}},"Data Source:")," ",metadataApps[0]._links.logo&&react.createElement("div",null,react.createElement("img",{style:{height:32,width:32,float:"left"},src:"".concat(metadataApps[0]._links.logo.href),alt:"logo"})),react.createElement("div",{style:{height:40,color:"#FFFFFF"!==metadataApps[0].brandColour&&metadataApps[0].brandColour,marginTop:metadataApps[0].shortDescription===metadataApps[0].name&&7}},metadataApps[0].name," ",metadataApps[0].shortDescription!==metadataApps[0].name&&react.createElement("div",null,metadataApps[0].shortDescription))),react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"About: "),react.createElement("br",null),react.createElement("i",null,metadataApps[0].description))),metadata.glossary&&react.createElement("div",{className:"metadata"},react.createElement("h4",{style:{color:"#4264ea"},className:"metadata"},"Glossary"),react.createElement("div",{className:"metadata-glossary-container"},this.glossaryRenderer(metadata.glossary)))),react.createElement("div",{className:"metadata-button-holder",style:{width:"100%",marginTop:20}},react.createElement("button",{onClick:function onClick(e){_this2.props.closeModal(e)},className:"closeModal otherAction",style:{marginLeft:"38%"}},"Close"))))}}]),MetadataModal}(react.Component);try{metadataModal.displayName="metadataModal",metadataModal.__docgenInfo={description:"",displayName:"metadataModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},metadata:{defaultValue:null,description:"",name:"metadata",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},answer:{defaultValue:null,description:"",name:"answer",required:!0,type:{name:"any"}},metadataApps:{defaultValue:null,description:"",name:"metadataApps",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/modals/metadataModal.tsx#metadataModal"]={docgenInfo:metadataModal.__docgenInfo,name:"metadataModal",path:"src/entities/modals/metadataModal.tsx#metadataModal"})}catch(__react_docgen_typescript_loader_error){}var lodash=__webpack_require__(702),lodash_default=__webpack_require__.n(lodash),userInfoModal_UserInfoModal=function(_React$Component){Object(inherits.a)(UserInfoModal,_React$Component);var _super=Object(createSuper.a)(UserInfoModal);function UserInfoModal(props){var _this;Object(classCallCheck.a)(this,UserInfoModal),(_this=_super.call(this,props))._debouncedSearch=void 0,_this.handleEmailAddressChange=function(e){return _this.setState({emailAddress:e.target.value})},_this.handleCreditCardChange=function(e){return _this.setState({creditCard:e.target.value})},_this.handleUserInfoFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;"address"===name&&(_this.props.store.autoCompleteIsLoading(!0),_this._debouncedSearch(),_this.setState({userHasClickedOption:!1})),_this.setState((function(prevState){var userInfoFormFields=prevState.userInfoFormFields;return userInfoFormFields[name]=value,{userInfoFormFields:userInfoFormFields}}))};return _this._debouncedSearch=lodash_default.a.debounce((function(){return _this.props.triggerAutoComplete(_this.state.userInfoFormFields.address)}),1e3),_this.state={userHasClickedOption:!1,userInfoFormFields:{businessName:"",address:"",numAccountants:"",numClients:"",placeInformation:{}},previouslyUsedSoftware:"",previouslyUsedSoftwareIsXero:!1,previouslyUsedSoftwareIsQB:!1,previouslyUsedSoftwareIsMYOB:!1,previouslyUsedSoftwareIsOther:!1,userHasClickedSubmit:!1,userHasSubmittedInformation:!1,userHasProvidedPayment:!0,userHasConfirmedInformation:!1,checked:!1,checkedEmails:!1,emailAddress:"",creditCard:""},_this}return Object(createClass.a)(UserInfoModal,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"selectPlace",value:function selectPlace(business){this.setState((function(prevState){var userInfoFormFields=prevState.userInfoFormFields;prevState.userHasClickedOption;return userInfoFormFields.placeInformation=Object(mobx_module.toJS)(business),userInfoFormFields.address=business.description,!0,{userInfoFormFields:userInfoFormFields,userHasClickedOption:!0}}))}},{key:"renderAutoCompletePredictions",value:function renderAutoCompletePredictions(store){var _this2=this;return store.autoCompletePlaces.map((function(business){return react.createElement("div",{className:"placeOption",onClick:function onClick(){_this2.selectPlace(business)}},react.createElement("p",null,business.description&&business.description.replace(/(.{130})..+/,"$1...")))}))}},{key:"setSubmit",value:function setSubmit(submitted){this.setState({userHasClickedSubmit:submitted})}},{key:"setPaymentSubmit",value:function setPaymentSubmit(submitted){this.setState({userHasProvidedPayment:submitted})}},{key:"render",value:function render(){var _this3=this,store=this.props.store;return react.createElement("div",{id:"clientModal",className:"info-modal-container"},react.createElement(lib.CardPanel,{className:"client-card-welcome"},this.state.userHasClickedSubmit&&this.state.userHasProvidedPayment?react.createElement("div",{className:"fadedshort"},react.createElement("div",{style:{height:93,width:"100%"}},react.createElement("span",{className:"metadata",style:{color:"#4264ea",fontWeight:600,fontSize:28}},"Got it, Thanks!"),react.createElement("div",{style:{float:"right"}},react.createElement("img",{width:30,height:30,src:aider_icon_t_default.a})),react.createElement("br",null),react.createElement("span",{className:"metadata",style:{color:"#4264ea",fontSize:24,fontWeight:500}},"Please confirm the following details are correct.")),react.createElement("div",null,react.createElement("div",{className:"email-form"},react.createElement("div",null,react.createElement("input",{disabled:!0,style:{marginRight:20,width:"100% "},type:"text",maxLength:25,name:"businessName",value:this.state.userInfoFormFields.businessName,placeholder:"Practice Name",className:"info-form-name-thick",onChange:this.handleUserInfoFormChange}),react.createElement("br",null),react.createElement("input",{disabled:!0,style:{width:"100%"},type:"text",name:"address",value:this.state.userInfoFormFields.address,placeholder:"Practice Address",className:"info-form-name-thick",onChange:this.handleUserInfoFormChange}),""!==this.state.userInfoFormFields.numClients&&""!==this.state.userInfoFormFields.numAccountants?react.createElement("div",null," ",react.createElement("input",{disabled:!0,style:{width:"45%",float:"left"},type:"text",name:"numClients",value:"".concat(this.state.userInfoFormFields.numClients," Clients"),placeholder:"Number of Clients",className:"info-form-count-thick",onChange:this.handleUserInfoFormChange}),react.createElement("input",{disabled:!0,style:{width:"45%",float:"right"},type:"text",name:"numAccountants",value:"".concat(this.state.userInfoFormFields.numAccountants," Accountants"),placeholder:"Number of Accountants",className:"info-form-count-thick",onChange:this.handleUserInfoFormChange})):null,react.createElement("div",{style:{position:"relative",height:75}},react.createElement("div",{style:{position:"absolute",top:""===this.state.userInfoFormFields.numClients||""===this.state.userInfoFormFields.numAccountants?25:75}},react.createElement("label",{className:"form-label",htmlFor:"Select-9Zx"},"What Accounting Software do your clients use?"),react.createElement("form",{style:{display:"flex",justifyContent:"center",fontSize:14},onClick:function onClick(e){e.stopPropagation()}},react.createElement("label",{style:{width:70},className:"Rcontainer nohover"},"Xero",react.createElement("input",{type:"radio",name:"radioP",checked:"xero"===this.state.previouslyUsedSoftware}),react.createElement("span",{className:"Rbox nohover"})),react.createElement("label",{style:{width:90},className:"Rcontainer nohover"},"QuickBooks",react.createElement("input",{type:"radio",name:"radioP",checked:"qb"===this.state.previouslyUsedSoftware,value:"two"}),react.createElement("span",{className:"Rbox nohover"})),react.createElement("label",{style:{width:70},className:"Rcontainer nohover"},"MYOB",react.createElement("input",{type:"radio",name:"radioP",checked:"myob"===this.state.previouslyUsedSoftware}),react.createElement("span",{className:"Rbox nohover"})),react.createElement("label",{style:{width:80},className:"Rcontainer nohover"},"Other",react.createElement("input",{type:"radio",name:"radioP",checked:"other"===this.state.previouslyUsedSoftware||""===this.state.previouslyUsedSoftware}),react.createElement("span",{className:"Rbox nohover"}))))),react.createElement("br",null),react.createElement("br",null),react.createElement("br",null),react.createElement("form",{style:{display:"flex",justifyContent:"center",marginTop:10},onClick:function onClick(e){e.stopPropagation()}},react.createElement("label",{className:"Ccontainer"},"Yes, I want to receive updates from Aider",react.createElement("input",{type:"checkbox",name:"CheckE",checked:this.state.checkedEmails,onClick:function onClick(e){_this3.setState({checkedEmails:!_this3.state.checkedEmails})}}),react.createElement("span",{className:"checkmark"})))))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton",style:{marginRight:40,marginTop:10},onClick:function onClick(){_this3.setState({userHasClickedSubmit:!1})}},"Back"),react.createElement("button",{style:{marginTop:10},onClick:function onClick(){if(!_this3.state.userHasSubmittedInformation)return _this3.setState({userHasConfirmedInformation:!0,userHasSubmittedInformation:!0}),_this3.props.updateInfo(_this3.state.userInfoFormFields,_this3.state.creditCard,_this3.state.emailAddress,_this3.state.previouslyUsedSoftware)},className:"actionButton bigButton ".concat(this.state.userHasSubmittedInformation?"disabledButton":"")},"Let's get started!"))):react.createElement(react.Fragment,null,this.state.userHasClickedSubmit?null:react.createElement(react.Fragment,null,this.state.userHasProvidedPayment&&react.createElement(react.Fragment,null,react.createElement("div",{style:{height:93,width:"100%"}},react.createElement("div",{style:{float:"left",width:420}},react.createElement("span",{className:"metadata",style:{color:"#4264ea",fontWeight:600,fontSize:24}},"Welcome to Aider's Advisory Portal"),react.createElement("br",null),react.createElement("span",{className:"metadata",style:{color:"#4264ea",fontSize:24,fontWeight:500}},"Tell us about your Practice")),react.createElement("div",{style:{float:"right"}},react.createElement("img",{width:30,height:30,src:aider_icon_t_default.a}))),react.createElement("div",{onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{style:{maxHeight:400}},react.createElement("div",{className:"email-form"},react.createElement("div",null,react.createElement("input",{style:{marginRight:20,width:"100% "},type:"text",maxLength:25,name:"businessName",value:this.state.userInfoFormFields.businessName,placeholder:"Practice Name (required)",className:"info-form-name-thick left25",onChange:this.handleUserInfoFormChange}),react.createElement("br",null),react.createElement("br",null),react.createElement("input",{style:{width:"100%"},type:"text",name:"address",value:this.state.userInfoFormFields.address,placeholder:"Practice Address (required)",className:"info-form-name-thick left25",onChange:this.handleUserInfoFormChange}))),react.createElement("div",null,this.props.store.autoCompleteLoading?react.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:100}},components.u):react.createElement("div",{className:"scrollbar lite",style:{maxHeight:300,minHeight:300}},this.state.userHasClickedOption?react.createElement("div",{className:"fadedshort",style:{display:this.state.userHasClickedOption?"block":"flex",justifyContent:"center",marginTop:20}},react.createElement("div",{style:{display:"flex",paddingLeft:90,paddingRight:70}},react.createElement("input",{style:{marginRight:20,width:"50% "},type:"text",name:"numClients",value:this.state.userInfoFormFields.numClients,placeholder:"Number of Clients",className:"info-form-count-thick",onChange:this.handleUserInfoFormChange}),react.createElement("input",{style:{marginRight:20,width:"50% "},type:"text",name:"numAccountants",value:this.state.userInfoFormFields.numAccountants,placeholder:"Number of Accountants",className:"info-form-count-thick",onChange:this.handleUserInfoFormChange})),react.createElement("br",null),react.createElement("label",{style:{marginLeft:65},className:"form-label",htmlFor:"Select-9Zx"},"Which of these services do your clients use?"),react.createElement("form",{style:{display:"flex",justifyContent:"center",fontSize:14},onClick:function onClick(e){e.stopPropagation()}},react.createElement("label",{className:"Ccontainer userinfopadded"},"Xero",react.createElement("input",{type:"checkbox",name:"Check",checked:this.state.previouslyUsedSoftwareIsXero,onClick:function onClick(e){_this3.setState({previouslyUsedSoftwareIsXero:!_this3.state.previouslyUsedSoftwareIsXero})}}),react.createElement("span",{className:"checkmark"})),react.createElement("label",{className:"Ccontainer userinfopadded"},"Quickbooks",react.createElement("input",{type:"checkbox",name:"Check",checked:this.state.previouslyUsedSoftwareIsQB,onClick:function onClick(e){_this3.setState({previouslyUsedSoftwareIsQB:!_this3.state.previouslyUsedSoftwareIsQB})}}),react.createElement("span",{className:"checkmark"})),react.createElement("label",{className:"Ccontainer userinfopadded"},"MYOB",react.createElement("input",{type:"checkbox",name:"Check",checked:this.state.previouslyUsedSoftwareIsMYOB,onClick:function onClick(e){_this3.setState({previouslyUsedSoftwareIsMYOB:!_this3.state.previouslyUsedSoftwareIsMYOB})}}),react.createElement("span",{className:"checkmark"})),react.createElement("label",{className:"Ccontainer userinfopadded"},"Other",react.createElement("input",{type:"checkbox",name:"Check",checked:this.state.previouslyUsedSoftwareIsOther,onClick:function onClick(e){_this3.setState({previouslyUsedSoftwareIsOther:!_this3.state.previouslyUsedSoftwareIsOther})}}),react.createElement("span",{className:"checkmark"}))),react.createElement("br",null),react.createElement("div",null,react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{onClick:function onClick(){if(!_this3.state.userHasSubmittedInformation)return _this3.setState({userHasSubmittedInformation:!0}),_this3.props.updateInfo(_this3.state.userInfoFormFields,_this3.state.creditCard,_this3.state.emailAddress,{usesXero:_this3.state.previouslyUsedSoftwareIsXero&&"xero",usesMYOB:_this3.state.previouslyUsedSoftwareIsMYOB&&"myob",usesOther:_this3.state.previouslyUsedSoftwareIsOther&&"other",usesQuickBooks:_this3.state.previouslyUsedSoftwareIsQB&&"quickbooks"})},className:"actionButton bigButton ".concat(this.state.userHasSubmittedInformation?"disabledButton":"")},"Let's get started!")))):this.renderAutoCompletePredictions(store))))))))))}}]),UserInfoModal}(react.Component),userInfoModal=Object(mobxreact_esm.b)(userInfoModal_UserInfoModal);try{userInfoModal_UserInfoModal.displayName="UserInfoModal",userInfoModal_UserInfoModal.__docgenInfo={description:"",displayName:"UserInfoModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},updateInfo:{defaultValue:null,description:"",name:"updateInfo",required:!0,type:{name:"any"}},triggerAutoComplete:{defaultValue:null,description:"",name:"triggerAutoComplete",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/modals/userInfoModal.tsx#UserInfoModal"]={docgenInfo:userInfoModal_UserInfoModal.__docgenInfo,name:"UserInfoModal",path:"src/entities/modals/userInfoModal.tsx#UserInfoModal"})}catch(__react_docgen_typescript_loader_error){}var network=__webpack_require__(26),editClientModal_EditClientModal=function(_React$Component){Object(inherits.a)(EditClientModal,_React$Component);var _super=Object(createSuper.a)(EditClientModal);function EditClientModal(props){var _this;Object(classCallCheck.a)(this,EditClientModal),(_this=_super.call(this,props)).handleClientFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;"taxRate"===name&&_this.setState({salesTaxRateTouched:!0}),"address"===name&&_this.setState({addressTouched:!0}),_this.setState((function(prevState){var clientFormFields=prevState.clientFormFields;return clientFormFields[name]=value,{clientFormFields:clientFormFields}}))},_this.handleBankFormChange=function(e){return _this.setState({mainBankAccount:e.target.value})},_this.handleReconciledDays=function(e){return _this.setState({reconciledDays:e.target.value})};return _this.state={salesTaxRateTouched:!1,addressTouched:!1,editConfig:Store.a.businessStore.configureBusinessModalOpen&&!_this.props.isFirstTimeClientSetup,reconciledDays:_this.props.editClientFields.reconciledDays?parseInt(_this.props.editClientFields.reconciledDays):0,mainBankAccount:"",incomeTax:_this.props.editClientFields.incomeTax||"",taxAgent:_this.props.editClientFields.taxAgent||"",payrollTax:_this.props.editClientFields.payrollTax||"",fringeBenefitTax:_this.props.editClientFields.fringeBenefitTax||"",dividendWithholdingTax:_this.props.editClientFields.dividendWithholdingTax||"",clientFormFields:{taxRate:_this.props.editClientFields.taxRate||"",taxNumber:"",salesTaxBasis:"",salesTaxPeriod:"",financialYearEnd:"",lineOfBusiness:"",address:_this.props.editClientFields.address||""}},_this}return Object(createClass.a)(EditClientModal,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;this.props.store;return react.createElement("div",{id:"clientModal",className:"client-modal-container-edit ".concat(Store.a.businessStore.isFirstTimeSetup?"fadedshort":"")},react.createElement(lib.CardPanel,{className:"client-card no-padding"},react.createElement("div",{onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),Store.a.businessStore.configureBusinessModalOpen||_this2.setState({editConfig:!1})},style:{backgroundColor:this.state.editConfig?"#f5f4fa":"#fff",width:"50%",float:"left",padding:10,cursor:"pointer",borderRadius:"10px 0px 0px 0px"}},react.createElement("span",{className:"metadata",style:{paddingLeft:20,color:this.state.editConfig?"#c7c7c7":"#4264ea",fontSize:22}},"Business Information")),react.createElement("div",{onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.isFirstTimeClientSetup||_this2.setState({editConfig:!0})},style:{width:"50%",float:"right",backgroundColor:this.state.editConfig?"#fff":"#f5f4fa",padding:10,cursor:"pointer",borderRadius:"0px 10px 0px 0px"}},react.createElement("span",{style:{paddingLeft:20,fontSize:22,color:this.state.editConfig?"#4264ea":"#c7c7c7"}},"Business Configuration")),react.createElement("div",{style:{height:60,width:"100%"}}),Store.a.businessStore.loading?components.q:react.createElement("div",null,this.state.editConfig||Store.a.businessStore.configureBusinessModalOpen&&!this.props.isFirstTimeClientSetup?react.createElement("div",{onClick:function onClick(e){e.stopPropagation()}},react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("div",{style:{display:"block"}},react.createElement("span",{style:{float:"left",fontSize:18,color:"#4264ea",marginBottom:20,marginTop:20}},"Xero Business Settings"," "),react.createElement("div",{style:{width:"100%"}},react.createElement("div",{style:{float:"left"}},react.createElement("input",{disabled:!0,type:"text",name:"mainBankAccount",value:this.state.mainBankAccount,placeholder:"Account for cashflow analysis",className:"edit-form-tax-settings bank tax-settings-disabled",onChange:this.handleBankFormChange}),react.createElement("br",null),react.createElement("label",{className:"form-label",htmlFor:"taxRate"},"Main bank account")),react.createElement("div",{style:{float:"right"}},react.createElement("input",{type:"number",name:"reconciledDays",value:this.state.reconciledDays,className:"edit-form-tax-settings days tax-settings-active",onChange:this.handleReconciledDays,min:1,max:31}),react.createElement("br",null),react.createElement("label",{className:"form-label",htmlFor:"reconciledDays",style:{marginLeft:10}},"Reconciled after (1-31) Days"))),react.createElement("br",null),react.createElement("br",null),react.createElement("br",null),react.createElement("br",null),react.createElement("span",{style:{float:"left",fontSize:18,color:"#4264ea",marginTop:10,width:"100%"}},"Tax Business Settings")," ",react.createElement("p",{style:{width:"100%"}}),react.createElement("input",{style:{width:"45%",float:"left",marginRight:10},type:"number",name:"taxRate",max:99,min:0,value:this.state.salesTaxRateTouched?this.state.clientFormFields.taxRate:this.props.editClientFields.taxRate,placeholder:"",className:"activeFieldRound full-border-form",onChange:this.handleClientFormChange}),react.createElement("label",{className:"form-label",htmlFor:"taxRate",style:{float:"left",marginRight:230,marginLeft:5}},"Tax Rate"),react.createElement("div",{style:{marginTop:200}},react.createElement("form",{style:{display:"flex",justifyContent:"center",height:30},onClick:function onClick(e){e.stopPropagation()}},react.createElement("label",{className:"Rcontainer"},"Company",react.createElement("input",{type:"radio",name:"radioS",checked:"company"===this.state.incomeTax,onClick:function onClick(e){_this2.setState({incomeTax:"company"})}}),react.createElement("span",{className:"Rbox"})),react.createElement("label",{className:"Rcontainer"},"Shareholders",react.createElement("input",{type:"radio",name:"radioS",checked:"shareholders"===this.state.incomeTax,value:"two",onClick:function onClick(e){_this2.setState({incomeTax:"shareholders"})}}),react.createElement("span",{className:"Rbox"}))),react.createElement("label",{className:"form-label rad",htmlFor:"Select-9Za"},"Income Tax"),react.createElement("br",null),react.createElement("form",{style:{display:"flex",justifyContent:"center",height:30},onClick:function onClick(e){e.stopPropagation()}},react.createElement("label",{className:"Rcontainer"},"Has Tax Agent",react.createElement("input",{type:"radio",name:"radioO",checked:"yes"===this.state.taxAgent,onClick:function onClick(e){_this2.setState({taxAgent:"yes"})}}),react.createElement("span",{className:"Rbox"})),react.createElement("label",{className:"Rcontainer"},"No Tax Agent Extension",react.createElement("input",{type:"radio",name:"radioO",checked:"no"===this.state.taxAgent,value:"two",onClick:function onClick(e){_this2.setState({taxAgent:"no"})}}),react.createElement("span",{className:"Rbox"}))),react.createElement("label",{className:"form-label rad",htmlFor:"Select-9Zb"},"Tax Agent"),react.createElement("br",null),react.createElement("form",{style:{display:"flex",justifyContent:"center",height:30},onClick:function onClick(e){e.stopPropagation()}},react.createElement("label",{className:"Rcontainer"},"PAYE/PAYG",react.createElement("input",{type:"radio",name:"radioP",checked:"paye"===this.state.payrollTax,onClick:function onClick(e){_this2.setState({payrollTax:"paye"})}}),react.createElement("span",{className:"Rbox"})),react.createElement("label",{className:"Rcontainer"},"No PAYE/PAYG",react.createElement("input",{type:"radio",name:"radioP",checked:"noPaye"===this.state.payrollTax,value:"two",onClick:function onClick(e){_this2.setState({payrollTax:"noPaye"})}}),react.createElement("span",{className:"Rbox"}))),react.createElement("label",{className:"form-label rad",htmlFor:"Select-9Zb"},"Payroll Tax")),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("div",{onClick:function onClick(){_this2.props.editConfig(_this2.state)},className:"otherAction"},"Save Configuration"))))):react.createElement("div",{onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{style:{paddingLeft:30,paddingRight:30}},react.createElement("div",{style:{width:"100%",height:50,paddingTop:20}},react.createElement("span",{style:{float:"left",fontSize:18,color:"#4264ea",marginLeft:10}},"Edit General Information")),react.createElement("div",null,react.createElement("div",{className:"email-form",style:{marginTop:20}},react.createElement("input",{disabled:!0,style:{width:"45%",float:"right",marginRight:10},type:"text",name:"taxNumber",value:this.props.isFirstTimeClientSetup?Store.a.businessStore.initialFields.taxNumber:this.state.clientFormFields.taxNumber||this.props.editClientFields.taxNumber,placeholder:"",className:"disabledFieldRound full-border-form",onChange:this.handleClientFormChange}),react.createElement("input",{disabled:!0,style:{width:"45%",float:"left"},type:"text",name:"lineOfBusiness",value:this.props.isFirstTimeClientSetup?Store.a.businessStore.initialFields.lineOfBusiness:this.state.clientFormFields.lineOfBusiness||this.props.editClientFields.lineOfBusiness,placeholder:"",className:"disabledFieldRound full-border-form",onChange:this.handleClientFormChange})),react.createElement("div",{style:{display:"flex",justifyContent:"end"}},react.createElement("label",{className:"form-label",htmlFor:"taxNumber",style:{float:"left"}},"Tax Number"),react.createElement("label",{className:"form-label",htmlFor:"lineOfBusiness",style:{float:"right",marginLeft:212}},"Line of Business"))),react.createElement("div",null,react.createElement("div",{className:"email-form",style:{marginTop:30}}," ",react.createElement("input",{disabled:!0,style:{width:"45%",float:"left",marginRight:10},type:"text",name:"salesTaxBasis",value:this.props.isFirstTimeClientSetup?Store.a.businessStore.initialFields.salesTaxBasis:this.state.clientFormFields.salesTaxBasis||this.props.editClientFields.salesTaxBasis,placeholder:"",className:"disabledFieldRound full-border-form",onChange:this.handleClientFormChange}),react.createElement("input",{disabled:!0,style:{width:"45%",float:"right"},type:"text",name:"salesTaxPeriod",value:this.props.isFirstTimeClientSetup?Store.a.businessStore.initialFields.salesTaxPeriod:this.state.clientFormFields.salesTaxPeriod||this.props.editClientFields.salesTaxPeriod,placeholder:"",className:"disabledFieldRound full-border-form",onChange:this.handleClientFormChange})),react.createElement("div",{style:{display:"flex",justifyContent:"end"}},react.createElement("label",{className:"form-label",htmlFor:"salesTaxBasis",style:{float:"left",marginRight:190,marginLeft:5}},"Sales Tax Basis"),react.createElement("label",{className:"form-label",htmlFor:"salesTaxPeriod",style:{float:"right"}},"Sales Tax Period"))),react.createElement("div",null,react.createElement("div",{className:"email-form",style:{marginTop:30}}," ",react.createElement("input",{style:{width:"100%",float:"right"},type:"text",name:"address",value:this.props.isFirstTimeClientSetup&&!this.state.addressTouched?Store.a.businessStore.initialFields.address:this.state.clientFormFields.address?this.state.clientFormFields.address:this.props.editClientFields.address,placeholder:"",className:"activeFieldRound full-border-form",onChange:this.handleClientFormChange})),react.createElement("div",{style:{display:"flex",justifyContent:"end"}},react.createElement("label",{className:"form-label",htmlFor:"address",style:{float:"right"}},"Business Address"))),react.createElement("div",null)),react.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:132}},this.props.isFirstTimeClientSetup?react.createElement("button",{onClick:function onClick(){return _this2.props.editClientFirstTime(_this2.state),_this2.setState({editConfig:!0})},className:"otherAction"},"Save and Continue"):react.createElement(react.Fragment,null,react.createElement("button",{onClick:function onClick(){_this2.props.editClient(_this2.state)},className:"otherAction"},"Update Business"),react.createElement("div",{onClick:function onClick(){if(_this2.props.editClientFields.disconnected)return _this2.props.reconnectBusiness();_this2.props.disconnectBusiness()},className:"otherAction ".concat(this.props.editClientFields.disconnected?"":"warning"),style:{marginLeft:20,width:170}},this.props.editClientFields.disconnected?"Reconnect":"Disconnect"," ","Xero")))))))}}]),EditClientModal}(react.Component),editClientModal=Object(mobxreact_esm.b)(editClientModal_EditClientModal);try{editClientModal_EditClientModal.displayName="EditClientModal",editClientModal_EditClientModal.__docgenInfo={description:"",displayName:"EditClientModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},editClient:{defaultValue:null,description:"",name:"editClient",required:!0,type:{name:"any"}},editClientFirstTime:{defaultValue:null,description:"",name:"editClientFirstTime",required:!0,type:{name:"any"}},editConfig:{defaultValue:null,description:"",name:"editConfig",required:!0,type:{name:"any"}},editClientFields:{defaultValue:null,description:"",name:"editClientFields",required:!0,type:{name:"any"}},disconnectBusiness:{defaultValue:null,description:"",name:"disconnectBusiness",required:!0,type:{name:"any"}},reconnectBusiness:{defaultValue:null,description:"",name:"reconnectBusiness",required:!0,type:{name:"any"}},isFirstTimeClientSetup:{defaultValue:null,description:"",name:"isFirstTimeClientSetup",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/modals/editClientModal.tsx#EditClientModal"]={docgenInfo:editClientModal_EditClientModal.__docgenInfo,name:"EditClientModal",path:"src/entities/modals/editClientModal.tsx#EditClientModal"})}catch(__react_docgen_typescript_loader_error){}var editUserModal_EditUserModal=function(_React$Component){Object(inherits.a)(EditUserModal,_React$Component);var _super=Object(createSuper.a)(EditUserModal);function EditUserModal(props){var _this;Object(classCallCheck.a)(this,EditUserModal),(_this=_super.call(this,props)).handleClientFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState((function(prevState){var userFormFields=prevState.userFormFields;return userFormFields[name]=value,{userFormFields:userFormFields}}))};var _this$props$editUserF=_this.props.editUserFields.user,displayName=_this$props$editUserF.displayName,email=_this$props$editUserF.email,familyName=_this$props$editUserF.familyName,givenName=_this$props$editUserF.givenName,phoneNumber=_this$props$editUserF.phoneNumber;return _this.state={userFormFields:{displayName:displayName,email:email,givenName:givenName,familyName:familyName,phoneNumber:phoneNumber}},_this}return Object(createClass.a)(EditUserModal,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this2=this;this.props.store;return react.createElement("div",{id:"clientModal",className:"user-modal-container"},react.createElement(lib.CardPanel,{className:"client-card"},react.createElement("h4",{className:"metadata",style:{color:"#4264ea"}},"Update user settings"),Store.a.authStore.loading?components.q:react.createElement("div",null,react.createElement("div",{style:{padding:30},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",null,react.createElement("div",{className:"email-form",style:{marginTop:20}}," ",react.createElement("input",{style:{width:"45%",float:"left",marginRight:10},type:"text",maxLength:25,name:"displayName",value:this.state.userFormFields.displayName,placeholder:"",className:"activeFieldRound full-border-form",onChange:this.handleClientFormChange}),react.createElement("input",{style:{width:"45%",float:"right"},type:"text",maxLength:40,name:"email",value:this.state.userFormFields.email,placeholder:"",className:"full-border-form activeFieldRound",onChange:this.handleClientFormChange})),react.createElement("div",{style:{display:"flex",justifyContent:"end"}},react.createElement("label",{className:"form-label",htmlFor:"taxRate",style:{float:"left",marginRight:185,marginLeft:5}},"Display Name"),react.createElement("label",{className:"form-label",htmlFor:"taxNumber",style:{float:"right"}},"Email Address"))),react.createElement("div",null,react.createElement("div",{className:"email-form",style:{marginTop:30}}," ",react.createElement("input",{style:{width:"45%",float:"left",marginRight:10},type:"text",maxLength:25,name:"givenName",value:this.state.userFormFields.givenName,placeholder:"",className:"full-border-form activeFieldRound",onChange:this.handleClientFormChange}),react.createElement("input",{style:{width:"45%",float:"right"},type:"text",maxLength:25,name:"familyName",value:this.state.userFormFields.familyName,placeholder:"",className:"full-border-form activeFieldRound",onChange:this.handleClientFormChange})),react.createElement("div",{style:{display:"flex",justifyContent:"end"}},react.createElement("label",{className:"form-label",htmlFor:"salesTaxBasis",style:{float:"left",marginRight:195,marginLeft:5}},"Given Name"),react.createElement("label",{className:"form-label",htmlFor:"salesTaxPeriod",style:{float:"right"}},"Family Name"))),react.createElement("div",null,react.createElement("div",{className:"email-form",style:{marginTop:30,justifyContent:"end"}}," ",react.createElement("input",{style:{width:"45%",float:"left",marginRight:10},type:"text",name:"phoneNumber",value:this.state.userFormFields.phoneNumber,placeholder:"",className:"full-border-form activeFieldRound",onChange:this.handleClientFormChange})),react.createElement("div",{style:{display:"flex",justifyContent:"end"}},react.createElement("label",{style:{marginLeft:5},className:"form-label",htmlFor:"phoneNumber"},react.createElement("span",{style:{color:Store.a.authStore.userModalErrors?"red":"inherit"}},"Phone Number"))),react.createElement("p",{style:{color:"red",fontSize:11,marginLeft:25}},Store.a.authStore.userModalErrors&&Store.a.authStore.userModalErrors.message)),react.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:60}},Store.a.businessStore.editDetailsIsLoading?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.u):react.createElement("button",{onClick:function onClick(){_this2.props.editUser(_this2.state.userFormFields)},className:"otherAction"},"Update Account"))))))}}]),EditUserModal}(react.Component),editUserModal=Object(mobxreact_esm.b)(editUserModal_EditUserModal);try{editUserModal_EditUserModal.displayName="EditUserModal",editUserModal_EditUserModal.__docgenInfo={description:"",displayName:"EditUserModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},editUser:{defaultValue:null,description:"",name:"editUser",required:!0,type:{name:"any"}},editUserFields:{defaultValue:null,description:"",name:"editUserFields",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/modals/editUserModal.tsx#EditUserModal"]={docgenInfo:editUserModal_EditUserModal.__docgenInfo,name:"EditUserModal",path:"src/entities/modals/editUserModal.tsx#EditUserModal"})}catch(__react_docgen_typescript_loader_error){}var action=__webpack_require__(75),action_default=__webpack_require__.n(action),ReconciliationCard_ReconciliationCard=function(_React$Component){Object(inherits.a)(ReconciliationCard,_React$Component);var _super=Object(createSuper.a)(ReconciliationCard);function ReconciliationCard(props){var _this;Object(classCallCheck.a)(this,ReconciliationCard);return(_this=_super.call(this,props)).state={selectedUsers:[],selectedIds:[],reconciliationMessage:"mom"},_this}return Object(createClass.a)(ReconciliationCard,[{key:"selectReconciliationMessage",value:function selectReconciliationMessage(reconciliationType){return this.setState({reconciliationMessage:reconciliationType})}},{key:"renderReconciliationMessage",value:function renderReconciliationMessage(){return react.createElement("div",{onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"messagePanelAnswer metadata",style:{marginLeft:0,marginTop:0}},react.createElement("div",{style:{paddingLeft:20}},react.createElement("div",null,react.createElement("div",{className:"actionButton disabledButton",style:{margin:15,height:35,width:300}},"Reconcile in Xero now")),react.createElement("div",null,react.createElement("div",{className:"actionButton disabledButton",style:{margin:15,height:35,width:300}},"Set a Reminder for later")))))}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%"}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client ",react.createElement("br",null)," Reconciliation Request"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a proactive reminder to keep your clients on top of their Xero reconciliation."),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This message can be auto scheduled fortnightly so your clients are always encouraged to keep their financial information up to date."),react.createElement("div",null,this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"},className:"feedback-select-holder"},react.createElement(lib.Select,{id:"Select-9",multiple:!1,onChange:function onChange(e){if(""===e.target.value)_this2.setState({selectedUsers:[],selectedIds:[]});else{var selectedUsersArr=_this2.state.selectedUsers,value=e.target.value.split(" ");_this2.state.selectedIds.push(value[0]),selectedUsersArr.push({id:value[0],givenName:value[1],familyName:value[2]}),_this2.setState({selectedUsers:selectedUsersArr})}},options:{classes:"big-trigger fillBackground",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:""},react.createElement("option",{value:""},"Send to All"),this.props.usersList&&this.props.usersList.map((function(i){var isSelected=_this2.state.selectedUsers.includes(i.id);return react.createElement("option",{style:{color:isSelected?"#3ceac5":"1D1D1D"},className:"".concat(isSelected?"selectedOption":null),value:"".concat(i.id," ").concat(i.givenName," ").concat(i.familyName)},i.givenName," ",i.familyName)}))),react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients: ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleReconciliationMessageAction(_this2.state.selectedIds)}},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleMessageAction("finance-reconciliation-request","semi-monthly","at-midday",_this2.state.selectedIds)}},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"It's around the middle of the month. ".concat(this.props.rootStore.authStore.practiceUser.user.displayName," at ").concat(this.props.rootStore.businessStore.practiceId.name," \n                  has requested a Xero reconciliation asap. Keeping up to date with your Xero data helps Aider to provide accurate \n                  cash flow forecasting and future cash flow visibility. ")),react.createElement("div",{className:"speech-bubble-ds__arrow_left"}))))}}]),ReconciliationCard}(react.Component);try{ReconciliationCard_ReconciliationCard.displayName="ReconciliationCard",ReconciliationCard_ReconciliationCard.__docgenInfo={description:"",displayName:"ReconciliationCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},scheduleReconciliationMessageAction:{defaultValue:null,description:"",name:"scheduleReconciliationMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/actionCards/ReconciliationCard.tsx#ReconciliationCard"]={docgenInfo:ReconciliationCard_ReconciliationCard.__docgenInfo,name:"ReconciliationCard",path:"src/entities/actionCards/ReconciliationCard.tsx#ReconciliationCard"})}catch(__react_docgen_typescript_loader_error){}var KeyDatesCard_KeyDatesCard=function(_React$Component){Object(inherits.a)(KeyDatesCard,_React$Component);var _super=Object(createSuper.a)(KeyDatesCard);function KeyDatesCard(props){var _this;Object(classCallCheck.a)(this,KeyDatesCard);return(_this=_super.call(this,props)).state={category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(KeyDatesCard,[{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%"}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client",react.createElement("br",null)," ","GST Due Dates"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a proactive reminder to keep your clients on top of their GST payment dates."),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This message can be auto scheduled fortnightly so your clients are always aware when GST is due to be filed and paid."),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement(lib.Select,{id:"Select-9",multiple:!1,onChange:function onChange(e){if(""===e.target.value)_this2.setState({selectedUsers:[],selectedIds:[]});else{var selectedUsersArr=_this2.state.selectedUsers,value=e.target.value.split(" ");_this2.state.selectedIds.push(value[0]),selectedUsersArr.push({id:value[0],givenName:value[1],familyName:value[2]}),_this2.setState({selectedUsers:selectedUsersArr})}},options:{classes:"big-trigger fillBackground",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:""},react.createElement("option",{value:""},"Send to All"),this.props.usersList&&this.props.usersList.map((function(i){var isSelected=_this2.state.selectedUsers.includes(i.id);return react.createElement("option",{style:{color:isSelected?"#3ceac5":"1D1D1D"},className:"".concat(isSelected?"selectedOption":null),value:"".concat(i.id," ").concat(i.givenName," ").concat(i.familyName)},i.givenName," ",i.familyName)}))),react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients: ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleKeyDatesMessageAction(_this2.state.reconciliationMessage,_this2.state.selectedIds)}},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleMessageAction("finance-sales-tax","semi-monthly","at-midday",_this2.state.selectedIds)}},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"The GST period is set for every\n              *month.\n              \n\n              The next GST payment is due on\n              *28-Jul-2020 for the *June period.\n             \n\n              The last payment for the *May period\n              was due to be paid on *28-Jun-2020."),react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20,fontSize:12}},"*Note: your clients will receive actual payment dates in accordance with their sales tax period")))}}]),KeyDatesCard}(react.Component);try{KeyDatesCard_KeyDatesCard.displayName="KeyDatesCard",KeyDatesCard_KeyDatesCard.__docgenInfo={description:"",displayName:"KeyDatesCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},scheduleKeyDatesMessageAction:{defaultValue:null,description:"",name:"scheduleKeyDatesMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/actionCards/KeyDatesCard.tsx#KeyDatesCard"]={docgenInfo:KeyDatesCard_KeyDatesCard.__docgenInfo,name:"KeyDatesCard",path:"src/entities/actionCards/KeyDatesCard.tsx#KeyDatesCard"})}catch(__react_docgen_typescript_loader_error){}var cashflow_1=__webpack_require__(703),cashflow_1_default=__webpack_require__.n(cashflow_1),cashflow_2=__webpack_require__(704),cashflow_2_default=__webpack_require__.n(cashflow_2),CashflowCheckCard_CashflowCheckCard=function(_React$Component){Object(inherits.a)(CashflowCheckCard,_React$Component);var _super=Object(createSuper.a)(CashflowCheckCard);function CashflowCheckCard(props){var _this;Object(classCallCheck.a)(this,CashflowCheckCard);return(_this=_super.call(this,props)).state={isHovering:!1,category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(CashflowCheckCard,[{key:"seeInAider",value:function seeInAider(){Store.a.conversationStore.continueConversationAction("cashflow check for this month",Store.a.authStore.links,Store.a.businessStore.selectedBusinessAccessToken,Store.a.conversationStore.currentConversation.conversationId),Store.a.conversationStore.setTrainAiderVisible(!0),this.props.closeModal()}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%"}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client",react.createElement("br",null)," ","Cash flow Check"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a simple cash flow forecast that projects your clients net cash in or out flow and expected cash position for the selected period.",react.createElement("br",null),"It also provides actions to your clients to improve their cash flow position with one click."),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This message can be auto scheduled fortnightly so your clients are always aware of their future cash flow position."),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement(lib.Select,{id:"Select-9",multiple:!1,onChange:function onChange(e){if(""===e.target.value)_this2.setState({selectedUsers:[],selectedIds:[]});else{var selectedUsersArr=_this2.state.selectedUsers,value=e.target.value.split(" ");_this2.state.selectedIds.push(value[0]),selectedUsersArr.push({id:value[0],givenName:value[1],familyName:value[2]}),_this2.setState({selectedUsers:selectedUsersArr})}},options:{classes:"big-trigger fillBackground",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:""},react.createElement("option",{value:""},"Send to All"),this.props.usersList.map((function(i){var isSelected=_this2.state.selectedUsers.includes(i.id);return react.createElement("option",{style:{color:isSelected?"#3ceac5":"1D1D1D"},className:"".concat(isSelected?"selectedOption":null),value:"".concat(i.id," ").concat(i.givenName," ").concat(i.familyName)},i.givenName," ",i.familyName)}))),react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients:"," ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.runCashflowCheckMessageAction(_this2.state.reconciliationMessage,_this2.state.selectedIds)}},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleMessageAction("finance-cash-flow","semi-monthly","at-midday",_this2.state.selectedIds)}},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",null,react.createElement("div",{onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})},onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},style:{position:"relative",zIndex:9999}},react.createElement("div",{onClick:function onClick(){_this2.seeInAider()},style:{position:"absolute",top:280,right:90,padding:15,paddingLeft:25,width:210},className:"seeInAider ".concat(this.state.isHovering?"hoverOverButton":"")},"Run Cash Flow Check"," ")),react.createElement("div",{className:"exampleActionImage ".concat(this.state.isHovering?"hoverOverImage":""),style:{marginTop:0,display:"flex",justifyContent:"center"}},react.createElement("img",{style:{float:"left",paddingBottom:8,width:190,height:346},src:cashflow_1_default.a}),react.createElement("img",{style:{float:"right",paddingBottom:8,width:190,marginLeft:10,height:346},src:cashflow_2_default.a})))))}}]),CashflowCheckCard}(react.Component);try{CashflowCheckCard_CashflowCheckCard.displayName="CashflowCheckCard",CashflowCheckCard_CashflowCheckCard.__docgenInfo={description:"",displayName:"CashflowCheckCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runCashflowCheckMessageAction:{defaultValue:null,description:"",name:"runCashflowCheckMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/actionCards/CashflowCheckCard.tsx#CashflowCheckCard"]={docgenInfo:CashflowCheckCard_CashflowCheckCard.__docgenInfo,name:"CashflowCheckCard",path:"src/entities/actionCards/CashflowCheckCard.tsx#CashflowCheckCard"})}catch(__react_docgen_typescript_loader_error){}var IncomeTaxEstimateCard_IncomeTaxEstimateCard=function(_React$Component){Object(inherits.a)(IncomeTaxEstimateCard,_React$Component);var _super=Object(createSuper.a)(IncomeTaxEstimateCard);function IncomeTaxEstimateCard(props){var _this;Object(classCallCheck.a)(this,IncomeTaxEstimateCard);return(_this=_super.call(this,props)).state={isHovering:!1,category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(IncomeTaxEstimateCard,[{key:"seeInAider",value:function seeInAider(){Store.a.conversationStore.startConversationViaAlternative("Income tax estimate",Store.a.authStore.links,Store.a.businessStore.selectedBusinessAccessToken,"finance-income-tax-estimate"),Store.a.conversationStore.setTrainAiderVisible(!0),this.props.closeModal()}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%"}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client",react.createElement("br",null)," ","Income Tax Estimate"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a proactive reminder to keep your clients on top of their future income tax payable."),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}}," ","This message can be auto scheduled monthly so your clients are always aware of the income tax they should save for future payment date. You can adjust the tax rate in the ",react.createElement("i",null,"My Clients")," info section to adjust for clients with different tax rates to the company standard."," "),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement(lib.Select,{id:"Select-9",multiple:!1,onChange:function onChange(e){if(""===e.target.value)_this2.setState({selectedUsers:[],selectedIds:[]});else{var selectedUsersArr=_this2.state.selectedUsers,value=e.target.value.split(" ");_this2.state.selectedIds.push(value[0]),selectedUsersArr.push({id:value[0],givenName:value[1],familyName:value[2]}),_this2.setState({selectedUsers:selectedUsersArr})}},options:{classes:"big-trigger fillBackground",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:""},react.createElement("option",{className:"feedback-option",value:""},"Send to All"),this.props.usersList&&this.props.usersList.map((function(i){var isSelected=_this2.state.selectedUsers.includes(i.id);return react.createElement("option",{style:{color:isSelected?"#3ceac5":"1D1D1D"},className:"feedback-option ".concat(isSelected?"selectedOption":null),value:"".concat(i.id," ").concat(i.givenName," ").concat(i.familyName)},i.givenName," ",i.familyName)}))),react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients: ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.runIncomeTaxEstimate(_this2.state.selectedIds)}},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.scheduleMessageAction("finance-income-tax-estimate","semi-monthly","at-midday",_this2.state.selectedIds)}},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40},onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"                The net profit for June (last month) was $X.\n\n                Based on the income tax rate of 28%; the income tax estimate is $X (Last month net profit x tax rate).\n\n                Make sure you save this monthly income tax estimate amount for future payment dates."),react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20,fontSize:12}},"              *Note: your clients will receive actual tax estimate data in accordance with their tax rate."),react.createElement("br",null),react.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},react.createElement("div",{onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})},onClick:function onClick(){_this2.seeInAider()},style:{cursor:"pointer",width:230,padding:15,fontSize:14,paddingLeft:25},className:"seeInAider ".concat(this.state.isHovering?"hoverOverButton":"")},"Run Income Tax Estimate"," "))))}}]),IncomeTaxEstimateCard}(react.Component);try{IncomeTaxEstimateCard_IncomeTaxEstimateCard.displayName="IncomeTaxEstimateCard",IncomeTaxEstimateCard_IncomeTaxEstimateCard.__docgenInfo={description:"",displayName:"IncomeTaxEstimateCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runIncomeTaxEstimate:{defaultValue:null,description:"",name:"runIncomeTaxEstimate",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/actionCards/IncomeTaxEstimateCard.tsx#IncomeTaxEstimateCard"]={docgenInfo:IncomeTaxEstimateCard_IncomeTaxEstimateCard.__docgenInfo,name:"IncomeTaxEstimateCard",path:"src/entities/actionCards/IncomeTaxEstimateCard.tsx#IncomeTaxEstimateCard"})}catch(__react_docgen_typescript_loader_error){}var DirectMessageCard_DirectMessageCard=function(_React$Component){Object(inherits.a)(DirectMessageCard,_React$Component);var _super=Object(createSuper.a)(DirectMessageCard);function DirectMessageCard(props){var _this;Object(classCallCheck.a)(this,DirectMessageCard);return(_this=_super.call(this,props)).state={textInput:"",category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(DirectMessageCard,[{key:"changeTextInput",value:function changeTextInput(e){return this.setState({textInput:e.target.value})}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%"}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client ",react.createElement("br",null)," Direct Message"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"Send a direct message to your clients that Aider can deliver on your behalf."),react.createElement("div",{style:{marginTop:0,display:"flex",justifyContent:"center",marginBottom:25}},react.createElement("textarea",{id:"textArea",className:"text-area-input","ng-model-options":"{ updateOn: 'blur' }",spellCheck:"false",style:{border:"#4264ea 1px solid",fontFamily:"arial",height:82,width:480,maxHeight:100},name:"textarea",value:this.state.textInput,onChange:function onChange(e){_this2.changeTextInput(e)}})),react.createElement("div",{style:{marginTop:10,justifyContent:"center"}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement(lib.Select,{id:"Select-9",multiple:!1,onChange:function onChange(e){if(""===e.target.value)_this2.setState({selectedUsers:[],selectedIds:[]});else{var selectedUsersArr=_this2.state.selectedUsers,value=e.target.value.split(" ");_this2.state.selectedIds.push(value[0]),selectedUsersArr.push({id:value[0],givenName:value[1],familyName:value[2]}),_this2.setState({selectedUsers:selectedUsersArr})}},options:{classes:"big-trigger fillBackground",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:""},react.createElement("option",{value:""},"Send to All"),this.props.usersList&&this.props.usersList.map((function(i){var isSelected=_this2.state.selectedUsers.includes(i.id);return react.createElement("option",{style:{color:isSelected?"#3ceac5":"1D1D1D"},className:"".concat(isSelected?"selectedOption":null),value:"".concat(i.id," ").concat(i.givenName," ").concat(i.familyName)},i.givenName," ",i.familyName)}))),react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients: ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this2.props.runDirectMessageAction("direct-message",_this2.state.textInput,_this2.state.selectedIds)}},"Send Now"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},"Hey, I've got a message for you from your Advisor, ",Store.a.authStore.practiceUser.user.givenName," :",react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20},className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},this.state.textInput.length>=1?this.state.textInput:"Message text here"," ",""),react.createElement("div",{className:"speech-bubble-ds__arrow_left"}))))}}]),DirectMessageCard}(react.Component);try{DirectMessageCard_DirectMessageCard.displayName="DirectMessageCard",DirectMessageCard_DirectMessageCard.__docgenInfo={description:"",displayName:"DirectMessageCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runDirectMessageAction:{defaultValue:null,description:"",name:"runDirectMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/actionCards/DirectMessageCard.tsx#DirectMessageCard"]={docgenInfo:DirectMessageCard_DirectMessageCard.__docgenInfo,name:"DirectMessageCard",path:"src/entities/actionCards/DirectMessageCard.tsx#DirectMessageCard"})}catch(__react_docgen_typescript_loader_error){}var ProvisionalEstimateCard_ProvisionalEstimateCard=function(_React$Component){Object(inherits.a)(ProvisionalEstimateCard,_React$Component);var _super=Object(createSuper.a)(ProvisionalEstimateCard);function ProvisionalEstimateCard(props){var _this;Object(classCallCheck.a)(this,ProvisionalEstimateCard);return(_this=_super.call(this,props)).state={category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(ProvisionalEstimateCard,[{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%"}},react.createElement("div",{style:{display:"inline-block",height:70}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Provisional",react.createElement("br",null)," ","Income Tax Estimate"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This is a proactive reminder to keep your clients on top of their current Income Tax liability for the Provisonal tax payment period.",react.createElement("br",null),"The calculation compares values to last year to ensure if there is significant variation then an increase or decrease to the standard estimate may be required.",react.createElement("br",null)),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}}," ","This message can be auto scheduled monthly so your clients are always aware of the current years income tax payable. You can adjust the tax rate in the"," ",react.createElement("i",null,"My Clients")," ","info section to adjust for clients with different tax rates to the company standard."," "),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement(lib.Select,{id:"Select-9",multiple:!1,onChange:function onChange(e){if(""===e.target.value)_this2.setState({selectedUsers:[],selectedIds:[]});else{var selectedUsersArr=_this2.state.selectedUsers,value=e.target.value.split(" ");_this2.state.selectedIds.push(value[0]),selectedUsersArr.push({id:value[0],givenName:value[1],familyName:value[2]}),_this2.setState({selectedUsers:selectedUsersArr})}},options:{classes:"big-trigger fillBackground",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:""},react.createElement("option",{value:""},"Send to All"),this.props.usersList&&this.props.usersList.map((function(i){var isSelected=_this2.state.selectedUsers.includes(i.id);return react.createElement("option",{style:{color:isSelected?"#3ceac5":"1D1D1D"},className:"".concat(isSelected?"selectedOption":null),value:"".concat(i.id," ").concat(i.givenName," ").concat(i.familyName)},i.givenName," ",i.familyName)}))),react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients:"," ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton disabledButton"},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton disabledButton"},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"The YTD Net Profit from April to July (last financial quarter) is $X which is 22% higher than last years Net Profit of $X for the same period.\n\nThe Estimate Net Profit for the full year is looking around $X (taking into consideration the current year and last years monthly net profit)"),react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20,fontSize:12}}," ","*Note: your clients will receive actual tax estimate data in accordance with their tax rate.")))}}]),ProvisionalEstimateCard}(react.Component);try{ProvisionalEstimateCard_ProvisionalEstimateCard.displayName="ProvisionalEstimateCard",ProvisionalEstimateCard_ProvisionalEstimateCard.__docgenInfo={description:"",displayName:"ProvisionalEstimateCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runIncomeTaxEstimate:{defaultValue:null,description:"",name:"runIncomeTaxEstimate",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/actionCards/ProvisionalEstimateCard.tsx#ProvisionalEstimateCard"]={docgenInfo:ProvisionalEstimateCard_ProvisionalEstimateCard.__docgenInfo,name:"ProvisionalEstimateCard",path:"src/entities/actionCards/ProvisionalEstimateCard.tsx#ProvisionalEstimateCard"})}catch(__react_docgen_typescript_loader_error){}var ManageMessagesCard_ManageMessageCardComponent=function(_React$Component){Object(inherits.a)(ManageMessageCardComponent,_React$Component);var _super=Object(createSuper.a)(ManageMessageCardComponent);function ManageMessageCardComponent(props){var _this;Object(classCallCheck.a)(this,ManageMessageCardComponent);return(_this=_super.call(this,props)).state={selectedMessage:null,textInput:"",category:"",reconciliationMessage:null,selectedId:"",selectedUser:"",selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(ManageMessageCardComponent,[{key:"changeTextInput",value:function changeTextInput(e){return this.setState({textInput:e.target.value})}},{key:"render",value:function render(){var _this2=this,currentConversation=Store.a.conversationStore.currentManagedMessages.messages,recipient=this.state.selectedMessage?this.props.usersList.filter((function(i){return _this2.state.selectedMessage.recipient===i.id})):{givenName:null,familyName:null};return console.log(Object(mobx_module.toJS)(this.props.usersList),Object(mobx_module.toJS)(this.state.selectedMessage)),console.log(Object(mobx_module.toJS)(currentConversation)),react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%"}},react.createElement("div",{style:{display:"inline-block"}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Manage Client's"," ",react.createElement("br",null)," ","Scheduled Messages"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"Select a message on the right hand side to read more about it."),react.createElement("div",{style:{marginTop:0,display:"flex",justifyContent:"center",marginBottom:5}}),this.state.selectedMessage?react.createElement("div",{className:"scrollbar",style:{maxHeight:300,height:2900,paddingRight:15}},react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Recipient:")," ",react.createElement("span",null,recipient.givenName?"".concat(recipient.givenName," ").concat(recipient.familyName):"All Users")),react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Action:")," ",react.createElement("span",null,Object(components.t)(this.state.selectedMessage.action))),react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Frequency:")," ",react.createElement("span",null,this.state.selectedMessage.frequency)),react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Time of day:")," ",react.createElement("span",null,this.state.selectedMessage.timeOfDay&&this.state.selectedMessage.timeOfDay.split("-").join(" "))),react.createElement("p",null,react.createElement("b",{style:{color:"#4264ea"}},"Next execution at:")," ",react.createElement("span",null,this.state.selectedMessage.nextExecutionAt&&moment_default()(this.state.selectedMessage.nextExecutionAt).format("LLLL"))),react.createElement("div",null,react.createElement("b",{style:{color:"#4264ea"}},"Message:")," ",react.createElement("br",null)," ",this.state.selectedMessage.message.answers.map((function(answer){return react.createElement("p",null,answer)}))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton",onClick:function onClick(){Store.a.conversationStore.cancelScheduledMessage(_this2.state.selectedMessage._links).then((function(){_this2.setState({selectedMessage:null})}))}},"Cancel Message"))):react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"Note: Scheduled Messages will only appear in this table when they have been dispatched atleast once")),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40,width:"100%"}},react.createElement("h3",null,""!==this.state.selectedUser?"Scheduled for ".concat(this.state.selectedUser):"Select a Message"),react.createElement("div",{style:{maxHeight:300,height:300}},react.createElement("table",{className:"navTable z-depth-1-half table-depth noZ",style:{maxHeight:300,height:300}},react.createElement("thead",{className:"navTableHead",style:{backgroundColor:"#4264ea"}},react.createElement("tr",{style:{color:"#c7c7c7",borderBottom:"1px solid #fff"}},react.createElement("th",{style:{width:"58%"}},"Type"),react.createElement("th",null,"Schedule"),react.createElement("th",null))),react.createElement("tbody",{className:"inviteTableBody scrollbar narrow",style:{maxHeight:300,height:300,overflowY:"auto"}},Store.a.conversationStore.scheduledMessagesLoading?react.createElement("div",null,components.w):void 0!==currentConversation&&currentConversation.length>=1?currentConversation.map((function(i,ix){return react.createElement("tr",{onClick:function onClick(){_this2.setState({selectedMessage:i})},style:{borderBottom:"1px solid #e8e8e8",cursor:"pointer"}},react.createElement("td",{style:{maxWidth:250,fontSize:12,width:"58%",minWidth:240}},Object(components.t)(i.action)),react.createElement("td",{style:{fontSize:12}},i.frequency),react.createElement("td",null))})):react.createElement("p",{style:{color:"white",marginTop:10}},"No Scheduled messages."))))))}}]),ManageMessageCardComponent}(react.Component),actionCards_ManageMessagesCard=Object(mobxreact_esm.b)(ManageMessagesCard_ManageMessageCardComponent);try{ManageMessagesCard_ManageMessageCardComponent.displayName="ManageMessageCardComponent",ManageMessagesCard_ManageMessageCardComponent.__docgenInfo={description:"",displayName:"ManageMessageCardComponent",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runDirectMessageAction:{defaultValue:null,description:"",name:"runDirectMessageAction",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/actionCards/ManageMessagesCard.tsx#ManageMessageCardComponent"]={docgenInfo:ManageMessagesCard_ManageMessageCardComponent.__docgenInfo,name:"ManageMessageCardComponent",path:"src/entities/actionCards/ManageMessagesCard.tsx#ManageMessageCardComponent"})}catch(__react_docgen_typescript_loader_error){}var GSTPayableCard_GSTPayableCard=function(_React$Component){Object(inherits.a)(GSTPayableCard,_React$Component);var _super=Object(createSuper.a)(GSTPayableCard);function GSTPayableCard(props){var _this;Object(classCallCheck.a)(this,GSTPayableCard);return(_this=_super.call(this,props)).state={isHovering:!1,category:"",reconciliationMessage:null,selectedUsers:[],selectedIds:[]},_this}return Object(createClass.a)(GSTPayableCard,[{key:"seeInAider",value:function seeInAider(){Store.a.conversationStore.continueConversationAction("Sales Tax due",Store.a.authStore.links,Store.a.businessStore.selectedBusinessAccessToken,Store.a.conversationStore.currentConversation.conversationId),Store.a.conversationStore.setTrainAiderVisible(!0),this.props.closeModal()}},{key:"render",value:function render(){var _this2=this;return react.createElement("div",{className:"blueCardBorder",style:{backgroundColor:"#4264ea",height:"100%",display:"flex"},onClick:function onClick(e){e.preventDefault(),e.stopPropagation()}},react.createElement("div",{className:"whiteCardBorder",style:{width:500,minWidth:500,backgroundColor:"#fff",padding:40,height:"100%"}},react.createElement("div",{style:{display:"inline-block",height:70}},react.createElement("img",{style:{marginBottom:40,marginRight:20},height:60,width:60,src:action_default.a})),react.createElement("span",{style:{fontSize:28,fontWeight:900,color:"#4264ea",display:"inline-block",lineHeight:"30px"}},"Send Client",react.createElement("br",null)," ","GST Estimate"),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14,marginTop:10}},"This is a proactive reminder to keep your clients on top of their future GST payable. The GST is calculated based in Income and Expenses reconciled to date. ",react.createElement("br",null),react.createElement("br",null)),react.createElement("p",{className:"headerText",style:{color:"black",fontSize:14}},"This message can be auto scheduled monthly so your clients are always aware of the GST payable/receivable for they should save for future payment date."),react.createElement("div",{style:{marginTop:10}},this.props.renderLoadingComponent||null!==this.props.store.recipientCount?null!==this.props.store.recipientCount?react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.c,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount,closeModal:this.props.closeModal})):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},components.v):react.createElement(react.Fragment,null,react.createElement("div",{style:{display:"block"}},react.createElement(lib.Select,{id:"Select-9",multiple:!1,onChange:function onChange(e){if(""===e.target.value)_this2.setState({selectedUsers:[],selectedIds:[]});else{var selectedUsersArr=_this2.state.selectedUsers,value=e.target.value.split(" ");_this2.state.selectedIds.push(value[0]),selectedUsersArr.push({id:value[0],givenName:value[1],familyName:value[2]}),_this2.setState({selectedUsers:selectedUsersArr})}},options:{classes:"big-trigger fillBackground",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:""},react.createElement("option",{value:""},"Send to All"),this.props.usersList&&this.props.usersList.map((function(i){var isSelected=_this2.state.selectedUsers.includes(i.id);return react.createElement("option",{style:{color:isSelected?"#3ceac5":"1D1D1D"},className:"".concat(isSelected?"selectedOption":null),value:"".concat(i.id," ").concat(i.givenName," ").concat(i.familyName)},i.givenName," ",i.familyName)}))),react.createElement("div",{style:{maxHeight:62,width:"100%",overflowY:"auto",marginTop:10,fontSize:11,color:"#505050",marginLeft:20}}," ",react.createElement("p",null,"Recipients:"," ",this.state.selectedUsers.length>=1?this.state.selectedUsers.map((function(i){return"".concat(i.givenName," ").concat(i.familyName,", ")})):"All Users"))),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("button",{className:"actionButton bigButton disabledButton"},"Send Now"),react.createElement("button",{style:{marginLeft:40},className:"actionButton bigButton disabledButton"},"Schedule Reminder"))))),react.createElement("div",{className:"blueCardBorder",style:{display:"inline-block",backgroundColor:"#4264ea",color:"#fff",padding:40}},react.createElement("span",null,"Aider will send the following message to the selected users of"," ".concat(Store.a.businessStore.selectedBusinessData.name)," ","on your behalf."),react.createElement("div",{onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})},className:"messagePanelAnswerConversation speech-bubble-ds_left"},react.createElement("span",{style:{fontWeight:600,fontSize:16}},"“The next GST payment is due on *date for the *month/s period.\n\nI've estimated the amount of that payment to be $x based on *months Income and Expenses recorded so far.\n\nThe last payment for the *month/s period was due to be paid on *date for an estimated amount of $y”"),react.createElement("div",{className:"speech-bubble-ds__arrow_left"})),react.createElement("div",{style:{marginTop:20,fontSize:12}}," ","*Note: your clients will receive actual estimate data in accordance with their tax rate."),react.createElement("br",null),react.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},react.createElement("div",{onMouseEnter:function onMouseEnter(){_this2.setState({isHovering:!0})},onMouseLeave:function onMouseLeave(){_this2.setState({isHovering:!1})},onClick:function onClick(){_this2.seeInAider()},style:{cursor:"pointer",padding:15,paddingLeft:25},className:"seeInAider ".concat(this.state.isHovering?"hoverOverButton":"")},"Run GST Estimate results"," "))))}}]),GSTPayableCard}(react.Component);try{GSTPayableCard_GSTPayableCard.displayName="GSTPayableCard",GSTPayableCard_GSTPayableCard.__docgenInfo={description:"",displayName:"GSTPayableCard",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},runGSTPayable:{defaultValue:null,description:"",name:"runGSTPayable",required:!0,type:{name:"any"}},scheduleMessageAction:{defaultValue:null,description:"",name:"scheduleMessageAction",required:!0,type:{name:"any"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"any"}},renderLoadingComponent:{defaultValue:null,description:"",name:"renderLoadingComponent",required:!0,type:{name:"any"}},usersList:{defaultValue:null,description:"",name:"usersList",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/actionCards/GSTPayableCard.tsx#GSTPayableCard"]={docgenInfo:GSTPayableCard_GSTPayableCard.__docgenInfo,name:"GSTPayableCard",path:"src/entities/actionCards/GSTPayableCard.tsx#GSTPayableCard"})}catch(__react_docgen_typescript_loader_error){}var actionCentreModal_ActionCentreModal=function(_React$Component){Object(inherits.a)(ActionCentreModal,_React$Component);var _super=Object(createSuper.a)(ActionCentreModal);function ActionCentreModal(props){var _this;Object(classCallCheck.a)(this,ActionCentreModal);return(_this=_super.call(this,props)).state={category:"",usersList:[],usersSelected:[]},_this}return Object(createClass.a)(ActionCentreModal,[{key:"componentDidMount",value:function componentDidMount(){var business=Store.a.businessStore.businessListDetail.find((function(i){return i.businessId===Store.a.businessStore.selectedBusinessId}));business&&this.setState({usersList:business.users})}},{key:"scheduleMessageAction",value:function scheduleMessageAction(intentKey,frequency,timeOfDay,users){this.props.store.scheduleMessageAction(intentKey,frequency,timeOfDay,users)}},{key:"renderLoadingComponent",value:function renderLoadingComponent(){return Store.a.conversationStore.sendingMessageLoading?react.createElement("div",null,"Loading..."):null}},{key:"renderCardFromType",value:function renderCardFromType(type){return"reconciliation"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(ReconciliationCard_ReconciliationCard,{usersList:this.state.usersList,renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,store:this.props.store,rootStore:this.props.rootStore,type:this.props.type,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),scheduleReconciliationMessageAction:this.props.store.scheduleReconciliationMessageAction})):"taxdates"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(KeyDatesCard_KeyDatesCard,{usersList:this.state.usersList,renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),scheduleKeyDatesMessageAction:this.props.store.runKeyDatesMessageAction})):"cashflow"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(CashflowCheckCard_CashflowCheckCard,{usersList:this.state.usersList,renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runCashflowCheckMessageAction:this.props.store.runCashflowCheckMessageAction})):"income-tax"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(IncomeTaxEstimateCard_IncomeTaxEstimateCard,{usersList:this.state.usersList,renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runIncomeTaxEstimate:this.props.store.runIncomeTaxEstimate})):"provisional-estimate"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(ProvisionalEstimateCard_ProvisionalEstimateCard,{usersList:this.state.usersList,renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runIncomeTaxEstimate:this.props.store.runIncomeTaxEstimate})):"gst-pr"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(GSTPayableCard_GSTPayableCard,{usersList:this.state.usersList,renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runGSTPayable:this.props.store.runGSTPayable})):"direct-message"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(DirectMessageCard_DirectMessageCard,{usersList:this.state.usersList,renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runDirectMessageAction:this.props.store.runDirectMessageAction})):"manage-messages"===type?react.createElement("div",{className:"metadata-card z-depth-6"},react.createElement(actionCards_ManageMessagesCard,{usersList:this.state.usersList,renderLoadingComponent:Store.a.conversationStore.sendingMessageLoading,type:this.props.type,store:this.props.store,rootStore:this.props.rootStore,closeModal:this.props.closeActionModal,scheduleMessageAction:this.scheduleMessageAction.bind(this),runDirectMessageAction:this.props.store.runDirectMessageAction})):void 0}},{key:"render",value:function render(){return react.createElement("div",{id:"metadataModal",className:"ac-modal-container actionCard"},this.renderCardFromType(this.props.type))}}]),ActionCentreModal}(react.Component),actionCentreModal=Object(mobxreact_esm.b)(actionCentreModal_ActionCentreModal);try{actionCentreModal_ActionCentreModal.displayName="ActionCentreModal",actionCentreModal_ActionCentreModal.__docgenInfo={description:"",displayName:"ActionCentreModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"any"}},closeActionModal:{defaultValue:null,description:"",name:"closeActionModal",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/modals/actionCentreModal.tsx#ActionCentreModal"]={docgenInfo:actionCentreModal_ActionCentreModal.__docgenInfo,name:"ActionCentreModal",path:"src/entities/modals/actionCentreModal.tsx#ActionCentreModal"})}catch(__react_docgen_typescript_loader_error){}var transparent_tick=__webpack_require__(705),transparent_tick_default=__webpack_require__.n(transparent_tick),AdvisorModal_AdvisorModal=function(_React$Component){Object(inherits.a)(AdvisorModal,_React$Component);var _super=Object(createSuper.a)(AdvisorModal);function AdvisorModal(props){var _this;return Object(classCallCheck.a)(this,AdvisorModal),(_this=_super.call(this,props)).handleClientFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState((function(prevState){var clientFormFields=prevState.clientFormFields;return clientFormFields[name]=value,{clientFormFields:clientFormFields}}))},_this.markAccess=function(id){var accessArray=_this.state.accessArray;if(accessArray.includes(id)){var index=accessArray.indexOf(id);return accessArray.splice(index,1),_this.setState({accessArray:accessArray})}return accessArray.push(id),_this.setState({accessArray:accessArray})},_this.selectAdvisor=function(id,name){Store.a.businessStore.getBusinessesFromAdvisor(Store.a.authStore.links,id).then((function(){var accessArray=Store.a.businessStore.selectedAdvisorsClients.currentClients.map((function(i){return i.id}));_this.setState({selectedAdvisor:{id:id,name:name},accessArray:accessArray})}))},_this.state={clientFormFields:{givenName:"",familyName:"",emailAddress:""},accessArray:[],selectedAdvisor:null,invitationSelected:!Store.a.authStore.showConfigureAccessTab,subscriptionSelected:!1,dropdownIdOpen:null,selectedClass:Store.a.authStore.showConfigureAccessTab?"permissions":"invitation"},_this}return Object(createClass.a)(AdvisorModal,[{key:"componentDidMount",value:function componentDidMount(){Store.a.authStore.showConfigureAccessTab&&Store.a.authStore.setConfigureAccessTab(!1),Store.a.businessStore.getPracticeAdvisors(Store.a.authStore.links),Store.a.businessStore.fetchAdvisorInvitationList()}},{key:"closeDropDownBox",value:function closeDropDownBox(){this.state.dropdownIdOpen&&this.setState({dropdownIdOpen:null})}},{key:"renderDropDownBox",value:function renderDropDownBox(id){if(id===this.state.dropdownIdOpen)return this.setState({dropdownIdOpen:null});this.setState({dropdownIdOpen:id})}},{key:"resendInvite",value:function resendInvite(id,businessId){this.props.resendInvite(id,businessId),this.setState({dropdownIdOpen:null})}},{key:"renderMonthlyTotal",value:function renderMonthlyTotal(clientCount,currency,price,productId){return"practice_user"===Store.a.businessStore.activeUser.roleKey?"":"ai-aider-subscription-advisor-beta"===productId||"ai-aider-subscription-advisor-free"===productId?"FREE":clientCount&&0!==clientCount?clientCount<6?"FREE":clientCount>6&&clientCount<99||clientCount>99&&clientCount<500||clientCount>500&&clientCount<999||clientCount>999?"".concat(currency||""," ").concat((clientCount*price).toFixed(2)):void 0:"FREE"}},{key:"renderSubscriptionName",value:function renderSubscriptionName(productId){switch(productId){case"ai-aider-subscription-advisor-metered":return"Premium Account";case"ai-aider-subscription-advisor-free":return"Free Account";case"ai-aider-subscription-advisor-beta":return"Beta Account"}}},{key:"renderBusinessAccess",value:function renderBusinessAccess(){var _this2=this;return Store.a.businessStore.selectedAdvisorsClients.allClients.map((function(e,i){return react.createElement("div",{className:"advisorRow",style:{cursor:"pointer",height:42,width:"100%"},onClick:function onClick(){_this2.markAccess(e.id)}},react.createElement("div",{style:{width:300}},react.createElement("div",{style:{width:42,height:42,float:"left",padding:5}},_this2.state.accessArray.includes(e.id)?react.createElement("img",{src:transparent_tick_default.a,style:{width:32}}):react.createElement("div",{className:"circleBase standard",style:{borderColor:"#d8d8d8"}})),react.createElement("div",{style:{paddingTop:10}},e.name.replace(/(.{25})..+/,"$1...")))," ")}))}},{key:"renderExistingAdvisors",value:function renderExistingAdvisors(advisors){var _this3=this;return advisors.users&&advisors.users.length>=1?advisors.users.filter((function(user){return"practice_admin"===user.roleKey||"practice_user"===user.roleKey})).map((function(e,i){return react.createElement("div",{className:"advisorRow ".concat(_this3.state.selectedAdvisor&&_this3.state.selectedAdvisor.id===e.id&&"selectedAdvisor"," ").concat("practice_admin"===e.roleKey&&"disabledAdvisorRow"),style:{cursor:"pointer",height:42,width:"100%",display:"flex",justifyContent:"space-evenly"},onClick:function onClick(){"practice_admin"!==e.roleKey&&_this3.selectAdvisor(e.id,e.displayName)}},react.createElement("div",{style:{minWidth:300,maxWidth:600,overflowX:"hidden"}},react.createElement("div",{style:{paddingTop:10}},react.createElement("b",{style:{color:"#4264ea",marginRight:20}}," ",e.displayName.replace(/(.{21})..+/,"$1...")," ")," ",e.email.replace(/(.{31})..+/,"$1...")))," ")})):react.createElement("div",null)}},{key:"inviteClientRenderer",value:function inviteClientRenderer(){var _this4=this,clients=Store.a.businessStore.advisorInvitations.pendingInvitations,practiceId=Store.a.businessStore.practiceId.id;return clients?clients.map((function(e,i){var uppercaseStatus=e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"";if(void 0!==e){return react.createElement("tr",{key:i,style:{borderBottom:"1px solid #f1f1f1",width:"100%"},className:"inviteTableRow"},react.createElement("td",{className:"userNameCell",style:{width:"43%"}},react.createElement("b",{style:{color:"black",marginLeft:15,fontSize:16}},e.givenName," ",e.familyName)," ",react.createElement("span",{style:{marginLeft:15,fontSize:14,color:"#2d2d2d"}})),react.createElement("td",{className:"emailCell",style:{width:"100%",fontSize:16,color:"#4264ea",fontWeight:600}},e.email),react.createElement("td",{className:"statusCell",style:{width:"33.3%",minWidth:100,height:60}},react.createElement("div",{style:{fontSize:14,color:"#4264ea",float:"left"}},_this4.state.dropdownIdOpen===e.email?react.createElement("div",{className:"fadedshort",style:{backgroundColor:"#4264ea",color:"white",padding:4,borderRadius:4,cursor:"pointer"},onClick:function onClick(){_this4.resendInvite(e.id,practiceId)}},"Reinvite"):"".concat(uppercaseStatus)),"pending"===e.status?react.createElement("div",{style:{cursor:"pointer"},onClick:function onClick(ev){_this4.renderDropDownBox("".concat(e.email))}},react.createElement("img",{style:{float:"right"},src:options_default.a})):null))}return null})):null}},{key:"renderTierInfo",value:function renderTierInfo(product,productId,tierIsActive,fallbackText,existingBusinessList){return tierIsActive?react.createElement("div",{className:"tierDesc"},existingBusinessList||"No"," clients ",react.createElement("br",null),react.createElement("b",null,this.renderMonthlyTotal(existingBusinessList||null,product&&product.currency,product&&product.price,productId))):react.createElement("div",{className:"tierDesc"},fallbackText)}},{key:"existingClientRenderer",value:function existingClientRenderer(){var _this5=this;return Store.a.businessStore.practiceUsers.users?Store.a.businessStore.practiceUsers.users.map((function(e,i){var hasInvitations=Store.a.businessStore.advisorInvitations.pendingInvitations&&Store.a.businessStore.advisorInvitations.pendingInvitations.length>=1;return void 0!==e?react.createElement("tr",{key:i,style:{borderBottom:"1px solid #f1f1f1",width:"100%"},className:"inviteTableRow"},react.createElement("td",{className:"userNameCell",style:{width:"42%"}},react.createElement("b",{style:{color:"black",marginLeft:15,fontSize:16}},e.givenName," ",e.familyName)," ",react.createElement("span",{style:{marginLeft:15,fontSize:14,color:"#2d2d2d"}})),react.createElement("td",{className:hasInvitations?"emailCell":"emailCellAdvisor",style:{width:"100%",fontSize:16,color:"#4264ea",fontWeight:600,maxWidth:350}},e.email),react.createElement("td",{className:"statusCell",style:{width:"33.3%",minWidth:110,height:60}},react.createElement("div",{style:{fontSize:14,color:"#4264ea",float:"left"}},_this5.state.dropdownIdOpen===e.email?react.createElement("div",{className:"fadedshort",style:{backgroundColor:"#4264ea",color:"white",padding:4,borderRadius:4,cursor:"pointer"},onClick:function onClick(){_this5.resendInvite(e.id,e.businessId)}},"Reinvite"):"Accepted"),"pending"===e.status||"accepted"===e.status?react.createElement("div",{style:{cursor:"pointer"},onClick:function onClick(ev){_this5.renderDropDownBox("".concat(e.email))}},react.createElement("img",{style:{float:"right"},src:options_default.a})):null)):null})):null}},{key:"render",value:function render(){var _this6=this,isFirstTime="true"===js_cookie_default.a.get("inviteAdvisors"),practice=Store.a.businessStore.practiceId.name,subscription=Store.a.businessStore.subscription,product=(subscription.monthlyPrice,subscription.product),productId=(subscription.status,subscription.productId),permissionManagement=react.createElement("div",{style:{marginTop:40}},react.createElement("span",{style:{display:"flex",justifyContent:"center",color:"#4264ea",fontWeight:600,marginBottom:5}},"Select an Advisor to manage access:"),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("div",{className:"scrollbar",style:{width:"70%",maxHeight:190,height:190,backgroundColor:"#f5f4fa",borderRadius:12,border:"2px solid #4264ea"}},Store.a.businessStore.advisorsLoading?react.createElement("div",{style:{marginTop:40,display:"flex",justifyContent:"center"}},components.u):this.renderExistingAdvisors(Store.a.businessStore.practiceUsers))),this.state.selectedAdvisor?react.createElement("div",{className:"fadedshort"},react.createElement("span",{style:{marginTop:10,display:"flex",justifyContent:"center"}},"Give ",react.createElement("b",{style:{color:"#4264ea",marginLeft:4,marginRight:4}},this.state.selectedAdvisor&&" ".concat(this.state.selectedAdvisor.name," ")||"them")," access to:"),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("div",{className:"scrollbar",style:{width:"70%",maxHeight:190,height:190,backgroundColor:"#f5f4fa",borderRadius:12,border:"2px solid #4264ea"}},this.renderBusinessAccess()))):null),invitationComponent=react.createElement("div",null,react.createElement("div",{style:{marginLeft:65}},react.createElement("div",null,react.createElement("span",{className:"metadata",style:{fontSize:20,color:"#4264ea"}},isFirstTime?react.createElement("div",null,react.createElement("span",{style:{fontSize:28,fontWeight:600}},"Thanks ".concat(Store.a.authStore.practiceUser.user.givenName," ,")),react.createElement("br",null),react.createElement("span",{style:{fontSize:16}},"As a practice user you can invite Accountants / Bookkeepers to your practice.")):"",react.createElement("br",null),"Invite"," ",react.createElement("b",null,practice)," ","Accountants / Bookkeepers",isFirstTime?"":react.createElement("div",null,react.createElement("br",null),react.createElement("span",{style:{fontSize:16}},""))))),react.createElement("div",{style:{paddingTop:40}},react.createElement("div",{className:"email-form fadedshort",style:{height:65}},react.createElement("input",{style:{width:"240px !important"},type:"text",maxLength:25,name:"givenName",value:this.state.clientFormFields.givenName,placeholder:"First name and last name",className:"invite-form-name",onChange:this.handleClientFormChange}),react.createElement("input",{style:{width:240,marginLeft:20},type:"email",name:"emailAddress",value:this.state.clientFormFields.emailAddress,placeholder:"Email address",maxLength:40,className:"invite-form-email",onChange:this.handleClientFormChange}),react.createElement("button",{style:{width:110,height:50,fontWeight:600,float:"right",marginLeft:40},onClick:function onClick(){return _this6.state.clientFormFields.emailAddress.length>=1&&_this6.state.clientFormFields.emailAddress.includes("@")?(_this6.props.inviteAdvisor(_this6.state.clientFormFields),_this6.setState({clientFormFields:{givenName:"",familyName:"",emailAddress:""}})):null},className:"actionButton bigButtonWidth ".concat(this.state.clientFormFields.emailAddress.length<1||!this.state.clientFormFields.emailAddress.includes("@")?"disabledButton":"")},"Invite")),react.createElement("br",null),react.createElement("div",{style:{padding:30}},react.createElement("div",{key:"table",className:"scrollbar lite",style:{maxHeight:600,width:"100%",overflowY:Store.a.conversationStore.responseLoading?"hidden":"auto"},onClick:function onClick(){_this6.closeDropDownBox()}},react.createElement("div",null,react.createElement("h5",{className:"metadata",style:{color:"#4264ea",marginTop:20}},"Advisors"),react.createElement("table",{className:"highlight inviteTable",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),_this6.closeDropDownBox()}},react.createElement("thead",{className:"inviteTableHead",style:{backgroundColor:"#f5f4fa"}},react.createElement("tr",{style:{color:"#c7c7c7",fontSize:10}},react.createElement("th",null,"NAME"),react.createElement("th",{style:{width:"50%"}},"EMAIL"),react.createElement("th",{style:{width:"15%"}},"STATUS"))),react.createElement("tbody",{className:"inviteTableBody scrollbar lite"},Store.a.conversationStore.responseLoading?react.createElement("div",{style:{display:"flex",justifyContent:"center",paddingTop:10}},components.u):this.inviteClientRenderer(),this.existingClientRenderer()))))),react.createElement("br",null))),existingBusinessList=Store.a.businessStore.businessListDetail.length-1,subscriptionComponent=react.createElement("div",{style:{marginTop:40}},react.createElement("div",{style:{width:"100%",height:"100%",paddingTop:30}},react.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},react.createElement("div",{className:"paymentTier ".concat("ai-aider-subscription-advisor-free"===productId||"ai-aider-subscription-advisor-beta"===productId?"":"paymentTierGray")},react.createElement("div",{className:"tierName"},"ai-aider-subscription-advisor-beta"===productId?"Beta User":"Trial"),react.createElement("div",{className:"band ".concat("ai-aider-subscription-advisor-free"===productId||"ai-aider-subscription-advisor-beta"===productId?"":"bandGray")},"FREE"),this.renderTierInfo(product,productId,"ai-aider-subscription-advisor-free"===productId||"ai-aider-subscription-advisor-beta"===productId,"Your first 5 clients are free",existingBusinessList)),react.createElement("div",{className:"paymentTier ".concat("ai-aider-subscription-advisor-metered"===productId&&existingBusinessList<99?"":"paymentTierGray")},react.createElement("div",{className:"tierName"},"Tier 1"),react.createElement("div",{className:"band ".concat(existingBusinessList<99&&"ai-aider-subscription-advisor-metered"===productId?"":"bandGray")},"$9.99 / Client"),this.renderTierInfo(product,productId,existingBusinessList<99&&"ai-aider-subscription-advisor-metered"===productId,"Up to 99 clients",existingBusinessList)),react.createElement("div",{className:"paymentTier ".concat(existingBusinessList<249&&existingBusinessList>99&&"ai-aider-subscription-advisor-metered"!==productId?"":"paymentTierGray")},react.createElement("div",{className:"tierName"},"Tier 2"),react.createElement("div",{className:"band ".concat(existingBusinessList<249&&existingBusinessList>99&&"ai-aider-subscription-advisor-metered"!==productId?"":"bandGray")},"$7.99 / Client"),this.renderTierInfo(product,productId,existingBusinessList<249&&existingBusinessList>99&&"ai-aider-subscription-advisor-metered"===productId,"Connect 100 clients to unlock this tier",existingBusinessList)),react.createElement("div",{className:"paymentTier ".concat(existingBusinessList>249&&"ai-aider-subscription-advisor-metered"!==productId?"":"paymentTierGray")},react.createElement("div",{className:"tierName"},"Tier 3"),react.createElement("div",{className:"band ".concat(existingBusinessList>249&&"ai-aider-subscription-advisor-metered"!==productId?"":"bandGray")},"$5.99 / Client"),this.renderTierInfo(product,productId,existingBusinessList>249&&"ai-aider-subscription-advisor-metered"!==productId,"Connect 250 clients to unlock this tier",existingBusinessList))),react.createElement("p",{style:{marginTop:30,display:"flex",justifyContent:"center",color:"#4264ea",fontSize:12}},"*Subscription price is a monthly fee charged directly to the credit card used to activate your practice's subscription. ",react.createElement("br",null),"practice_user"===Store.a.businessStore.activeUser.roleKey?"*Contact the practice administrator to see monthly cost.":"")));return react.createElement("div",{id:"clientModal",className:"client-invite-modal-container-advisor ".concat(isFirstTime?"faded":"")},react.createElement(lib.CardPanel,{className:"client-card no-padding"},isFirstTime?react.createElement("div",{style:{width:"100%",height:60}}):react.createElement("div",{style:{width:"100%",height:60}},react.createElement("div",null,react.createElement("div",{onClick:function onClick(){_this6.setState({selectedClass:"invitation"})},className:"inviteTab",style:{backgroundColor:"invitation"===this.state.selectedClass?"#fff":"#f1f1f1",color:"invitation"===this.state.selectedClass?"#4264ea":"#dbdbdb",borderRadius:"10px 0px 0px 0px"}},react.createElement("div",{style:{display:"inline",position:"relative"}},react.createElement("i",{className:"material-icons",style:{fontSize:28,position:"absolute",top:2}},"account_box"))," ",react.createElement("span",{style:{marginLeft:40}},"Advisors")),react.createElement("div",{className:"inviteTab",onClick:function onClick(){_this6.setState({selectedClass:"permissions"})},style:{borderRadius:"0px 10px 0px 0px",float:"right",backgroundColor:"permissions"===this.state.selectedClass?"#fff":"#f1f1f1",color:"permissions"===this.state.selectedClass?"#4264ea":"#dbdbdb"}},react.createElement("div",{style:{display:"inline",position:"relative"}},react.createElement("i",{className:"material-icons",style:{fontSize:28,position:"absolute",top:2}},"lock"))," ",react.createElement("span",{style:{marginLeft:40}},"Permissions")),react.createElement("div",{className:"inviteTab",onClick:function onClick(){_this6.setState({selectedClass:"subscriptions"})},style:{float:"right",backgroundColor:"subscriptions"===this.state.selectedClass||"confirm"===this.state.selectedClass?"#fff":"#f1f1f1",color:"subscriptions"===this.state.selectedClass||"confirm"===this.state.selectedClass?"#4264ea":"#dbdbdb"}},react.createElement("div",{style:{display:"inline",position:"relative"}},react.createElement("i",{className:"material-icons",style:{fontSize:28,position:"absolute",top:2}},"account_balance_wallet"))," ",react.createElement("span",{style:{marginLeft:40}},"Subscriptions")))),react.createElement("div",{style:{height:"65%"}},"invitation"===this.state.selectedClass&&invitationComponent,("subscriptions"===this.state.selectedClass||"confirm"===this.state.selectedClass)&&subscriptionComponent,"permissions"===this.state.selectedClass&&permissionManagement),"confirm"===this.state.selectedClass?react.createElement("div",{className:"fadedshort"},react.createElement("div",{style:{justifyContent:"center",display:"flex"}},react.createElement("p",{style:{fontSize:18,color:"#4264ea"}}," Please confirm that you want to cancel your subscription")),react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement("div",{style:{marginRight:75},onClick:function onClick(){"ai-aider-subscription-advisor-beta"!=productId&&"ai-aider-subscription-advisor-free"!=productId&&(_this6.setState({selectedClass:"subscriptions"}),Store.a.businessStore.deleteSubscription())},className:"actionButton ".concat("ai-aider-subscription-advisor-beta"!=productId&&"ai-aider-subscription-advisor-free"!=productId?"":"disabledButton")},"Yes")," ",react.createElement("div",{onClick:function onClick(){_this6.setState({selectedClass:"subscriptions"})},className:"actionButton"},"No"))):react.createElement("div",{style:{display:"flex",justifyContent:"center"}},"permissions"===this.state.selectedClass?react.createElement("div",{style:{float:"left",marginRight:75},onClick:function onClick(e){_this6.setState({selectedAdvisor:null,accessArray:[]})},className:"otherAction"},"Reset"):"subscriptions"===this.state.selectedClass?react.createElement("div",{style:{marginRight:75},onClick:function onClick(){"practice_user"===Store.a.businessStore.activeUser.roleKey||_this6.setState({selectedClass:"confirm"})},className:"otherAction ".concat("practice_user"===Store.a.businessStore.activeUser.roleKey?"disabledButton":"")},"Cancel Subscription"):null,react.createElement("div",{style:{marginTop:"invitation"===this.state.selectedClass?130:0},onClick:function onClick(e){"invitation"===_this6.state.selectedClass||"subscriptions"===_this6.state.selectedClass?Store.a.authStore.renderAdvisorsModal(!1):"permissions"===_this6.state.selectedClass&&(_this6.state.selectedAdvisor&&(Store.a.businessStore.addAdvisorToBusiness(Store.a.authStore.links,_this6.state.accessArray,_this6.state.selectedAdvisor),Store.a.businessStore.removeAdvisorFromBusiness(Store.a.authStore.links,_this6.state.accessArray,_this6.state.selectedAdvisor,Store.a.businessStore.businessListData)),Store.a.authStore.renderAdvisorsModal(!1))},className:"otherAction"},"invitation"===this.state.selectedClass||"subscriptions"===this.state.selectedClass?"Close":"Save and Close"))))}}]),AdvisorModal}(react.Component),modals_AdvisorModal=Object(mobxreact_esm.b)(AdvisorModal_AdvisorModal);try{AdvisorModal_AdvisorModal.displayName="AdvisorModal",AdvisorModal_AdvisorModal.__docgenInfo={description:"",displayName:"AdvisorModal",props:{inviteAdvisor:{defaultValue:null,description:"",name:"inviteAdvisor",required:!0,type:{name:"any"}},resendInvite:{defaultValue:null,description:"",name:"resendInvite",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/modals/AdvisorModal.tsx#AdvisorModal"]={docgenInfo:AdvisorModal_AdvisorModal.__docgenInfo,name:"AdvisorModal",path:"src/entities/modals/AdvisorModal.tsx#AdvisorModal"})}catch(__react_docgen_typescript_loader_error){}var paymentModal=__webpack_require__(237),react_stripe_umd=__webpack_require__(142),userPaymentModal=__webpack_require__(238),fallbackPaymentModal_FallbackPaymentModal=function(_React$Component){Object(inherits.a)(FallbackPaymentModal,_React$Component);var _super=Object(createSuper.a)(FallbackPaymentModal);function FallbackPaymentModal(props){var _this;Object(classCallCheck.a)(this,FallbackPaymentModal),(_this=_super.call(this,props)).handleFeedbackFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState((function(prevState){var feedbackFormFields=prevState.feedbackFormFields;return feedbackFormFields[name]=value,{feedbackFormFields:feedbackFormFields}}))},_this.handlePromoInput=function(event){_this.state.promo.length<12&&_this.setState({promo:event.target.value.toUpperCase()})};return _this.state={category:"",feedbackFormFields:{feedback:""},promo:""},_this}return Object(createClass.a)(FallbackPaymentModal,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){console.log("....",Object(mobx_module.toJS)(Store.a.authStore.practiceUser));this.props.store;return react.createElement("div",{id:"FallbackPaymentModal",className:"payment-modal-container"},react.createElement(lib.CardPanel,{className:"feedback-card aiderBlue"},react.createElement("div",{style:{width:"100%",height:10}},react.createElement("div",{onClick:function onClick(){},className:"grey-hover",style:{position:"absolute",top:20,right:20,float:"right",fontSize:20,fontWeight:900,color:"#505050",cursor:"pointer",paddingTop:0,paddingRight:5}})),react.createElement("div",{className:"feedback-holder",style:{padding:10,height:0}}),react.createElement("h2",{style:{color:"#4264ea",fontSize:32,textAlign:"center",marginBottom:30}},"You have reached the limit of your free usage."),react.createElement("div",{style:{backgroundColor:"#4264ea"}},react.createElement("div",{style:{height:180,width:"75%",display:"inline-table",marginLeft:500}},react.createElement(lib.CardPanel,{className:"promo leftMargin userPositionPromo"},react.createElement("div",{style:{padding:10,textAlign:"center"}},react.createElement("p",{style:{fontSize:24,fontWeight:900}},"Tier 1"),react.createElement("span",null),react.createElement("p",{style:{fontSize:24}},"    $9.99 / client / month"),"up to 99 Clients"))),react.createElement("div",{style:{justifyContent:"center",display:"flex",marginTop:30,position:"absolute",top:175}},react.createElement("div",{style:{height:350,width:"90%"}},react.createElement("div",{style:{width:"90%",display:"inline-block",height:220,marginLeft:35}},react.createElement(lib.CardPanel,{className:"creditCard userPositionCard"},react.createElement("h3",{style:{color:"#4264ea",textAlign:"center",marginBottom:20,fontSize:18}},"Contact your Practice Admin to upgrade your subscription and connect more clients.")),react.createElement("br",null)),react.createElement("div",{className:"paymentButton",onClick:function onClick(e){return window.location.href=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_SSO_REDIRECT_URL},style:{width:420,backgroundColor:"#4264ea",fontWeight:600,borderRadius:12,color:"white",height:60,textAlign:"center",paddingTop:10,cursor:"pointer",border:"2px solid white",marginTop:30,marginLeft:255,fontSize:22}},"Okay"))),react.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:190,color:"#4264ea"}},react.createElement("div",{style:{position:"relative"}},react.createElement("div",{style:{color:"#4264ea",whiteSpace:"nowrap",position:"absolute",top:10,left:-250}},"Want to connect even more clients?"," ",react.createElement(external_link.a,{href:"https://www.aider.ai/",newWindow:!0},react.createElement("b",{style:{color:"#00e0e1",cursor:"pointer"}},"Head over here"))," to check out our pricing"))))))}}]),FallbackPaymentModal}(react.Component),fallbackPaymentModal=Object(mobxreact_esm.b)(fallbackPaymentModal_FallbackPaymentModal);try{fallbackPaymentModal_FallbackPaymentModal.displayName="FallbackPaymentModal",fallbackPaymentModal_FallbackPaymentModal.__docgenInfo={description:"",displayName:"FallbackPaymentModal",props:{store:{defaultValue:null,description:"",name:"store",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/entities/fallbackPaymentModal.tsx#FallbackPaymentModal"]={docgenInfo:fallbackPaymentModal_FallbackPaymentModal.__docgenInfo,name:"FallbackPaymentModal",path:"src/entities/fallbackPaymentModal.tsx#FallbackPaymentModal"})}catch(__react_docgen_typescript_loader_error){}var _class,react_toasts_lib=__webpack_require__(304),urlHelper=__webpack_require__(73),AdvisoryPortal_AdvisoryPortal=Object(mobxreact_esm.a)("authStore","businessStore","conversationStore")(_class=Object(mobxreact_esm.b)(_class=function(_React$Component){Object(inherits.a)(AdvisoryPortal,_React$Component);var _initiateConnection,_super=Object(createSuper.a)(AdvisoryPortal);function AdvisoryPortal(props,state){var _this;Object(classCallCheck.a)(this,AdvisoryPortal),(_this=_super.call(this,props)).closeModal=void 0;return _this.closeModal=components.n.bind(Object(assertThisInitialized.a)(_this)),_this.state={loading:!0,clientModalVisible:!1,editClientModalVisible:!1,editClientFields:{},infoModalVisible:!1,metadataModalVisible:!1,actionModalVisible:!1,actionType:null,feedbackModalVisible:!1,feedbackElementId:null,messageId:null,messageToGiveFeedback:"",feedbackType:null,metaData:null,metadataApps:null,selectedBusinessName:null},_this}return Object(createClass.a)(AdvisoryPortal,[{key:"setSelectedBusinessName",value:function setSelectedBusinessName(name){this.setState({selectedBusinessName:name})}},{key:"fetchBusinessDetailedData",value:function fetchBusinessDetailedData(businessId,fields){Store.a.advisorChatStore.setBusinessSelected(!0),this.setState({editClientFields:fields})}},{key:"startConversation",value:function startConversation(query){var _this2=this;this.props.authStore.Intercom("trackEvent","submitted-question_or_answer",{});var businessId=this.props.businessStore.selectedBusinessId;console.log("_id",businessId);"".concat(this.props.businessStore.selectedBusinessAccessToken);var tokens=Store.a.businessStore.tokenCache.find((function(registry){return registry.id===businessId}));if(new Date(1e3*parseInt(tokens.expiresAt))<new Date)return Object(network.g)(this.props.authStore.links,tokens.tokens).then((function(updatedTokens){return _this2.props.authStore.refreshBusinessTokens(updatedTokens,businessId),_this2.props.conversationStore.currentConversation.conversationId?_this2.props.conversationStore.continueConversationAction(query,_this2.props.authStore.links,updatedTokens.access_token,_this2.props.conversationStore.currentConversation.conversationId):_this2.props.conversationStore.startConversationAction(query,_this2.props.authStore.links,updatedTokens.access_token)}));this.props.conversationStore.currentConversation.conversationId?this.props.conversationStore.continueConversationAction(query,this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.conversationStore.currentConversation.conversationId):this.props.conversationStore.startConversationAction(query,this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken)}},{key:"getActiveConversation",value:function getActiveConversation(query){this.props.authStore.links&&this.props.businessStore.selectedBusinessAccessToken&&this.props.conversationStore.getActiveConversation(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken)}},{key:"resumeActiveConversationFromMessage",value:function resumeActiveConversationFromMessage(conversationId,messageId){this.props.conversationStore.resumeActiveConversationFromMessage(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,conversationId,messageId)}},{key:"getProactiveMessages",value:function getProactiveMessages(){this.props.authStore.links&&this.props.businessStore.selectedBusinessAccessToken&&this.props.conversationStore.getProactiveMessages(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.businessStore.selectedBusinessId)}},{key:"scheduleMessage",value:function scheduleMessage(conversationId,messageId,timestamp){this.props.conversationStore.scheduleMessage(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,conversationId,messageId,timestamp)}},{key:"viewMetadata",value:function viewMetadata(metaData,answer,id){var metaDataSources=[];if(metaData.datasources){var _metaData$datasources=metaData.datasources[0],ospKey=_metaData$datasources.ospKey,appKey=_metaData$datasources.appKey;Store.a.authStore.apps.map((function(app){if(app.ospKey==ospKey&&app.appKey==appKey)return metaDataSources.push(app)})),this.setState({metaData:metaData,messageToGiveFeedback:answer,metadataApps:metaDataSources})}else this.setState({metaData:metaData,messageToGiveFeedback:answer,metadataApps:[]});this.renderMetadataModal()}},{key:"selectMessageInput",value:function selectMessageInput(){this.props.authStore.Intercom("trackEvent","access-conversation",{})}},{key:"provideFeedback",value:function provideFeedback(messageId,vote,elementId,answer){this.props.authStore.Intercom("trackEvent","selected-vote_message_".concat(vote),{}),this.props.conversationStore.provideFeedback(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.conversationStore.currentConversation.conversationId,messageId,vote),"down"===vote&&this.renderFeedbackModal(elementId,messageId,answer,vote)}},{key:"renderFeedbackModal",value:function renderFeedbackModal(id,messageId,answer,type){return this.setState({feedbackModalVisible:!0,feedbackElementId:id,messageId:messageId,messageToGiveFeedback:answer,feedbackType:type})}},{key:"loadPreviousMessagesWithTimestamp",value:function loadPreviousMessagesWithTimestamp(timestamp){this.props.conversationStore.getPreviousMessagesFromTimestamp(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.conversationStore.currentConversation.conversationId,timestamp)}},{key:"loadPreviousAdvisorMessagesWithTimestamp",value:function loadPreviousAdvisorMessagesWithTimestamp(timestamp,message){Store.a.advisorChatStore.loadPreviousMessages()}},{key:"renderClientModal",value:function renderClientModal(id){return this.setState({clientModalVisible:!0})}},{key:"renderEditClientModal",value:function renderEditClientModal(id,fields){return this.setState({editClientModalVisible:!0,editClientFields:fields})}},{key:"renderMetadataModal",value:function renderMetadataModal(){return this.setState({metadataModalVisible:!0})}},{key:"renderActionCentreModal",value:function renderActionCentreModal(type){if("reconciliation"===type||"taxdates"===type||"cashflow"===type||"income-tax"===type||"direct-message"===type||"provisional-estimate"===type||"gst-pr"===type||"manage-messages"===type)return"manage-messages"===type&&Store.a.conversationStore.getManagedFeed(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.businessStore.selectedBusinessId),this.setState({actionModalVisible:!0,actionType:type})}},{key:"submitFeedback",value:function submitFeedback(fields,category,type){var _this3=this,messageId=this.state.messageId;this.props.conversationStore.provideFeedbackOnAnswer(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.conversationStore.currentConversation.conversationId,messageId,fields,category,type).then((function(){return _this3.setState({feedbackModalVisible:!1,feedbackElementId:null,messageId:null,messageToGiveFeedback:null,feedbackType:null})}))}},{key:"addClient",value:function addClient(id){return this.setState({clientModalVisible:!1})}},{key:"inviteUser",value:function inviteUser(fields){this.setState({clientModalVisible:!0}),this.props.businessStore.setBusinessFirstTimeSetup(!1),this.props.businessStore.shouldInviteUser(!1),console.log(Object(mobx_module.toJS)(this.props.businessStore.selectedBusinessAccessToken),"!!"),this.props.businessStore.inviteUser(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.businessStore.selectedBusinessId,fields)}},{key:"inviteAdvisor",value:function inviteAdvisor(fields){this.props.businessStore.inviteAdvisor(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.businessStore.selectedBusinessId,fields)}},{key:"editConfig",value:function editConfig(fields){return Store.a.businessStore.configureBusinessModalOpen&&(Store.a.businessStore.shouldConfigureBusiness(!1),Store.a.businessStore.shouldInviteUser(!0)),this.props.businessStore.editBusinessConfiguration(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.businessStore.selectedBusinessId,fields,this.props.businessStore.selectedBusinessData.name),this.setState({editClientModalVisible:!1})}},{key:"disconnectBusiness",value:function disconnectBusiness(){Store.a.businessStore.configureBusinessModalOpen&&Store.a.businessStore.shouldConfigureBusiness(!1),console.log("disconnect"),Store.a.businessStore.renderDisconnectConfirmation(!0),this.setState({editClientModalVisible:!1})}},{key:"reconnectBusiness",value:function reconnectBusiness(){Store.a.authStore.setTakeMeToXero("reconnect"),this.setState({editClientModalVisible:!1})}},{key:"editClient",value:function editClient(fields){this.setState({editClientModalVisible:!1}),this.props.businessStore.editBusinessConfiguration(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.businessStore.selectedBusinessId,fields,this.props.businessStore.selectedBusinessData.name)}},{key:"editClientFirstTime",value:function editClientFirstTime(fields){Store.a.businessStore.isFirstTimeClientSetup&&this.props.businessStore.editBusinessConfiguration(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,this.props.businessStore.selectedBusinessId,fields,this.props.businessStore.selectedBusinessData.name)}},{key:"editUser",value:function editUser(fields){return this.props.businessStore.editUserDetails(this.props.authStore.links,this.props.authStore.access_token,fields,this.props.authStore.user.uid)}},{key:"resendInvite",value:function resendInvite(invitationId,businessId){this.props.businessStore.resendInvite(this.props.authStore.links,this.props.businessStore.selectedBusinessAccessToken,invitationId,businessId)}},{key:"resendInviteAdvisor",value:function resendInviteAdvisor(invitationId,businessId){this.props.businessStore.resendInviteAsAdvisor(this.props.authStore.links,this.props.authStore.access_token,invitationId,Store.a.businessStore.practiceId.id)}},{key:"updateInfo",value:function updateInfo(fields,cc,email,software){var key=Store.a.authStore.config.osp.google.googlePlaces.apiKey;return this.props.businessStore.updateInfo(this.props.authStore.links,this.props.authStore.access_token,null,fields,key,software),this.setState({infoModalVisible:!1})}},{key:"triggerAutoComplete",value:function triggerAutoComplete(data){var key=Store.a.authStore.config.osp.google.googlePlaces.apiKey;Store.a.businessStore.autoCompletePlacesAction(data,key)}},{key:"initiateConnection",value:(_initiateConnection=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var token,canConnect,_this4=this;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return Store.a.authStore.setTakeMeToXero(!1),token=this.props.authStore.access_token,_context.next=4,this.props.authStore.initiateConnection(token);case 4:if("PAYMENT_REQUIRED_EXCEPTION"!==(canConnect=_context.sent).code){_context.next=9;break}Store.a.businessStore.initiateSubscription().then((function(canInitiate){if(canInitiate)return _this4.props.authStore.hasExceededQuota(!0)})),_context.next=10;break;case 9:return _context.abrupt("return",canConnect);case 10:case"end":return _context.stop()}}),_callee,this)}))),function initiateConnection(){return _initiateConnection.apply(this,arguments)})},{key:"closeHeaderDropdown",value:function closeHeaderDropdown(){this.props.authStore.triggerDropdownOpen(!1)}},{key:"closeActionModal",value:function closeActionModal(){this.setState({actionModalVisible:!1})}},{key:"closeMetadataModal",value:function closeMetadataModal(){this.setState({metadataModalVisible:!1})}},{key:"renderAdvisorModalRedirect",value:function renderAdvisorModalRedirect(redirectType){this.setState({clientModalVisible:!1}),Store.a.authStore.renderAdvisorsModal(!0,redirectType)}},{key:"InjectedCheckoutForm",value:function InjectedCheckoutForm(){return react.createElement(react_stripe_umd.ElementsConsumer,null,(function(_ref){var stripe=_ref.stripe,elements=_ref.elements;return react.createElement(paymentModal.a,{stripe:stripe,elements:elements})}))}},{key:"renderVisibleModals",value:function renderVisibleModals(doneLoading){return react.createElement("div",{style:{display:"flex",justifyContent:"center"}},Store.a.businessStore.confirmationWindowIsRendered&&!this.props.authStore.loading&&react.createElement(components.e,{invitedUserDetails:Store.a.businessStore.invitedUserDetails}),Store.a.businessStore.clientConfirmationWindowIsRendered&&!this.props.authStore.loading&&components.m,!Store.a.businessStore.inviteUserModalOpen&&Store.a.conversationStore.messageSentWindowIsRendered&&!this.props.authStore.loading&&react.createElement(components.d,{type:Store.a.conversationStore.recipientType,recipients:Store.a.conversationStore.recipientCount}),(this.state.clientModalVisible||Store.a.businessStore.inviteUserModalOpen)&&!this.props.authStore.loading&&!doneLoading&&react.createElement(clientModal,{renderAdvisorModalRedirect:this.renderAdvisorModalRedirect.bind(this),store:Store.a.businessStore,inviteUser:this.inviteUser.bind(this),resendInvite:this.resendInvite.bind(this),invitationList:this.props.businessStore.businessInvitationList}),(this.state.editClientModalVisible||Store.a.businessStore.configureBusinessModalOpen)&&!this.props.authStore.loading&&!doneLoading&&react.createElement(editClientModal,{store:Store.a.businessStore,editClient:this.editClient.bind(this),editConfig:this.editConfig.bind(this),isFirstTimeClientSetup:Store.a.businessStore.isFirstTimeClientSetup,editClientFirstTime:this.editClientFirstTime.bind(this),disconnectBusiness:this.disconnectBusiness.bind(this),reconnectBusiness:this.reconnectBusiness.bind(this),editClientFields:this.state.editClientFields}),this.state.metadataModalVisible&&react.createElement(metadataModal_MetadataModal,{store:Store.a.businessStore,metadata:this.state.metaData,answer:this.state.messageToGiveFeedback,metadataApps:this.state.metadataApps,closeModal:this.closeMetadataModal.bind(this)}),!this.props.authStore.loading&&Store.a.businessStore.setUpBusinessModalOpen&&react.createElement(userInfoModal,{store:Store.a.businessStore,updateInfo:this.updateInfo.bind(this),triggerAutoComplete:this.triggerAutoComplete.bind(this)}),!doneLoading&&this.state.actionModalVisible&&react.createElement(actionCentreModal,{store:Store.a.conversationStore,rootStore:Store.a,type:this.state.actionType,closeActionModal:this.closeActionModal.bind(this)}),this.state.feedbackModalVisible&&react.createElement(feedbackModal_FeedbackModal,{type:this.state.feedbackType,feedbackId:this.state.feedbackElementId,messageId:this.state.messageId,messageToGiveFeedback:this.state.messageToGiveFeedback,submitFeedback:this.submitFeedback.bind(this)}),this.props.authStore.editUserModalVisible&&this.props.authStore.practiceUser&&react.createElement(editUserModal,{store:Store.a.businessStore,editUser:this.editUser.bind(this),editUserFields:this.props.authStore.practiceUser}),this.props.authStore.editAdvisorsModalVisible&&react.createElement(modals_AdvisorModal,{resendInvite:this.resendInviteAdvisor.bind(this),inviteAdvisor:this.inviteAdvisor.bind(this)}),this.props.authStore.exceededQuota&&"practice_admin"===Store.a.businessStore.activeUser.roleKey&&this.InjectedCheckoutForm(),this.props.authStore.exceededQuota&&"practice_user"===Store.a.businessStore.activeUser.roleKey&&react.createElement(userPaymentModal.a,null),this.props.authStore.paymentConfirmation&&react.createElement(components.f,null),this.props.businessStore.disconnectConfirmation&&react.createElement(components.b,null),this.props.authStore.subscriptionCancellation&&react.createElement(components.j,{reason:this.props.authStore.subscriptionCancellation}),this.props.authStore.subscriptionCreationError&&react.createElement(components.k,null),this.props.authStore.takeMeToXero&&react.createElement(components.l,{initiateConnection:this.initiateConnection.bind(this),reconnectConnection:this.reconnectBusiness.bind(this),reconnection:"reconnect"===this.props.authStore.takeMeToXero}),this.props.businessStore.duplicateBusinessName&&react.createElement(components.g,{businessName:this.props.businessStore.duplicateBusinessName}),this.props.businessStore.reconnectedConnectionName&&react.createElement(components.i,{businessName:this.props.businessStore.reconnectedConnectionName}))}},{key:"renderComponents",value:function renderComponents(){var _this5=this,redirect=js_cookie_default.a.get("redirect"),isLoading=this.props.authStore.loading,isInitializing="true"===redirect||"redirect-xero"===redirect||isLoading,isRedirecting=Object(urlHelper.a)("connectionId");console.log("____________",isRedirecting);var hasBusinessLoaded="Loading..."!==this.props.businessStore.selectedBusinessData.name,doneLoading=(!isInitializing&&Store.a.authStore.practiceUser&&!this.props.authStore.loading&&Store.a.authStore.shallowLoading||!hasBusinessLoaded&&Store.a.authStore.practiceUser)&&!Store.a.businessStore.setUpBusinessModalOpen&&!isInitializing;return this.props.authStore.user||this.props.authStore.loading||Store.a.authStore.persistPracticeUser||"true"===js_cookie_default.a.get("inviteAdvisors")||isRedirecting||js_cookie_default.a.get("unclaimedConnection")?this.props.authStore.fallbackPaymentModal?react.createElement("div",{style:{height:"100%"}},react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(fallbackPaymentModal,null))):this.props.authStore.renderAppAccountKickback?react.createElement("div",{style:{height:"100%"},onClick:function onClick(e){_this5.closeModal(e)}}," ",react.createElement("div",{style:{display:"flex",justifyContent:"center"}},react.createElement(components.a,null))):react.createElement("div",{style:{height:"100%"},onClick:function onClick(e){_this5.closeModal(e)}},!isInitializing&&Store.a.authStore.practiceUser&&!this.props.authStore.loading&&Store.a.authStore.shallowLoading&&!Store.a.businessStore.setUpBusinessModalOpen&&!isInitializing&&react.createElement("div",null,react.createElement(components.h,{hasBusinessLoaded:hasBusinessLoaded})),this.renderVisibleModals(doneLoading),this.props.authStore.loading||isInitializing||!Store.a.authStore.practiceUser?react.createElement("div",null,components.p):react.createElement("div",{style:{minWidth:1388,overflowX:"auto",backgroundColor:"#fff",height:"100%",opacity:Store.a.authStore.paymentConfirmation||this.props.businessStore.reconnectedConnectionName||this.props.businessStore.duplicateBusinessName||Store.a.businessStore.disconnectConfirmation||Store.a.authStore.exceededQuota||Store.a.authStore.editAdvisorsModalVisible||this.state.feedbackModalVisible||this.state.metadataModalVisible||this.state.clientModalVisible||this.state.editClientModalVisible||this.props.authStore.editUserModalVisible||Store.a.businessStore.setUpBusinessModalOpen||Store.a.businessStore.inviteUserModalOpen||Store.a.businessStore.configureBusinessModalOpen||Store.a.businessStore.confirmationWindowIsRendered||Store.a.conversationStore.messageSentWindowIsRendered||this.state.actionModalVisible||Store.a.authStore.takeMeToXero?.2:this.props.authStore.renderAppAccountKickback?0:1}},react.createElement(lib.Row,{className:"no-padding heading"},react.createElement("div",{style:{width:"33.3%",borderBottom:"0.5px solid #f1f1f1"},className:"no-padding z-depth-3"},react.createElement(lib.CardPanel,{className:"no-padding"},react.createElement("div",{className:"myClientsHeader"},react.createElement("div",{style:{height:60,fontSize:28,float:"left",marginTop:15,marginLeft:15,fontWeight:550,color:"#aaaaaa"}},react.createElement("span",{style:{float:"left"}},"My Clients",react.createElement("div",{id:"add",style:{float:"right",width:40,marginLeft:30},onClick:function onClick(){Store.a.authStore.setTakeMeToXero(!0)},className:"actionButton addBusiness blue-hover"},"+"))),react.createElement("div",{style:{width:180,float:"right",display:"flex",marginTop:50,fontSize:14,fontWeight:600,color:"#b7b7b7"}})))),react.createElement("div",{style:{width:"66.6%"},className:"no-padding"},react.createElement(components_BusinessHeader,{store:this.props.businessStore,selectedBusinessName:this.state.selectedBusinessName}))),react.createElement(lib.Row,{className:"no-padding fullHeight noZ"},react.createElement("div",{style:{width:"33.3%",backgroundColor:"#f5f4fa",zIndex:2},className:"no-padding noZ"},react.createElement(lib.CardPanel,{className:"tablePanel no-padding noZ"},react.createElement(components_BusinessNavigator,{setSelectedBusinessName:this.setSelectedBusinessName.bind(this),clientSyncsForCurrentBusiness:Store.a.businessStore.clientSyncsForCurrentBusiness,selectedConversationMessages:Store.a.advisorChatStore.selectedConversationsMessages,reconnectBusiness:this.reconnectBusiness.bind(this),singleChat:Store.a.advisorChatStore.singleChat,store:this.props.businessStore,fetchBusinessDetailedData:this.fetchBusinessDetailedData.bind(this),renderClientModal:this.renderClientModal.bind(this),renderEditClientModal:this.renderEditClientModal.bind(this),initiateConnection:this.initiateConnection.bind(this)}))),react.createElement("div",{className:"backgroundCard"},react.createElement(components_NotificationManager,{selectedChatHasUpdated:Store.a.advisorChatStore.singleChat,notificationsLoading:this.props.conversationStore.notificationsLoading,selectedBusinessId:this.props.businessStore.selectedBusinessId,selectedBusinessAccessToken:this.props.businessStore.selectedBusinessAccessToken||null,currentProactiveMessages:this.props.conversationStore.currentProactiveMessages,currentFavoritedMessages:this.props.conversationStore.currentFavoritedMessages,readProactiveMessages:this.props.conversationStore.readProactiveMessages,getProactiveMessages:this.getProactiveMessages.bind(this),selectedConversationMessages:Store.a.advisorChatStore.selectedConversationsMessages,viewMetadata:this.viewMetadata.bind(this),store:this.props.businessStore,conversationStore:this.props.conversationStore,usersList:this.props.businessStore.selectedBusinessUsers,selectedConversationName:Store.a.advisorChatStore.selectedConversationName,loadPreviousMessagesWithTimestamp:this.loadPreviousAdvisorMessagesWithTimestamp.bind(this)})),react.createElement("div",{className:"backgroundCard"},react.createElement(components_MessagingPanel,{loadPreviousMessagesWithTimestamp:this.loadPreviousMessagesWithTimestamp.bind(this),selectMessageInput:this.selectMessageInput.bind(this),renderFeedbackModal:this.renderFeedbackModal.bind(this),viewMetadata:this.viewMetadata.bind(this),resumeActiveConversationFromMessage:this.resumeActiveConversationFromMessage.bind(this),selectedBusinessId:this.props.businessStore.selectedBusinessId,selectedBusinessAccessToken:this.props.businessStore.selectedBusinessAccessToken||null,store:this.props.conversationStore,currentConversation:this.props.conversationStore.currentConversation,startConversation:this.startConversation.bind(this),getActiveConversation:this.getActiveConversation.bind(this),provideFeedback:this.provideFeedback.bind(this),scheduleMessage:this.scheduleMessage.bind(this),renderActionCentreModal:this.renderActionCentreModal.bind(this),messagesLoading:this.props.conversationStore.messagesLoading,responseLoading:this.props.conversationStore.responseLoading}))),react.createElement(react_toasts_lib.ToastsContainer,{store:react_toasts_lib.ToastsStore,position:react_toasts_lib.ToastsContainerPosition.BOTTOM_RIGHT}))):react.createElement("div",{style:{display:"flex",justifyContent:"center",backgroundColor:"#f5f4fa"}},react.createElement(lib.Row,{className:"no-padding"},react.createElement("div",null,react.createElement(components_SignInForm,{signInError:this.props.authStore.signInError,signInHandler:this.props.authStore.handleSignIn,signUpUsingEmail:this.props.authStore.signUpUsingEmail,signUpUsingSocial:this.props.authStore.signUpUsingSocial}))))}},{key:"render",value:function render(){return react.createElement("div",{className:"scrollbar"},this.renderComponents())}}]),AdvisoryPortal}(react.Component))||_class)||_class;try{AdvisoryPortal_AdvisoryPortal.displayName="AdvisoryPortal",AdvisoryPortal_AdvisoryPortal.__docgenInfo={description:"",displayName:"AdvisoryPortal",props:{conversationStore:{defaultValue:null,description:"",name:"conversationStore",required:!1,type:{name:"any"}},authStore:{defaultValue:null,description:"",name:"authStore",required:!1,type:{name:"any"}},businessStore:{defaultValue:null,description:"",name:"businessStore",required:!1,type:{name:"any"}},rootStore:{defaultValue:null,description:"",name:"rootStore",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AdvisoryPortal.tsx#AdvisoryPortal"]={docgenInfo:AdvisoryPortal_AdvisoryPortal.__docgenInfo,name:"AdvisoryPortal",path:"src/components/AdvisoryPortal.tsx#AdvisoryPortal"})}catch(__react_docgen_typescript_loader_error){}},693:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAIFQTFRF////5+fn0NDQz8/P5ubm/Pz81NTUzc3N39/f4uLi4eHh09PT+/v78fHxzs7O2NjY4ODg8PDw5eXlzMzM7e3t4+Pj2dnZ9/f30dHR/f397u7u3d3d7Ozs3t7e6enp/v7+9fX119fX9vb26Ojo0tLS5OTk+Pj4+fn53Nzc29vb7+/vaUXu/QAAALRJREFUeJyd0NsSgiAQBmA8EpJorngsLcuy3v8BI6TxsF75XyyzfMzODoTsi2U7y9juCJ5PD2yewOFHLaGIVkNietJnAslKUir1mYlwJXmhp5TCTJ0lEp6qFdRoWwZnVS/QIEl/r1ufXpHkgpeq3DwkZUY7cocYASEBWKSGB5NS9k9z9+pVxzgMSsZYRhrTT/I2MiAxG3YUCRSVgk8BWAB4xKdmIYvsE1fQzfTqj7az8WX/fAFb/BhH11AktQAAAABJRU5ErkJggg=="},694:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAMAAADJYP15AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAHtQTFRF////7Ozs19fXysnJzs3N4eHh+fn52NfXyMfH7e3t5uXly8rK8PDw/f395+bm8fHx6OfnzczM29ra7+7u9PT05eXl3Nzc397e/Pz84N/f1NPT29vb4+Pj3d3d09LS9fX1zMvL8/Pz4eDg/Pv70dDQ0NDQ9fT08vLy9vb2W7jj+AAAAI1JREFUeJy1kMkSgjAQRAcZJAIiIFtEFtn0/79QKwmBpIKefKeud0i6B+A71sFG56hblzBOqvW4Jb6qyUKwtWepPbMOzY9cFB0JG2sFE2btq148zfLCKne2/ialN0Qxo0CseMc7/4z5muXmc7HW59W6BwAVNSlAvwzB1pGjBhhlnmQi8zp7y/Ov+mVieAOYFQ7+kfinXAAAAABJRU5ErkJggg=="},695:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAMAAAAm/38fAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAG9QTFRF////+vr67+/v9fX1/Pv78PDw7u3tyMfHysnJ397ey8rK+fn5zs7O29vb6+vr+/v75uXl5OTk9/f3+Pj44eHh4uLi9fT06Ojo29ra1NTU9PT09vb2/v7+/Pz82NfX4+Pj3t7e8vLy7Ozs4N/f8fHxSkYFGAAAAJxJREFUeJy9kskSgjAQBV+AOCABiYhCFPf//0aHyVKcPNKnTnUqWwWAyoQcTKE9BfuOSoEqIKfAvgZMA6GlA7oYqAXI+nCkHqcU7DahHHw4Uw2bwgU8GAUzAToFx1Ov/ubuxp5ZT4a/9MIsrsTVos6EZTse3IOP7FPacOb3imi+R6LHY33crcOwDs/oBnilsHwN9xbkZ+iqWfh88QP51xEFFpTUdgAAAABJRU5ErkJggg=="},696:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAAB+ElEQVRIS2NkwAPO3/j5H588ITk5CRYGYQFmRpg6OANZ47q93/5v2Ped4cnLv4TMIyhvbcDGkBPJwyAuzMKIYdnbD3//h5a8JWgIKQoCHDkY8qL5MC27eufX/9yOD2Cz6tL5GPh5sXqeKLu65n9mePn2H4OpNitDZ6EgpmWgeCru+Qg2rLeEn8FQg51s2wq73v+/eOs3g74aK0N/2Yiy7OGz3/8T696DgxHkfXKAhAgTg7kuO8PG/d8Z8Abjz1///me0vGd4+IyyZM/JzsigJs+C3zKQT+4//f1/66EfDHcf/yHHY2ALQEBWgpnh8Yu/uBMIWaajaVqw8cv/RZu/wUVxpkZqWAYyA9lCrJZtOfTt/5v3/8i2T1iAicFEi41BUpQFnDdhFnrbcTAUx0FLkEfPf/9Pa3rP8AsS1BSD1GBuhkhPbrCFoEICVjCABWA5nWJboAbIiDMzLGoVxih5GJGLJ1BZ6GDKQXbxhBxP++aI4beM0rJw1DJ4lbJp/w+Gg2d/UpRWnMzYGWrS+PHHmb0xO8UWiQszMeRF8TBY6mMmNJTUCPOOrREbg6I0C8m+ExdmZvC04cSZmjEsM9JkZWjN5WdgZ2MiOwvgciWKZeoKLGCLhPgRzS+SvYdHA9j1FRM+/AfVP0mBXAyyEqxU9xHMfpoZjM2DAILuDioswg2PAAAAAElFTkSuQmCC"},697:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAABpklEQVRIS+2WsYrCQBCG/61ESwsjiIUgqRQFG42g2IiINj6AoE+hb2DlK9iIDyBJl8rCF7CxsTFYWAhWFjZ7TO4S1jOJutHqbosQZnfm239ndhKGgME550Hzz8wxxpizzn0RHc/nM18ulzgcDs/EC1xTqVRQr9dB0DsYqZlMJqEhYoBut4tcLhcMG41GoaCz2QzH4xGlUgnNZvMxzEv9szvQdZ1vNhvk83l0Op2/CiP5MiOZTNp5MgwDD49xsVhgv9/LcFyfaDSKbDYbDKPVVP7b7Ra73U4KSGpopNNpWJblXyBS0X85WZbF5/O5a/WtxnfAKIYI9IRdLhd+Op2kefF4HLFYzG5NIrDdbqNQKHwbKUfT6RTX61UaJDoOh0MoiuLGduC2wbnpbyEBSKVS6Pf7d32XiY2XemGY9iTmaTwe/8PksvfyMa7Xa6xWKznaj1ej0UC5XA7OWa1WCw1SFAWDwcCz0G6q0ZFTrVaRyWReVpdIJBCJRDz/ayjYHaxYLKLVaoW6An67vIGpqoper/cRkK2MHqZpcvr+aJr2MZALezk5kg5f16gPKjJndhIAAAAASUVORK5CYII="},698:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMsAAADnCAYAAACwlaJ+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMDoxMDoxMyAxNDozMDo0NM7t8HAAABtPSURBVHhe7Z15eOxVecdPJrMmkz25CMgiCLK4A24VBKy27vVRRESFtmqrWKlUkIoW26e2WKsgKipuT/v4VP9oaxW0glKruFURUTaRVZarN9vNcrNPkr6fM/lhiNkzM7/zm/l+eEKWmYTc4Xzue97zvuccJ4QQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEKJ+uOjOuxaXPhRCrAWi9Nx732LT0udCiFVAlE+k0/5jySLEGiwXBSSLEKuwUhSQLEKsYDVRQLIIsYy1RAHJIsQS64kCkkUIYyNRQLKIhmczooBkEQ3NZkUBySIalq2IApJFNCRbFQUki2g4tiMKSBbRUGxXFJAsomHYiSggWURDsFNRQLKIuqcSooBkEXVNpUQBySLqlkqKApJF1CWVFgUki6g7qiEKSBZRV1RLFJAsom6opiggWURdUG1RQLKIxFMLUUCyiERTK1FAsojEUktRQLKIRFJrUUCyiMQRhyggWUSiiEsUkCwiMcQpCkgWkQjiFgUkiwieEEQBySKCJhRRQLKIYAlJFJAsIkhCEwUkiwiOEEUBySKCIlRRQLKIYAhZFJAsIghCFwUki4idJIgCkkXESlJEAckiYiNJooBkEbGQNFFAsoiak0RRQLKImpJUUUCyiJqRZFFAsoiakHRRQLKIqlMPooBkEVWlXkQBySKqRj2JAs1L74WoKHGKckw266YWF1yhKeVmFheXvrpzJIuoOHGKcmax6C7s7HQn5vPuofmS27uw4GYr5ItkERUlTlFe3NLiPtbb6w5IN7tH2dt+zc3uq5NTJktlbJEsomLEnaOc1trqjs1lbfrV5PL21plKuQPt9/nO9LQrLT1nJ0gWURHiFiXFW5Nzh2UyrtskyZosrfa+qznlo8z3p2fcfPmp20ayiB0TtyjARGvSplv3W56yy6ZfHfbWshRdiDStZtJNs7M7EkayiB0RgigREybLyPyC+7ZNu3pNlkfZW9FkQR6izIIZ9Yu5uW0LI1nEtglJlIgpE2Z8YcFdY4l9n02/OkwSxEGYnEUXkv27TJiFpedvBckitkWIokA0oJmWfXtq2stSMEn2b077ZL9E9LEQ81Cp5J+zFSSL2DKhinJMNuOOymTdU3M5n+D/Zn7e/XBmxqXt45y9HWy/86GZjJ+u3To7599vBckitkSoorywpcVd3NXl/qjY6k4t5F2XTbuYbg3blIzEHubMjUPSGdfc5Nx/TUyYWBk/beNPM+efsT6SRWyaUEV5eWur+2Rfr0/ou+2NQU3e8i2bhg3Ze7jNxBm0SPOgTb+uGBt3r29rc2fb27PzeXe7PcbzN6rFSBaxKUIV5WWtLe7TfX0WLZrcPosS95gMV1ty/+8WOX5sUzBgkDPhetBk+ZlFGSr97+rqdAdl0j7xZ8p23fT0hkk/tRwh1iVUUYgK/9Dd7UV4wCT55tSUO2tPv3v/yIj7ng1+JHh1seheapHnJHsu0Fi5qznlsqmUPepceyrl+kwYFgI2Qi36Yl1CFaXNBvfZJsK5nR2++Egi/+aBQbfHosfRloscZ0n+SyzqHGkfU2t5sDTvPjw66q62iPPUfM69vaPD5ywI9br+AXfjUhRaD03DxJqEKgoQTV5lshxvAx+usajyK4suR2cz7m+6ut0LWgruySYMUlHBp5J/dDbr7rfn3GpTMaZou+dL7oMjo+7mpQWAjZAsYlVCFgXIL04uFNyxJgBLw4fa73qkifK29g63f7rZS0JyjwgZe5zpFhHoVybITTOzPn9hlWxwaQFgM0gW8TuEKkqPDXgGPq33c5Z70P91hCXpfJ12lsNtWoU41Fdum51zbx8a9tMzWvYfa48Rje6Ym3PfmJreVsuLZBGPIFRRnmMJOsk6S76HmSDjiwvuFyZEtinlo0gx1eSmTaBv2XTsyxOT7rKxMd8HRuJ+ln1Pj4lFzeXrk1N+GraZuspKlOCLhwlVFJaHP9DT4zL2ccEGP/WSyy1Z/+K+CS8DSTzVeWolV09O+iIjxUa2F7+to92vhHWaLPfOldzr+/vdL02i7SBZhCdUUSg4XtnX66dQZBfDS1OsT1rk+IZFEWBFa/luyGdY0k/95ILOTv+e/S1ElTP29LufbGLVay0kiwhWlBe0tLjPmijkKeQht9v06QMWUeYWFn1xEXl8N7E9Tp0FXmNTtdOLrX7pmD9Rkz02tiTKDTsQBZSzNDihinKY/U4XWWSgU5jKPEvDFw7vdffYFIpyIjnIO+3x09uK7pRC3iJPk+s3oU4zUZ5TKLgWiyaj9n27TaI/GRjcUUSJUGRpYEIVBY6xPOQzu/r8KhZR40024IkmT7I8hOhxvEWOx1qiT9ShKv9Qad5dMjLiW+/fYnkKyf6dJtbXLIe53aZtlUCRpUEJWRQ4zpLyky1i0BhJPpKyv9ePMHEu7u5yT8hl3UH2u6MAUYdlY1bDWFL+ukWgqyYmffJ/i0mCRJVCsjQgoYsSQe/X/iYA7SqPM1GeZzkMy8TUWO6bK7nLxkbdlOUvUW8X0YQtxXQRQ6WOQIqQLA1GqKIgAUMbMVjdInlva075aIEI5CDEiJtnZn2T5IXDw/Z+xk/DXmIS8f5um4J9eWLCr3xVVpMykqWBCFUUCo6/b0n5GZaLnNxScD2p8rD8kckwYZGjyf650yLJtZNT7jPj4+5Lloc8ZMk807JzLT9hEQA5brGc5ip7bLzCESVCCX6DEKooFBwv6e72h+LxxgIwBcXbbOB/ft8+d50JQvM8q18UExmwnAV2RDrjLuzq9AsAbPqi2/i1/f2+76taSJYGIFRRKDh+aqngyIpWyT7gGAmmYvP2+W4T4JK9I+4/bGoV8Sr7HjqNmXqR2NMcyXnGlaijbISmYXVOqKIw7fq4iUJ+wlbfH9lAv3R0zA0tzPtCI5GE1nq6hv9vSQJWx97c3uGLleQ45DB0DbMfpdqigHZK1jGhikLS/kqLEAy+CRvsFAzPGxp2V1kEIe/gcfg3m4ZdbgLBo+3PwQaurM2FKD7SDElH8Zk1iCgRmobVKaGKAuQYTL+eaYk9bSznDQ65a6em/Kksn+3r882S/2KJ/AUmENA1TDGSA77vmKMwmXN3W/7C5q1K1lE2QpGlDglZFP52RhamX+Qq/JYs+0aikOQvF+WJJgm7Hl9ZbPUHTXDXyhct4rDTsZaigGSpM0IXBUFGberFZyTxiHJOR7v73JIo/2oiRKIwOKngPzOX848t2j/0esWFZKkjQhWF6PB8S+j/vL3db/+laPhDm1Ix7Ck40iHM1Osrk5PunUuiAHvm393Z6aPQgE3XWBaOc8BqNaxOCFWUF9nU6Z96ut2LLKE/IZ9zx2Yz/vA7osxR9jGHdjMIuS6CFhaKjax00ft1QWeHF4bqPbnNB0dH/fu4kCx1QKiiRBu3umywE0GAFa2fzs666y2y5JtSvgqPHOxJ4dKh51l+wlnFb7SpGQVHCpAjFon+dGDQr5TFiWRJOKGK8tJlJ0VSC7l1bs59fnyf+2+balFTAZZ8aWXhoAkKkdRVOIXl0Ezaf0702buw6M7s39kOx0ohWRJMqKI83SIDe+YZ+EM2bfra5JRP2iku3rkiQUcYOodJ/Ik+pP60u7AvhfaWvxgcdDfGHFEiVGdJKKGK0mrR4RXFot/lyBTqZ5aU07NF79ZaMA3jdEgq9ywr24/wJ7ew6YuD80LgDTZt1GpYAglVFKDH6wmWuLelym32t86tHxVeXWz1YpGz/O/UlK/af3ps3K+WhSTK+48+yjIskShCFgXKuUZZFGfisGmLo1NX4xk2XTvTotArTJjXtxW9MEzBIAxNfisKH0uWBBGqKNFV2r027QIaI5GF0yHZ6cghEoes8nuzbPwUEwaZ6Dim/hISy0UBJfgJIVRRTikUfGR4XbHNPckGPsu7iPOkXNbfvlW0yUtnqnxc0a/nS76dHrjS7j1dXT5HYR8910XcbHlKpbcCb5eVooBkSQChisLGrct6et3Tcnl3LHJYhBheXHA/mJ5xu9LN/oSWjOUu7HykhhLVVJ5iz/0ry1Oo5jNt212ad/88OuJrMCGwmiggWQInVFHKG7foEC43RHJiPUcPcaU2B0YQP+jnQggvjEUQtv8SiTh4gukZS8sUHP94YMAfcxQCa4kCkiVgQhXlD1sK/g5HchKWd38wM+PeNbzXXTc17buBiQ9EC/bC0yi5X3Pa30GPPLzxNc5fQTA2boVQcIT1RAHJEiihisJJke+2XIMowUnDtK1wUiQ3A7MpK4LVLIRh+bd/fsGvJCEM9Za75ko++rxjaMi3voTARqLAug+KeAhVFGAT1icsqpB/sJ+ECjubstbiWfmcb5Ck4MiUjYSf27eYfq1XqKwlmxEFtHQcGCGLwmiij4uVLfKUR2fSTax8rQVHG53X0ekvSWXKReLPyfdcKJQ0UUCyBETIogCCcCJ9JMieUmmRyHFg+ndn80SS37PHnl3Iu8dlM35PS2hsRRSQLIEQpyh0+24WLgz6jU2/WO1ihevEQsGduHTM6nIoQrLyxVf3LSy6+wJpXYnYqiigBD8A4hTluTagj89lfYsKf3NSIFwPplOctPJE+x4iDNX7/e1zvmvUpGCF7DCbqnEAHsvGSHXH7Jz70sTEhj+7VmxHFJAsMROnKFzd8KHeHve0XM79QUuLO6A57SMEB2wzyGmKXI2sJer723OZfrEMzJTrcJtm0evFzsa3dXZ4YWi5R663Dw35c4hDYLuigGSJkThF4UrsS3q6Hz54m5t/2aH4BPs6rSpc60AKzpZe8hS04Q2JWAVj4HAiJDcBIwzVe67U5mfQ60U9hRUv6ihJWh5eD8kSE3GKwmgpHxSRdY+xCMDnvM2bDexBOdS+xttJlpzTsnJwJu3aUs1+IxfTLPbLR5eYzppCXPnA13mD0fkF92t7LpX5pBQcN4NkiYE4RYkgfyAKsM+dpWAG/z1zJd8iTxsK0YIEnkSd5x2VybpnmTwtTeXHOM7o5xYx7rbveWC+XHikmk8F/5qpSXfpyKh/PAQqIQrs+AeIrRGCKMAKGMn9xV1d7hCLHNQ9/m7vXmc5uo82p+bzPmL0WaRhusVAIZeha5hpGffNs5uRuglTM6ZonAPG40X72UlP5ldDkaWGhCIKkG6nTQGihs877PN9NtA/O77P3WTRgX4viocTNuinFssrYEQUuoa5U57ve7zlN8/M57xUv7DnRu0uYcSTyooCkqVGhCRKxIzFA0585Dq6vElANCBasHLFoXa0pVw9OenO6ejwQpTscRpbiDBEJhL5gy0KkdyT9N9lzyfKhEClRQHJUgNCFAVYGiYv4bA7VsVY+SKaRKtXpPBf2G+XP62FexzJST4yOub3nZDbcDcKtRae/fGxsUc0UsZJNUQByVJlQhUlAgHY2nukRYhomZhkny2+iPI8y2sQhe7hD5sonxsf90k8NwHztQdMnH8cGfGfh0C1RIGq/FBRJnRRgGT8tW1t7n093U2WoC/eP1dyZw8MuIu6Oh8hCvekcPJKBH/LEkdYOUOwEKimKCBZqkQSRIkgqnBfCiex0LICPc3lK7RXEyVEqi0KaBpWBZIkCpB30N/15FzW74lvSTVJlFVQ13GFSZooQLX9ptkZn6D7esnS1yTKI5EsFSSJokTcagk6W32BkXe7fc6pkCFTS1FAslSIJIsC95konM5C8yPR5ehsuScsVGotCihnqQChisJBdgc2pzd1AVC5ZaXJ75mn9sIopN/r9tnZh49UDYU4RAFFlh0SqigvaWlx1x94YNNfdnb4o4s2wucpltBzSgunQlJwJOGnWh8ScYkCkmUHhCrK4fY7/Vl7O+0pi6cWCn7/+3oHS0Sw9Zc7VKJNX+yCpB0mFOIUBTQN2yYh5yg0ST7bplN0D/Mb0gB5y9zshtMxvq811eTf88x3De/17S8hELcooMiyDUJP5vmf+r3pGdpX/FFFHIi32in2q8HlqB8aGXVn9w+4Gy3KhEAIooBk2SKhiwJszLrZEvMbp2cWKS7SFXxKvuALjpuBGku9N0VuB03DtkDcomxlxHBQBPefPN2mYzRITrlFv+eEuxqTQkiigGTZJHGKQkPj0/J5t29xwe9/X/53PiezHEcLvX3M16P7Tfi41ySh/Z7TV3z7/eycP60+rPWt1QlNFJAsmyBOUV5dLLor+nr9Mi6XAw2U5n37PDK8uKXFfX6/XeXTWLJZd2g64zdtRa32JOcn5PJ+nz2nrcyYJUQXok7IhCgKSJYNiFMUBvk7Ojv9Hvny/fDlwyX2mDDsiz+vs8M9xn43plucbn+ERRGWijn/CzmolcAxJhJbgY/JZZuOO/+C97KHJVRCFQUkyzrEnaOw5HuA/ff3Szf7mgdbednGizCD8ws+YUca3vM1Pu5NNftbuJ5hucrB9r2shCETspz7nve8l63EXLcdWlUeQhYFJMsaxC0KcFjE/fMlP/2iOMiqViQMHVzXT8/4BkiKiSX7nD3xizbUeI6/W94iyn72Z+D7iTQF+xpnFX9/Zib4y05DRLKsQgiiRNDYeE9pblVhWBbmMqEvT07687uovjPaqI7w25O7IAlRB/h3yj7ebQKGci0dJEEUkCwrCEmUCISZXFxwrU0cs5p6hDAZG2L0dDH4Sd5vtCnWd6am/cpZeapWPimSkdhs78l9qKPcas/nGru4SYooIFmWEaIowKrX6cWiP26I1S7OJV4uTJT0D5hUrHQN2nO+a1O020weTmrhAD3yGp5PHkTEocK/274eJ0kSBSTLEqGKwvXZn9nV51fG6Aj+0uSEH/Arp2SRMOQiUTcXH/M9nANGbnNiIV/Oa+yxPRZ1kCmue+eTJgpIFiNUUU7I5dwHe3r8Id7TNqbZnPWFffv8dGu1HGa5MMtjBjUXIgtLyAfZn7Ng0zlOn/yK5TpxxJYkigINL0uoonDBKaeuPL+l4E+LvM0iw/lDQ36atV7SHwkzaM9Zvt6FQDyPm7p4DvtUaH25p8Y1l6SKAg0tS6iivNSmXh/o7vFLv+xanLFk/d3De90ty1pV1hOmZE/66YpaCuLsak67wzLUbdIuY4n/p8bHLAeq3RJykkWBhpUl5KnXR3p7/UHcj0o3++kT+1D+c2LSPbgiIV9NGJaKWfG6177OffPLudumb5wHhkR/a/LdYELViqSLAg3Zoh+qKPxGJNwcHsGhREyX+B9EQn+8SbTaSLvXhLhybMx9c2rKBCn5C4loa1kpChBnON7o/KHhde+urzT1IAo0XGQJVRRgQoQcEzasDyJS2Bs1EqrxHBTJY6xgrSSKMFRTOAm//61vfS91lLWo5d0p9SIKNJQsoYpCroEojCgKhQz+YctTlgtDnxerWOsJw4HeX7cIw3QrBOpJFGgYWUIVhb0oXAxErkLDY//CvK+8rxSGqdhGwrDXhbcQqDdRoCFkCVUUjit6X0+3e6G9P7mQ91c/cJsWLfTIspuayRaFCYF6FAXqXpZQRXl5a6v79K4+LwE5CS0oXChESz0buX5j0eVBk4aLg1YTxtl72lh4PCTqVRSoa1niFIX/6loVjJdZJLnSRCE6EEF+bQOe5WH2rCAN7w/JZLwIawnDlO0OS+KJLqHoUs+iQN3KEqcopyztmedOxujAuohTbLp1eW+vy6eavCTc9nvO4KC/5bc3XY4sLBnTw7WWMGzyogLPMjAdxCFQ76JAXcoSpyivKxbd5X29vgeLTVnccRLpcoAN9De1t/sziOFHMzPuouG9fjrV25zyj7HyxfPXEoYlYgS82L6P445CoBFEgbqTJVZR2oru0t4ef1TqQ/Ml920bRMgSQZX9ze0dfqswX3/DwICffhFtPtfX5wVh9yMHTRxuklCNXy4MHcQUIa+bmv6dan5cNIoowLS5bohdlJ4e/zE9XN+cnHI/toG/fBKGAFToJ2zKRT2EtSzukf8o0zITg5aW0/bssanZpJcCSP4fb993RrHV50AUFLU8HA91E1lCEuWrNui56nrloKYdhcHP++stOrAf/vzOTt9hfLvJ8VH7HnIQ7nU8yXIeItC8/YyMfQ/78a81ARvlstMQqYvIEpooV9igZ3Avp8+mYESPK8fH3ccsMf+WRRYq92zqIk8ZWijnJeyr39+ee3gm7XOZ79qg/KX93L8eGvb1lxBoRFEg8ZElCaKcajkJBUh2KrJxizyF+HCGfT9bhslxWBnjoAk6hrlThVUxWl8+Nb7PXTo6qtPsAyDRssQpymuLRXeZJfPAQL5qDVGeXyi4s9vafRGStnu297LNFzhJkm5iloJpxyfKnG65CTcHM117wKZmn7Sfeb+JFAKNLAokdhoWpyjPNQH+vrvbf0y9gxPn/8cG0mqinNXW5k6yiMLgv8MG/7U2/QJ+8x/PzLgb7I39JUQXchdWzNhGTG5ywfBwzXcyrkWjiwKJjCxxigL0b52Qz/kpE4OcijofP2ARgNNXIBKFqRfHqFJ8PLO/3z8GTMOQhGSeXIYjjshdyFOYkr1xYND9xEQKAYlSJnGyxC0KEE0QwB+4bZIQCdj+220DHmGeYjKtFOWMPb8VJYLi4pDJcYPlO2zW+r4NyuvsuZ8YH/c5UAhIlN+SqBchBFGAv2GONSFeafnFaZaLMHXiaw/ZwP+5RYOWppSPPOuJAhzqzbnEBfvfcI09j6kXkSqu44lWIlEeSWIiSyiiAEOZg+zYd8JfN5xgH0UYln0PzZRPsV9PFKLSOR0dvj3myEzWDdvP46ijMDIUibIaiZAlJFEi1hIGSTgmlWOGzh0afjiHWQ6ivKW93be5cEkqXDE2Hsy9KRJldYKXJURRItYShiVGaiRRDrNcmEgUNnuxL4Vu47P6B5SjJICgZQlZlIj1pmTLk36EWU2U19g0jeXjEJAo6xOsLEkQJWIzwvCcMyw/WSkKtZYQkCgbE6QsSRIlYj1huAD16GzWPTmb81V8iZJMgpMliaJErCUMBUuE6bQII1GSS1CyJFmUiNWEyZksVOfZby9RkkswstSDKBHLheEo7+5Us78yglUvJfPJJYgXq55EWQ5LyOxjic4C48TIEJAo2yP2F6xeRQkVibJ9Yn3RJEptkSg7I7YXTqLUFomyc2J58SRKbZEolaHmL6BEqS0SpXLU9EWUKLVFolSWmr2QEqW2SJTKU5MXU6LUFolSHar+gkqU2iJRqkdVX1SJUlskSnWp2gsrUWqLRKk+VXlxJUptkSi1oeIvsESpLRKldlT0RZYotUWi1JaKvdASpbZIlNpTkRdbotQWiRIPO37BJUptkShx4dz/A4RbuCbWTmOFAAAAAElFTkSuQmCC"},699:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAYAAABCIB6VAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAFqADAAQAAAABAAAAFQAAAAB4SWuwAAACfElEQVQ4EZ2VzWsTURDAZ17WFgui1CRIiyfP0tKcPOghSe3Fj1NBEKuHZFvBgx7Ui7Fb0IvUgwgeNvkDRAQPQoslzaVXvYnooYcequhuGipGW2zeOLPpls26SZvMYd+8+fjtvHnv7SKwEBGOT1dnSOtrhDAKBIfFfjDBL8axeGppHuvBeCXQrOm+0Vq/IIAz3UEZhZDExs9+HzpxZ3NQdIHeFCjrWwqxQEotxBqxP37gfmO/Ovr9rY2/JS5jOgUuzGJ1zpDli1Gg5WJiXvReJJ1zZkmT5eUq/Kq8nvJMKu0FKDmZvPOQCZboCtTjip0oKb+n3SxfAL4IlPdpTuYCLZfiD5q6H7E7XjRpYNKivpA5ctoOKsEqmCHQOjlr1XXn0/gtZyjoC+teTyMq9eNawKkh2GLHJrfnVGObFi7dc474gcEx3FN/+cH4FrBloTZQXQDEGsNHftXotWnSoTA0qqcT07WR+ga4mZz7TOJbwGJYsuOfkegyImwz/PwqObbYRTr1dAcapwmoj0CnJNaQR1iWS8mVbP7HFAG+5OpuZE1njTgjqtJwrj//r2LfUS4mX6GCuzLXmma7gUpOW7A4l+3EU/4WPBddJHhOm5b2z8hWBMPPDSdur6y7J7ktH8vFeCHo66R3rFgS5aScHY5PVrqASp5CwA1RAP56n7um3vpk+E6rJWKm9XHPiliVkSumD6JohJyMvUjzrOOU5CKAxzMQ1RPe8SyfpRk+pyeQYJFize/rgV5CenCV3OvMGJOLZSAUd18AkM6797nyR/yP2ncz275MbivQ1UoxubgHFiVtOmO8jCt8DUb5FzXQFhByeHuE8F4qfWcnvvnufz7OGIctvnLZAAAAAElFTkSuQmCC"},700:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAB8CAYAAABDsqPQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAGYktHRAD/AP8A/6C9p5MAABJcSURBVHhe7Z0JlFTllcf/tVd1dVVXb3SzN4sBmkWWZnEizIAyaqKDuCbOkOiZJCYTMTGZwBjNJMeNMWYx4sxxMvGoMYhmPGaMCjqJQAwjCkgrshMbpJtuuqH32tf57qPoA01Vdy33fa+qu37n1ClecSjqvfd/997vft93ry4mQIE+AsEYGlsjaDoVOfsuXt3uKPyBGHzi5fGJd38MkUgMdpseRiNQZNXBatGhutyAqgr92XfxmjzWCIddF//m/GPYi+N0RxT1h4LiFcLeoyG0tkfAeUVGVRowdYIRU2pMmD3FhElCMLo80cuwEwedLYlgy04/6g+GcLItEv8bOVS49Fg0yyxeFsytNcFiyl2lDBtxkEXYuiuAN97xo/m0XEEkw27TYel8C5ZfZsWMyab4p7nDkBYHndn7Hwfx4ptefCysRS5D7mbFUhuuEkKhOCYXGJLioDN6b28Qz7/uweHj4fin+UGpU4+bltuwcpkNFrO2LmfIiWN7fQBPv+LBCTHayGdIJKuuK8J1S2zQ6+MfSmbIiKNFxBHrN7oVNzKUIHez+ovFmHmJ/Jgk78URCsfw4mYfNm72IhAach5SgYa+yxZY8M0vFKOkWJ4ZyWtxHG8O44H/7MGnzfntQlKlvESPNXc4UDfdHP9EXfJWHP+7w49fbHArmcvhBFmRzy+24p9uLVY9YM07cVAKm0TxByGO4cyUGiMevKtEsSZqkVfiaO+KYu3j3Th2Mr+Gp2oxokyPR+4uwYTR6iRG8kYcNBpZ8/PunMlu5go2iw73f82ppOS5yQtxUCLr+090o6s3Gv+kwPkYhGe5Z5UD11xujX/CQ86L46PDIdy3vluJNQokhwLVtWIkQ/M0XGiUe0uNhqYw/vU/CsJIBXrEf/xsL7btDsQ/yZ6cFQfFFhR8ur0FYaRKVHjddU/3KPNKHOSkONq7o0rw2SHeC6RHWAzkHniqBwcasp+FzjlxBEMx3CeCTxqdFMgMmkYggWQbwOdcQPr4b9x47U+++JE2RI1Az6go3NVReEtj8JVF4XOJp9ISQ9R09p3Qi6dUH9bBJH6upVcHW+fZl6NVD2eTXnyu7ZT7nKkm/PgeV8azujkljm27Anjwlz3xI7l4KqJoq42gsyaKntFRRA3xv8gUcVXt7XqUNugx4pABJY16cbHjfyeRL1xdhK/eaI8fpUfOiIPWcn79oU54ffJ+TtgaQ/OcCE7NiMBdpW58Y3brUP2xAWN2G2HtlmdRaIj70F0lGSXJckIcFGXfta5T2qotvzOKxkURNM8OIyJngrMPnTjXiqMG1PzZCMcpOSEfLWp+5oEyFNnSE2VOiON3W3x4cqM7fqQeEXMMxy8Po3FhRLgNbU+bXEzVPgMmbjNJsSTXL7Mpi4bSQXNx0HD19h90KJuF1KR1RhhHrwwjWKz5s3ABBjHinLjVhDG7jIpg1ILcy/p7XZg2IfUVZZoPZZ/6b7eqwqCRxf7rQ8or14RBRMS9Ovq3IdSvCijuTi3IBPzs126E08gQaCoOmjfZspMv3dufXjEU3fXVgGI1cp2ucVHs/kpQeVcLmo54693U18FoKo5nXvUoilaD9klR7PlSAD5X7lmLZASLYqj/hyBaRKCsFi+84U3Zemgmjr1HQqptNDo1K4K9twalj0Q4iOljOPj5EJrq1BHIqfZIytZDM3Fs2OSN/4mX1toIDl4bVC5y3iKCxyNXCYHMV0cgqVoPTcRB+Yzd+/n3l7RPjuCACDxjmjpLJoRAKFA9PYU/BiHrkcoaXE0u42/f4rcansoo9t2Q5xajHzEhkAMrAkpgzQ1tKB8M6eKgYeuOj3itBsUW+24I5WWMMRjKud1E8ROv6A8eCymjl4GQLo6tYujKvTPtyNVBxXIMVWjEdXQ5f/wxWGAqPUN69791Yf8nfKOUjglRfPj36uVKiDK9HgstFkwzGVFtMKAkPgfeEYniRCSMfcEQdgaDCKh8KS/daEH5J3zPs8uhx0uPlcOYZAZaqjho5vXL93ew5TZo3cXOr/nhLeM/BYcQwCp7Eb5kL8Z8i3lQE+sTJ/WGz4en3W685fPTjD079jN6LPilRZm84+Lh1clnbKW6lXc+CLAmvRoXhNmFQduDvuN0oGH0KPx7WZmwGIMLg7DpdLipqAibR4zArpHVuFxYGm5ozcnJebzuZdcAo0ap4thzkM+d0JxE4yLeCzXBaMQOcWN/WlqKiiyKYswzm/FOdRXWuVzsF/j44rBiMbkYKKUgTRy08JUz1mieG1bSzVyQhaAnvk7cWA5oEv5fSpx4ubICdpoSZYLOuXU63/paKqWZbL2uNHHsbwgpNT45oPE/uRQuZgtBvCncQXkW1iIZK4Wr2SS+28wokBMLeacddh9IbD2kiePDQ3y5ja7xEfhLeIRWadDjVfF0u1QQxjmWWC14QrgqLjwjYugdyReV0jxXIqSJY99f+J50mljjgoLOcRLK993pKMYdxZkt9E0EzSFx0dCksVtpPMUjDpo34ZpvWG614mZh9mXxqKsUTiYLRSvluWhqDSvls/ojRRxUfedMF88NJXN6bt9ItjzgKon/SQ7kwtY6nfGj7CC36ivluQ40Q3ui5WKxSREHFZjnym901PCIbL4IQhepkIsYjG87HX0Z1mzpGssXdyQqiCNHHIw1QbuZLsgtdnnu5HyKxKhlhc0WP8oOrmtBNCWoAS9FHJzVeLwVPBfkChFvaAWXMCljykV3r0YxR6+H5yQoM+h3Zu+fKJ9xKVOyKxMoEObIe/jKmXy1gHrK9EeKOLjKQVIAxrHKqy7F+RK1IGFMZhg+U7aUKzjXTBxeP88JhGw830PT7loz1cRTrtpbwSQOrdwKV9mmiInneyr02otjElPizcvkWqg1WX/yynJEmEaeasyhpAtXg6ZgEU88l+iSyLlKPNpgW0DD9T25ABWT4SCRp5UiDhPTY2II83xPb4xvCDhUMBouvrZyxME0r0VlljhoTGc38TCBCt32R4o4qO8qB0amdcQHQ7zrIYYC5gQdGKSIo4ypsj8VZeNgbzAIt7x11XnBiNKL75EUcVC/Mg7MQhx6Bo9A3mmLP/VSBMOByjKNxFHh4skrUOUbrhJJv/Wos5E7X6ksvfgeSRHHmCq+pJO9jecnv+z1ojVSCEzPQb1b+iNFHGMZxeFs5vnJtDvtZz298aMCIys0shxU4pDKHXLgPMnjVognentxjPZMDHPMJh1qEnR7kiIOYkoaVewGoqTJAEOQRyB+YT3uaG/HcE+JXTLOmHC/rDRxTJvAkwmj0UpZA9/P/pM/gPu7uuJHw5OpSe6NNHHUTmSaBBBUHuGLYYh13T14UriY4cqUmsT3Rp7lmGhk64NacVgvXEv8gIm7OzrxUHc326Tc730+7Aky/0iVmD5ZY8tBQc/sKTzWwxjQoXof04RNHBLFD7q6sfL0aZzKcoj7WE8PVradxufE61COp+onjzWiujyxJZYmDmL+DL51m6M/4HUt53jV60Ntc4tyg71pptg/Epbib1pbsaazSwlyKY+yrLUNR0K5OyL67Jzki2SkimPJXEvGjWH6U9yqRwVz7HGOzmhUucFjmk5itXA3lGpPVrUnKD7/HyGoG0+fwbyWU0qAez4tikBa8ZccHTIvnpv8gZUqjnKXHjMn8wWmk7aZVC0mTyKhQPUK8fSXNDbh0pYWxe3cLoa/t505g7lCDC7xOX32iteLZM7oZFwgDTkmkNEjDAN2s5YqDmLZAr79Iva2sw1uZECWY28wpFiJ59webPR4US/cCJV7SgVaQ0IuJ5cEsnT+wOsu5YtjoYVtfQcx+Y9mpQtSPkACWSqsUC5kZWlxz7V/PfDOO+niIGGQQLgweYGpm/hcldqcEMJYLgSi9Wq0xfMsqEywhuN8pIuDuH4pz17Rc1BgOnqPHPfCwSdCIM97PPEjbVi5bPB7oIk4KAhaOJN3O+Jn3jTBdUKT08kImU0A+0NzKTNSGBhodjVXXce7y10X1WHmyyKeac99gdDc0Kh6prmmDFbk3/a51K69ZleSeo3NncZrPSj+mPu8GfbTuSsQshi1vzfD0sNjOcxpTglNn2TC4rmpxXyaXkWPj3+ynEYuc4RAHC25JxDlt22wKO/2MzzicKZxnrSx/+s325X3VNDsCvZ6YjjyqTpDOrNXh3nPWVC9N3eCVFuHTrFq9E5QT1mydNlA5a7TcaNkMWqF5UgVzcRRfzioWn83gjZAkfmestnMtjgoU0o/NaDuWesFN5Lql1cdyC7uGL89dfGbjLq025ZrJw7GUtcDQRN0C58yK12gZUMCnbTFhNkbzAmtxPj/Myp9ZTOBgtqq/amL644VRRhVmd410EwcHySpmqsG1h49Zr1kxuwXLChplHPKpcf0mP8rC8a/a0za5YA2aU17TQTlaVrQ4jYdpv/OnPK80sxLTLjlqvRHh5p0pG7riOKLa9vjR/LprImgqS6C9kuobXn8QyYo10ItyNPJuVBN0cNXBxFK4f5VHTBg6uumlF0lZaT/64elqE6wunwwNBHH5u1+/OQ57Zflha0xtNZGFZFQs99MSyhRAEx96Ud+ZFCWEmRC0B5D8+yIIhR31YWmhhY3UROe0buMcKVp+f75yw5cc3lmk52aiOORX/Xg7ffV7a6ULlRrzF0dRU91DL7yqNLHhWqQhc0xpc8aCUcf1Smxg0mIwdapU24UuSkaeXA2yIkaYgiJ2JFqfpk9OuWVyfdfuciKe//RET9KH+nioP/tlu+1o6Ob8WoWuAiKMx77TokySskUOdHZeRxvDheEoTI0KvnRN5xZCYOQLo4PDhRqY6iJs1iPdd8qUZr7ZYt0cdQz9l0pcCHFRTo8vNrJtnFdqjgiwpvsPVqwHGrgsOvw6LddrJvHpIrjYEMIXp/0wdGQhyon/fx7rqTbGjNFqjhkZkWHC1XlBjy+xjXgKvJMkSoOztahBYBZnzFh/b0uZYuBGkgTB5W4PnQse3HQpqiJY4wpr0kYitC533pVEX7yXRfKmYrxJUJaEuzDQyF896eZlTqgeYG6WhPm1ZoxZ6pZCb7o+x59pkeZpxlOUCGcNbc7Ul7NlQ3SxPHe3iDuW98dPxoYu7gAs4UI5glB1AlBJDObHhHcrt/oxh92DI/KgHOmmnDPKodqbqQ/0sRBxfFXfb8DXb0XP+m0wWaaGIKRZSBBTJ1gSlhRNxnUI/8XG9wJv3soQImtb9xsx/LLrFLdqdS5lcPHw+Im9qK5LQKXU4+5cetAroLMZTaQFXlhkxevvO1DMDQ0hsskBJo8o3WfHBnPdJE+8aY2pzuj+M3rHmza7kc0jw0Jrcz/yg12TKnhH6KmypATxzmOngjjxc1ebK8PKH1T8wGyFItmmbHqWm1FcY6UxEE1KLb6A3g/GFCq3nRHY6gSQcF4o1FpZlfL1JJKDajZ8atbfdj0Z3/OxiQUgFP1gWuXWDF5nPaiOMeA4jgj7PLD3d14xu0Rgkh+Yalf2X0lTtxmt8vNqqUBxSHbdgWwVbzqxTA4UXtumZCVoCTWNZ+1YkmdBRau1k2MJBXHSx4v7uzoGFAU/akzm/FyZYViUXIZmt95f18Q2/cIa/hxkK0H3WA4inSYI2KJ+dPPvhIVo88lEorjQWEtftiVWWW9EQYDXqusxAIL71ZHtaB4pKEprGRvDx0T78dDSl/3wZ3twFDR1zFVRkwYbcCksUZcKqwEDdFzoL1cylwkjmeFC6GqvtlQIa7AzpHVmJDjFiQZ1Ae3tT2Kts4IzojRT1tHRMnEnm9hqOCgPxiD065DSbFeeTmLdcqQc3SVATUjjcjT0+/jAnHsC4WUomcUgGbLIosF71ZXIfc8aYFUucDIre3sYhEG8V4gUOhpkuf0iYOKoW3y+eJHPKzr6Yn/qUA+0icOKpXIDRVtzbXyigVSp08cb6vU80yt7y2gPn3iOEHhtwoUerjmL33iOKOSOAp91PKXPnGUqJSdKc2nrE+BC+i7c6MSdbpnYGSi/lAF8oI+cVxmUWdN4l+p9L0F1KdPHCuKeKsKE2SNaDKuQH7SJ46lViumM6/L+KbDUUif5zF94qDI4JFS19kDBshqfMuZeeGQAtrTJw7i72w23Okojh9lDk1G/rqiHHaZS6ULsHOBOIgnSktxpXAxmUJf+GRZGa7I4jsK5AYXicMsnvbNVSOwWsQL6VIs/i2tBOOwPgW0Z8A1pH/0+5VGeNSuaiBIYTcWFeFREbPk6wKfAhczoDgIWkG6IxBQWmrS6vOWcATd4p9U6fWoodXnNitWiFhlXEEUQwzg/wFqYihpReZ+SAAAAABJRU5ErkJggg=="},701:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAmCAMAAACbFsmhAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAN5QTFRF////x9H5iZ7yVHPsQmTqWXftlajz1dz6aYTue5Pw3OL7pLT1xM/42uH7UHDs/v7/gZjxprb17fD9XXrt6u79pbX1oLH00dn6vsn45ur85er8cYvvlqnz6+/9jqLysL72qLf1RGbq8fP9ZoLuc4zvtML39/j+6e39+/z/+fr+rr32hZvx4uf8k6bzxM744OX83eP72N/7SWrrobL109v60tv6WHbsd4/wz9f6ztf6bojvT2/rytP5ydP5TW3r7PD9wc34S2vrxdD5m630RmjqwMv4aIPu/f3/Q2Xq+Pr+9QZZfQAAAPlJREFUeJzt0tdSwlAUheEVs0FKsBCRKmJDIaDSm4AgFt7/hYwhxHPO7BAYbll3+ee7yOwE2H3akU6h8PFGEqHVojFfE6f/GT4mIRg6OeXRmYjonDVJyZDJIkNGdMGhlILYO1wqKM2hjIKyHMopiH1x5CVT4JEmoSseoSiYax8DlNbkJuNrgNvUnU3uHzYQZ+XHpyCy7ypatWBZVk1INfu5Xn1+8cKre0az4aWGuUrNlhta3nFCbTd1ul7rOSEmnFDvO2mgC037K0PxY4ze7DIeiWkyBd7lbz+bw5jJKQx8yIUWnwulfAERCtw3foLR8oCWMINX2eqn/AVdVx4YcjRQfAAAAABJRU5ErkJggg=="},703:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/cashflow-1.48a1d9ce.png"},704:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/cashflow-2.815a49cf.png"},705:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACGklEQVRYR8VXu07DMBQ9dpOGNt2QWGABiY2ZD4AF8QcgJnZeKwtiqsSCEDsT/AVih49gYkEIISGSKGkao+uSKE3zcFJHeMgQX/sc38fxNUONMRqNRRRFiCIBIQBBHwCMMTAGcM7AOYdpdpjqtkqGvj8SYRip7intDIPDsszK/UsNfD8UYTiuBZw1NowOLMsoxCmc8LxAkKt1DApNr9fNxcr96bp+HF4d+H95AvT71gzezI82wONTUKJmSUwR0On2Itdlw5EQ0JFwqvFKJ2ZCwHF8PRmnyMK2J/kgP03qXBEHr29jrK10ZsxjnZAE2jr943OAmwcPezsW9ncXZkiQFxjJaxCEqgdStovBaUERgW7XAGvD/WnwrU0TZwf9XOIUBqa79FTBiRGVJHPdQJTJ3vtnhEEfsHu80v11wJNbtCwBHS/C4cWPBL67HJSSqAueqGNVBRxefOPjS2B1mWN4bOeSaAouvVAVAqrj81sHjiewsW5geGRPhWIucGpkVJKQSJxcTUKxvWni9C+r5wFPklC1DLN1vbTIpcjQKCu1ssyVZVhHiNIk4o2bgtN6KUR1pfj63sXTy2iuk8fkpRQ3uYyIBI0ihasUjFTT2ug6Jn1QEaYyIlPX8cQL83fAKicnm9yGhCZUSlIVpMiusCWLF/xrU9omibyOWEpxkat0hqP2wyQmpSMxGz/N0p5Rlev0Gi2P02x42nie/wLs2EtInFe1hAAAAABJRU5ErkJggg=="},706:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/cashflow-1.48a1d9ce.png"},707:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/cashflow-2.815a49cf.png"},714:function(module,exports,__webpack_require__){__webpack_require__(715),__webpack_require__(886),__webpack_require__(887),__webpack_require__(1041),__webpack_require__(1258),__webpack_require__(1290),__webpack_require__(1295),__webpack_require__(1307),__webpack_require__(1309),__webpack_require__(1314),__webpack_require__(1316),module.exports=__webpack_require__(1318)},73:function(module,__webpack_exports__,__webpack_require__){"use strict";function getParameterByName(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var results=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)").exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null}function removeURLParameter(url,parameter){var urlparts=url.split("?");if(urlparts.length>=2){for(var prefix=encodeURIComponent(parameter)+"=",pars=urlparts[1].split(/[&;]/g),i=pars.length;i-- >0;)-1!==pars[i].lastIndexOf(prefix,0)&&pars.splice(i,1);return urlparts[0]+(pars.length>0?"?"+pars.join("&"):"")}return url}__webpack_require__.d(__webpack_exports__,"a",(function(){return getParameterByName})),__webpack_require__.d(__webpack_exports__,"b",(function(){return removeURLParameter}))},75:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAMAAABE+WOeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOFQTFRF////2N/7rbz2ip/ybojvWHbsRmjqQmTqUHDsY3/ufZXxn7D0ydP5+/v/0tv6kKTzVHPsRmfqgpjxxdD5xM/4cYrvZoHuu8f34eb8fJPwdY7w2+H7sb/2Q2Xqrr32kqbzkaXzg5nxYX7tfpXxSmvryNL5sL72bYfvUnHs9vj+ZYHu1Nz67fD9epLwssD2jqLym630orP1j6PztsP3oLH0wcz4+vv+y9T5TW3rd5Dw5On83+X7xtD4/P3+TGzro7T1ucX3ztf6hpzySWnr6+/9dI3vXHntT2/rS2vr0Nj6i6DypzRoewAAAZZJREFUeJyV1mdbwjAUBeDTAZfZlr1lOBFBHKDi3uP//yBb4ME2uYnlfDx9KSGkSQExhmnZiSRRKp3J5vLS5Wgc16NwCsWSRpcrJKdaU+h6g9FBmi2OtzsK7mdH5l219tMTeV/LifrbceED+sGs0g391BicqL2ZSM3MhNKpr71q3sU01v9qTE5UXnpuEfCpBNyJzYkc37tbeNf3HntlsMu1nv94sHxvHwdcb8Dkv/nQn7eUXJuweE9HQxjHUmvBVngqjHAyFksbCZUnmgCnQpVAUu1pCpxFmyQ0nOgcuIg2ET++FDOb4+o6cv/wpN3Ij/VwgdtBePzpsJfuf3eP3ENI2Mjoxv8ITCKFhayGPwHTaGMip+bPwItQGcgXFPp1gbd3ofPXJ4o8/5hjNBDLYP2XWG4Ds0+pDZ4vVBn+9Y0duV0+v6hx9x/8MOVqf0CTHZGc9f6DVjy+2d+4oTJp/62qXgwe2p+33v+3Pl/+OzK6Iteej522zDXnb6POcSjO90pZoYOI7w+e62j0Muv3k2TCtkxDuvoLwKREW+ajrQwAAAAASUVORK5CYII="},789:function(module,exports){},88:function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAMAAABE+WOeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOFQTFRF////2N/7rbz2ip/ybojvWHbsRmjqQmTqUHDsY3/ufZXxn7D0ydP5+/v/0tv6kKTzVHPsRmfqgpjxxdD5xM/4cYrvZoHuu8f34eb8fJPwdY7w2+H7sb/2Q2Xqrr32kqbzkaXzg5nxYX7tfpXxSmvryNL5sL72bYfvUnHs9vj+ZYHu1Nz67fD9epLwssD2jqLym630orP1j6PztsP3oLH0wcz4+vv+y9T5TW3rd5Dw5On83+X7xtD4/P3+TGzro7T1ucX3ztf6hpzySWnr6+/9dI3vXHntT2/rS2vr0Nj6i6DypzRoewAAAZZJREFUeJyV1mdbwjAUBeDTAZfZlr1lOBFBHKDi3uP//yBb4ME2uYnlfDx9KSGkSQExhmnZiSRRKp3J5vLS5Wgc16NwCsWSRpcrJKdaU+h6g9FBmi2OtzsK7mdH5l219tMTeV/LifrbceED+sGs0g391BicqL2ZSM3MhNKpr71q3sU01v9qTE5UXnpuEfCpBNyJzYkc37tbeNf3HntlsMu1nv94sHxvHwdcb8Dkv/nQn7eUXJuweE9HQxjHUmvBVngqjHAyFksbCZUnmgCnQpVAUu1pCpxFmyQ0nOgcuIg2ET++FDOb4+o6cv/wpN3Ij/VwgdtBePzpsJfuf3eP3ENI2Mjoxv8ITCKFhayGPwHTaGMip+bPwItQGcgXFPp1gbd3ofPXJ4o8/5hjNBDLYP2XWG4Ds0+pDZ4vVBn+9Y0duV0+v6hx9x/8MOVqf0CTHZGc9f6DVjy+2d+4oTJp/62qXgwe2p+33v+3Pl/+OzK6Iteej522zDXnb6POcSjO90pZoYOI7w+e62j0Muv3k2TCtkxDuvoLwKREW+ajrQwAAAAASUVORK5CYII="},887:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(213)}},[[714,1,2]]]);
//# sourceMappingURL=main.629ed5a48af7952208f7.bundle.js.map